{
  "name": "Google Meet議事録自動化システム - Group 4",
  "nodes": [
    {
      "id": "code_chunk_split",
      "type": "n8n-nodes-base.code",
      "name": "Code: チャンク分割",
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "// 文字起こしを20-30行ごとにチャンク分割し、前後6行のオーバーラップを追加\nconst lines = $input.all()[0].json.lines;\nconst chunkSize = 25;  // 20-30行の中央値\nconst overlapSize = 6;  // 前後6行オーバーラップ\n\nconst chunks = [];\n\nfor (let i = 0; i < lines.length; i += chunkSize) {\n  chunks.push({\n    chunk_id: Math.floor(i / chunkSize) + 1,\n    main_text: lines.slice(i, i + chunkSize),\n    overlap_before: i > 0 ? lines.slice(i - overlapSize, i) : null,\n    overlap_after: lines.slice(i + chunkSize, i + chunkSize + overlapSize).length > 0 \n      ? lines.slice(i + chunkSize, i + chunkSize + overlapSize) \n      : null\n  });\n}\n\n// 各チャンクを個別のアイテムとして返す（Split in Batchesで並列処理するため）\nreturn chunks.map(chunk => ({ json: chunk }));"
      },
      "typeVersion": 2,
      "position": [1400, 300],
      "_comment": "文字起こし結果を25行ごとにチャンク分割し、文脈保持のため前後6行のオーバーラップを追加します。チャンクは配列として返され、次のSplit in Batchesノードで並列処理されます。",
      "notes": "チャンクサイズ: 25行（20-30行の中央値）。オーバーラップ: 前後6行（文脈保持）。出力: chunk_id, main_text, overlap_before, overlap_afterを含む配列。並列処理準備: 各チャンクは独立したアイテム。推定チャンク数: 12チャンク（1時間会議、300行想定）。"
    },
    {
      "id": "sticky_4",
      "type": "n8n-nodes-base.stickyNote",
      "name": "Group 4: チャンク分割",
      "parameters": {
        "content": "## Group 4: チャンク分割\n\n📌 **このグループに含まれるノード**:\n- Code: チャンク分割\n\n**責務**: 文字起こしを20-30行ごとに分割、オーバーラップ追加\n\n**処理内容**:\n- 文字起こしlines配列を25行ごとに分割\n- 各チャンクに前6行のオーバーラップ追加（overlap_before）\n- 各チャンクに後6行のオーバーラップ追加（overlap_after）\n- 最初のチャンクはoverlap_before=null\n- 最後のチャンクはoverlap_after=null\n\n**パラメータ**:\n- chunkSize: 25行\n- overlapSize: 6行\n\n**出力形式**:\n```json\n{\n  \"chunk_id\": 1,\n  \"main_text\": [...],\n  \"overlap_before\": null,\n  \"overlap_after\": [...]\n}\n```\n\n**パフォーマンス**:\n- 推定処理時間: <0.5秒\n- 推定チャンク数: 12（300行想定）",
        "height": 320,
        "width": 340,
        "color": 4
      },
      "typeVersion": 1,
      "position": [1350, 60]
    }
  ],
  "connections": {}
}
