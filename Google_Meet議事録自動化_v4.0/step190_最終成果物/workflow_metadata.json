{
  "workflow_name": "Google Meet議事録自動化システム",
  "version": "v4.0 (AI Agent Nodes)",
  "created_date": "2025-01-11",
  "design_methodology": "n8nワークフロー自動設計プロセス v4.0",
  "architecture": {
    "framework": "12層アーキテクチャ",
    "data_flow_layers": [
      "L1: Trigger",
      "L2: Input",
      "L3: Validation",
      "L4: Transformation",
      "L5: Core Logic",
      "L6: Integration",
      "L7: Output"
    ],
    "cross_cutting_layers": [
      "L8: Error Handling",
      "L9: Security",
      "L10: Monitoring",
      "L11: Performance",
      "L12: Orchestration"
    ]
  },
  "statistics": {
    "total_groups": 13,
    "main_flow_groups": 12,
    "error_flow_groups": 1,
    "total_nodes": 47,
    "ai_agent_nodes": 5,
    "code_nodes": 3,
    "google_drive_nodes": 6,
    "sticky_notes": 20
  },
  "groups": [
    {
      "group_id": 1,
      "name": "トリガー & ファイル取得",
      "nodes": 3,
      "responsibility": "Google Drive新規M4Aファイル検知、ファイル情報取得、M4Aダウンロード"
    },
    {
      "group_id": 2,
      "name": "バリデーション",
      "nodes": 1,
      "responsibility": "ファイル形式とサイズの検証"
    },
    {
      "group_id": 3,
      "name": "Gemini音声文字起こし",
      "nodes": 1,
      "responsibility": "M4A音声から日本語文字起こし生成"
    },
    {
      "group_id": 4,
      "name": "チャンク分割",
      "nodes": 1,
      "responsibility": "文字起こしを20-30行ごとに分割、オーバーラップ追加"
    },
    {
      "group_id": 5,
      "name": "チャンク並列処理（Step1）",
      "nodes": 3,
      "responsibility": "5チャンク並列でフィラー語除去と箇条書き化"
    },
    {
      "group_id": 6,
      "name": "チャンク統合",
      "nodes": 2,
      "responsibility": "全チャンクをマージ、line_idソート、重複除去"
    },
    {
      "group_id": 7,
      "name": "議題抽出（Step2）",
      "nodes": 1,
      "responsibility": "統合テキストから会議の議題を自動抽出"
    },
    {
      "group_id": 8,
      "name": "議題データ再構成",
      "nodes": 1,
      "responsibility": "各議題に該当する文字起こしを収集"
    },
    {
      "group_id": 9,
      "name": "議題並列処理（Step3）",
      "nodes": 3,
      "responsibility": "3議題並列で決定事項・宿題・保留事項を抽出"
    },
    {
      "group_id": 10,
      "name": "議題統合 + フォーマット変換（Step4）",
      "nodes": 2,
      "responsibility": "全議題をマージ、Markdown議事録を生成"
    },
    {
      "group_id": 11,
      "name": "品質保証 + 議事録保存（Step5）",
      "nodes": 2,
      "responsibility": "議事録の完全性検証・補完、Google Driveに保存"
    },
    {
      "group_id": 12,
      "name": "ファイル移動 + 通知 + 最終結果",
      "nodes": 3,
      "responsibility": "M4Aファイル移動、Discord通知、最終結果セット"
    },
    {
      "group_id": 13,
      "name": "エラーハンドリング",
      "nodes": 7,
      "responsibility": "全ノードのエラー検知、種別判定、リカバリー、通知"
    }
  ],
  "ai_agents": [
    {
      "step_id": "step0",
      "name": "Gemini: 音声文字起こし",
      "model": "gemini-2.0-flash-exp",
      "temperature": 0.3,
      "max_tokens": 100000,
      "memory": false,
      "responsibility": "M4A音声→日本語テキスト変換",
      "processing_time": "30-60秒"
    },
    {
      "step_id": "step1",
      "name": "Gemini: 文字起こし整形",
      "model": "gemini-2.0-flash-exp",
      "temperature": 0.4,
      "max_tokens": 4000,
      "memory": false,
      "responsibility": "フィラー語除去、箇条書き化",
      "processing_time": "15秒（5並列）"
    },
    {
      "step_id": "step2",
      "name": "Gemini: 議題抽出",
      "model": "gemini-2.0-flash-exp",
      "temperature": 0.4,
      "max_tokens": 4000,
      "memory": true,
      "session_key": "step2_memory",
      "responsibility": "会話から議題を自動抽出",
      "processing_time": "20-30秒"
    },
    {
      "step_id": "step3",
      "name": "Gemini: 議題分析",
      "model": "gemini-2.0-flash-exp",
      "temperature": 0.4,
      "max_tokens": 4000,
      "memory": false,
      "responsibility": "決定事項・宿題・保留事項抽出",
      "processing_time": "5秒（3並列）"
    },
    {
      "step_id": "step4",
      "name": "Claude: フォーマット変換",
      "model": "claude-sonnet-4-5-20250929",
      "temperature": 0.7,
      "max_tokens": 8000,
      "memory": true,
      "session_key": "step4_memory",
      "responsibility": "Markdown議事録生成",
      "processing_time": "60-90秒"
    },
    {
      "step_id": "step5",
      "name": "Claude: 品質保証",
      "model": "claude-sonnet-4-5-20250929",
      "temperature": 0.7,
      "max_tokens": 8000,
      "memory": true,
      "session_key": "step5_memory",
      "responsibility": "議事録検証・補完",
      "processing_time": "30-60秒"
    }
  ],
  "performance": {
    "target_processing_time": "3分以内",
    "transcription_time": "30-60秒",
    "ai_processing_time": "2-3分",
    "save_and_move_time": "10秒",
    "parallel_processing": {
      "chunk_parallelism": 5,
      "agenda_parallelism": 3
    }
  },
  "cost_estimation": {
    "monthly_executions": 20,
    "cost_per_execution": "¥106.82",
    "monthly_cost": "¥2,136.4",
    "annual_cost": "¥25,637",
    "roi_percentage": "2,708%"
  },
  "credentials_required": [
    {
      "name": "Google Drive OAuth2",
      "type": "OAuth2",
      "scope": "drive.file"
    },
    {
      "name": "Gemini API Key",
      "type": "API Key",
      "env_var": "GOOGLE_API_KEY"
    },
    {
      "name": "Anthropic API Key",
      "type": "API Key",
      "env_var": "ANTHROPIC_API_KEY"
    },
    {
      "name": "Discord Webhook URL",
      "type": "Webhook URL",
      "env_var": "DISCORD_WEBHOOK_URL",
      "optional": true
    }
  ],
  "external_integrations": [
    {
      "name": "Google Drive",
      "purpose": "トリガー、ファイル取得、議事録保存、ファイル移動",
      "api_version": "v3"
    },
    {
      "name": "Google Gemini",
      "purpose": "音声文字起こし + AI処理（Step0-3）",
      "api_version": "v1"
    },
    {
      "name": "Anthropic Claude",
      "purpose": "AI処理（Step4-5）",
      "api_version": "latest"
    },
    {
      "name": "Discord",
      "purpose": "処理完了通知、エラー通知",
      "optional": true
    }
  ],
  "design_patterns": [
    "並列処理パターン (Split in Batches)",
    "エラーハンドリングパターン (Error Trigger + リトライ)",
    "Memory使用パターン (Simple Memory)",
    "データ変換パターン (Code + AI Agent)",
    "外部連携パターン (Google Drive + Discord)"
  ],
  "business_value": {
    "time_savings": "95%削減（60分 → 3分）",
    "monthly_time_savings": "19時間/月",
    "quality_improvement": "AI による構造化された一貫性のある議事録",
    "automation_rate": "100%（完全自動化）"
  }
}