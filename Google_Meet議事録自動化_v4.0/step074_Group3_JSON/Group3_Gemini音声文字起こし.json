{
  "name": "Google Meetè­°äº‹éŒ²è‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ  - Group 3",
  "nodes": [
    {
      "id": "http_request_gemini_transcribe",
      "type": "n8n-nodes-base.httpRequest",
      "name": "Gemini: éŸ³å£°æ–‡å­—èµ·ã“ã— (Step0)",
      "parameters": {
        "method": "POST",
        "url": "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "contents",
              "value": "={{ [{\"parts\": [{\"inline_data\": {\"mime_type\": \"audio/m4a\", \"data\": $binary.m4a_data.data}}]}] }}"
            },
            {
              "name": "generationConfig",
              "value": "={{ {\"temperature\": 0.3, \"maxOutputTokens\": 100000, \"responseMimeType\": \"application/json\"} }}"
            },
            {
              "name": "systemInstruction",
              "value": "={{ {\"parts\": [{\"text\": \"ã‚ãªãŸã¯æ—¥æœ¬èªã®éŸ³å£°æ–‡å­—èµ·ã“ã—å°‚é–€AIã§ã™ã€‚M4AéŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å—ã‘å–ã‚Šã€ä»¥ä¸‹ã®å½¢å¼ã§JSONé…åˆ—ã¨ã—ã¦æ–‡å­—èµ·ã“ã—çµæœã‚’è¿”ã—ã¦ãã ã•ã„ã€‚\\n\\nå‡ºåŠ›å½¢å¼:\\n```json\\n{\\n  \\\"lines\\\": [\\n    {\\n      \\\"line_id\\\": 1,\\n      \\\"content\\\": \\\"ç™ºè¨€å†…å®¹\\\",\\n      \\\"speaker\\\": \\\"A\\\",\\n      \\\"timestamp\\\": \\\"00:01:20\\\",\\n      \\\"start_time\\\": 80.5,\\n      \\\"end_time\\\": 85.2\\n    }\\n  ]\\n}\\n```\\n\\nè¦ä»¶:\\n1. è©±è€…ã‚’è‡ªå‹•åˆ†é›¢ã—ã¦A, B, C...ã§ãƒ©ãƒ™ãƒ«ä»˜ã‘\\n2. ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚’ç§’å˜ä½ã¨HH:MM:SSå½¢å¼ã®ä¸¡æ–¹ã§è¨˜éŒ²\\n3. å¥èª­ç‚¹ã‚’é©åˆ‡ã«æŒ¿å…¥\\n4. ãƒ•ã‚£ãƒ©ãƒ¼èªï¼ˆãˆãƒ¼ã€ã‚ã®ãƒ¼ç­‰ï¼‰ã¯ãã®ã¾ã¾æ®‹ã™ï¼ˆStep1ã§é™¤å»ï¼‰\\n5. ã™ã¹ã¦ã®ç™ºè¨€ã‚’line_idé †ã«é…åˆ—åŒ–\"}] } }}"
            }
          ]
        },
        "options": {
          "timeout": 120000,
          "response": {
            "response": {
              "fullResponse": false,
              "responseFormat": "json"
            }
          }
        }
      },
      "typeVersion": 4.2,
      "position": [1000, 300],
      "_comment": "Gemini 2.0 Flash Experimentalã®éŸ³å£°èªè­˜APIã‚’ä½¿ç”¨ã—ã¦ã€M4Aãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ—¥æœ¬èªãƒ†ã‚­ã‚¹ãƒˆã«å¤‰æ›ã—ã¾ã™ã€‚è©±è€…åˆ†é›¢ã€ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ä¸ã€å¥èª­ç‚¹æŒ¿å…¥ã‚’è‡ªå‹•ã§è¡Œã„ã¾ã™ã€‚",
      "notes": "API: Gemini 2.0 Flash Experimentalã€‚Temperature: 0.3ï¼ˆé«˜ç²¾åº¦ï¼‰ã€‚Max Tokens: 100,000ï¼ˆé•·æ™‚é–“ä¼šè­°å¯¾å¿œï¼‰ã€‚Timeout: 120ç§’ã€‚å‡ºåŠ›: JSONé…åˆ—ï¼ˆlinesï¼‰ã€‚èªè¨¼: GOOGLE_API_KEYç’°å¢ƒå¤‰æ•°ã€‚å‡¦ç†æ™‚é–“: 30-60ç§’ï¼ˆ1æ™‚é–“ä¼šè­°ï¼‰ã€‚"
    },
    {
      "id": "code_parse_transcription",
      "type": "n8n-nodes-base.code",
      "name": "Code: æ–‡å­—èµ·ã“ã—çµæœãƒ‘ãƒ¼ã‚¹",
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "// Gemini APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‹ã‚‰æ–‡å­—èµ·ã“ã—çµæœã‚’æŠ½å‡º\nconst response = $input.all()[0].json;\nconst generatedContent = response.candidates[0].content.parts[0].text;\nconst transcription = JSON.parse(generatedContent);\n\nreturn {\n  json: transcription\n};"
      },
      "typeVersion": 2,
      "position": [1200, 300],
      "_comment": "Gemini APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‹ã‚‰æ–‡å­—èµ·ã“ã—JSONï¼ˆlinesé…åˆ—ï¼‰ã‚’æŠ½å‡ºã—ã€æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ä½¿ãˆã‚‹å½¢å¼ã«å¤‰æ›ã—ã¾ã™ã€‚",
      "notes": "å…¥åŠ›: Gemini APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆcandidates[0].content.parts[0].textï¼‰ã€‚å‡ºåŠ›: JSONé…åˆ—ï¼ˆlinesï¼‰ã€‚ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: JSON.parseå¤±æ•—æ™‚ã¯Error Group 1ã¸ã€‚"
    },
    {
      "id": "sticky_3",
      "type": "n8n-nodes-base.stickyNote",
      "name": "Group 3: GeminiéŸ³å£°æ–‡å­—èµ·ã“ã—",
      "parameters": {
        "content": "## Group 3: GeminiéŸ³å£°æ–‡å­—èµ·ã“ã— (Step0)\n\nğŸ“Œ **ã“ã®ã‚°ãƒ«ãƒ¼ãƒ—ã«å«ã¾ã‚Œã‚‹ãƒãƒ¼ãƒ‰**:\n- Gemini: éŸ³å£°æ–‡å­—èµ·ã“ã— (Step0)\n- Code: æ–‡å­—èµ·ã“ã—çµæœãƒ‘ãƒ¼ã‚¹\n\n**è²¬å‹™**: M4AéŸ³å£°ã‹ã‚‰æ—¥æœ¬èªæ–‡å­—èµ·ã“ã—ç”Ÿæˆ\n\n**å‡¦ç†å†…å®¹**:\n- Gemini 2.0 Flash Experimentalã§éŸ³å£°èªè­˜\n- è©±è€…è‡ªå‹•åˆ†é›¢ï¼ˆA, B, C...ï¼‰\n- ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è‡ªå‹•ä»˜ä¸ï¼ˆç§’ + HH:MM:SSï¼‰\n- å¥èª­ç‚¹è‡ªå‹•æŒ¿å…¥\n- JSONé…åˆ—ã¨ã—ã¦å‡ºåŠ›ï¼ˆlinesï¼‰\n\n**AIè¨­å®š**:\n- Model: gemini-2.0-flash-exp\n- Temperature: 0.3ï¼ˆé«˜ç²¾åº¦ï¼‰\n- Max Tokens: 100,000ï¼ˆé•·æ™‚é–“å¯¾å¿œï¼‰\n- Memory: ãªã—\n\n**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**:\n- æ¨å®šå‡¦ç†æ™‚é–“: 30-60ç§’ï¼ˆ1æ™‚é–“ä¼šè­°ï¼‰\n- Timeout: 120ç§’\n\n**å‡ºåŠ›å½¢å¼**: JSONé…åˆ—ï¼ˆline_id, content, speaker, timestamp, start_time, end_timeï¼‰",
        "height": 340,
        "width": 360,
        "color": 5
      },
      "typeVersion": 1,
      "position": [950, 60]
    }
  ],
  "connections": {
    "Gemini: éŸ³å£°æ–‡å­—èµ·ã“ã— (Step0)": {
      "main": [
        [
          {
            "node": "Code: æ–‡å­—èµ·ã“ã—çµæœãƒ‘ãƒ¼ã‚¹",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}
