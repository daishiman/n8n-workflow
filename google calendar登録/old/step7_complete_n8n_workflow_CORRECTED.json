{
  "name": "Discord Calendar Manager - Google Calendar Integration (Corrected)",
  "meta": {
    "templateCreatedBy": "n8n AI Workflow Designer v9 - Corrected",
    "description": "Discord BotçµŒç”±ã§Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼äºˆå®šç®¡ç†ã‚’è‡ªå‹•åŒ–ã€‚AI Agent Nodeã‚’ä½¿ç”¨ã—ãŸé©åˆ‡ãªå®Ÿè£…ã€‚é‡è¤‡ãƒã‚§ãƒƒã‚¯ã€AIäºˆå®šæŠ½å‡ºã€é€šçŸ¥ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã‚’å®Œå…¨è‡ªå‹•åŒ–",
    "version": "2.0.0",
    "correctionNote": "HTTP Request AIå‘¼ã³å‡ºã—ã‚’n8n AI Agent Nodeã«å¤‰æ›ã€‚Chat Modelã€Memoryã€Toolsã‚’é©åˆ‡ã«æ¥ç¶š"
  },
  "nodes": [
    {
      "_comment": "ãƒˆãƒªã‚¬ãƒ¼: Discordã‹ã‚‰ã®Webhookã‚’å—ä¿¡",
      "parameters": {
        "httpMethod": "POST",
        "path": "discord-calendar",
        "authentication": "none",
        "responseMode": "lastNode",
        "options": {
          "rawBody": false
        }
      },
      "id": "webhook_001",
      "name": "Discord Bot Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1.1,
      "position": [240, 300],
      "webhookId": "discord-calendar-webhook",
      "notes": "å‡¦ç†å†…å®¹: Discordãƒœãƒƒãƒˆã‹ã‚‰ã®Webhookå—ä¿¡\nå…¥åŠ›: Discord ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ (user_id, channel_id, message_content, callback_url)\nå‡ºåŠ›: Webhookãƒ‡ãƒ¼ã‚¿ã‚’æ¬¡ã®ãƒãƒ¼ãƒ‰ã¸é€ä¿¡"
    },
    {
      "_comment": "ãƒ‡ãƒ¼ã‚¿æŠ½å‡º: Webhookãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã‹ã‚‰å¿…è¦ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æŠ½å‡º",
      "parameters": {
        "mode": "manual",
        "duplicateItem": false,
        "assignments": {
          "assignments": [
            {
              "id": "user_id",
              "name": "user_id",
              "value": "={{ $json.body.user_id }}",
              "type": "string"
            },
            {
              "id": "channel_id",
              "name": "channel_id",
              "value": "={{ $json.body.channel_id }}",
              "type": "string"
            },
            {
              "id": "message_content",
              "name": "message_content",
              "value": "={{ $json.body.message_content }}",
              "type": "string"
            },
            {
              "id": "callback_url",
              "name": "callback_url",
              "value": "={{ $json.body.callback_url }}",
              "type": "string"
            },
            {
              "id": "request_timestamp",
              "name": "request_timestamp",
              "value": "={{ $json.body.timestamp }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "set_002",
      "name": "Webhookãƒ‡ãƒ¼ã‚¿æŠ½å‡º",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [460, 300],
      "notes": "å‡¦ç†å†…å®¹: Webhookãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã‹ã‚‰å¿…è¦ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æŠ½å‡ºã—ã¦æ§‹é€ åŒ–\nå…¥åŠ›: Webhookç”Ÿãƒ‡ãƒ¼ã‚¿\nå‡ºåŠ›: user_id, channel_id, message_content, callback_url, request_timestamp"
    },
    {
      "_comment": "ã‚¹ãƒ†ãƒ¼ãƒˆç¢ºèª: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä¿å­˜æ¸ˆã¿çŠ¶æ…‹ã‚’ç¢ºèªï¼ˆé‡è¤‡æ™‚ã®é¸æŠãƒ•ãƒ­ãƒ¼ç”¨ï¼‰",
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const staticData = this.getWorkflowStaticData('global');\nconst userId = $input.first().json.user_id;\nconst savedState = staticData[userId];\n\nreturn [{\n  json: {\n    ...($input.first().json),\n    is_selection_flow: !!savedState,\n    saved_state: savedState || null\n  }\n}];"
      },
      "id": "code_003",
      "name": "ã‚¹ãƒ†ãƒ¼ãƒˆç¢ºèª",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [680, 300],
      "notes": "å‡¦ç†å†…å®¹: ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ãƒ†ãƒ¼ãƒˆã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä¿å­˜æ¸ˆã¿çŠ¶æ…‹ã‚’èª­ã¿è¾¼ã¿\nå…¥åŠ›: user_id\nå‡ºåŠ›: is_selection_flow (boolean), saved_state (object or null)\nå½¹å‰²: åˆå›ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‹ã€é‡è¤‡æ™‚ã®é¸æŠãƒ•ãƒ­ãƒ¼ã‹ã‚’åˆ¤å®š"
    },
    {
      "_comment": "ãƒ•ãƒ­ãƒ¼åˆ†å²: åˆå›ãƒ•ãƒ­ãƒ¼ã‹é¸æŠãƒ•ãƒ­ãƒ¼ã‹ã§åˆ†å²",
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "condition_1",
              "leftValue": "={{ $json.is_selection_flow }}",
              "rightValue": false,
              "operator": {
                "type": "boolean",
                "operation": "false"
              }
            }
          ]
        }
      },
      "id": "if_017",
      "name": "ãƒ•ãƒ­ãƒ¼æŒ¯ã‚Šåˆ†ã‘",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [800, 300],
      "notes": "å‡¦ç†å†…å®¹: is_selection_flowãƒ•ãƒ©ã‚°ã§å‡¦ç†ãƒ•ãƒ­ãƒ¼ã‚’æŒ¯ã‚Šåˆ†ã‘\nåˆ†å²1 (true): åˆå›äºˆå®šç™»éŒ²ãƒ•ãƒ­ãƒ¼\nåˆ†å²2 (false): é‡è¤‡æ™‚ã®é¸æŠãƒ•ãƒ­ãƒ¼"
    },
    {
      "_comment": "ä¿å­˜æ¸ˆã¿ã‚¹ãƒ†ãƒ¼ãƒˆèª­ã¿è¾¼ã¿: é‡è¤‡æ™‚ã®é¸æŠãƒ•ãƒ­ãƒ¼ç”¨",
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const staticData = this.getWorkflowStaticData('global');\nconst userId = $input.first().json.user_id;\nconst savedState = staticData[userId];\n\nif (!savedState) {\n  throw new Error('No saved state found for user');\n}\n\nreturn [{\n  json: {\n    ...savedState,\n    user_id: userId,\n    message_content: $input.first().json.message_content,\n    callback_url: $input.first().json.callback_url\n  }\n}];"
      },
      "id": "code_006",
      "name": "ä¿å­˜æ¸ˆã¿ã‚¹ãƒ†ãƒ¼ãƒˆèª­ã¿è¾¼ã¿",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [900, 500],
      "notes": "å‡¦ç†å†…å®¹: ä¿å­˜ã•ã‚ŒãŸã‚¹ãƒ†ãƒ¼ãƒˆã‚’å¾©å…ƒã—ã€æ–°ã—ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨çµåˆ\nå…¥åŠ›: user_id, message_content\nå‡ºåŠ›: ä¿å­˜æ¸ˆã¿ã®original_request, proposed_alternativesã¨æ–°ã—ã„message_content\nå½¹å‰²: é¸æŠãƒ•ãƒ­ãƒ¼ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç•ªå·å…¥åŠ›ã‚’å‡¦ç†ã™ã‚‹ãŸã‚ã®æº–å‚™"
    },
    {
      "_comment": "Webhookãƒ‡ãƒ¼ã‚¿æ¤œè¨¼: åˆå›ãƒ•ãƒ­ãƒ¼ç”¨ã®å…¥åŠ›ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼",
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "condition_1",
              "leftValue": "={{ $json.message_content }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty"
              }
            },
            {
              "id": "condition_2",
              "leftValue": "={{ $json.user_id }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty"
              }
            },
            {
              "id": "condition_3",
              "leftValue": "={{ $json.callback_url }}",
              "rightValue": "https://",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        }
      },
      "id": "if_007",
      "name": "Webhookãƒ‡ãƒ¼ã‚¿æ¤œè¨¼",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [920, 300],
      "notes": "å‡¦ç†å†…å®¹: å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å­˜åœ¨ç¢ºèªã¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¤œè¨¼\næ¤œè¨¼é …ç›®: message_content (éç©º), user_id (éç©º), callback_url (https://ã§å§‹ã¾ã‚‹)\nåˆ†å²1 (true): æ¤œè¨¼æˆåŠŸ â†’ AIäºˆå®šæŠ½å‡ºã¸\nåˆ†å²2 (false): æ¤œè¨¼å¤±æ•— â†’ ã‚¨ãƒ©ãƒ¼è¿”ä¿¡ã¸"
    },
    {
      "_comment": "AI Agent 1: Discordäºˆå®šæŠ½å‡º - Grokã‚’ä½¿ç”¨ã—ã¦è‡ªç„¶è¨€èªã‹ã‚‰äºˆå®šæƒ…å ±ã‚’æŠ½å‡º",
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.message_content }}",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "ã‚ãªãŸã¯Discordãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰äºˆå®šæƒ…å ±ã‚’æŠ½å‡ºã™ã‚‹å°‚é–€å®¶ã§ã™ã€‚\n\nã€è²¬å‹™ã€‘\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé€ä¿¡ã—ãŸè‡ªç„¶è¨€èªã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰ã€äºˆå®šã®ã‚¿ã‚¤ãƒˆãƒ«ã€æ—¥æ™‚ã€æ‰€è¦æ™‚é–“ã€å‚åŠ è€…ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã€èª¬æ˜ã‚’æŠ½å‡ºã™ã‚‹\n\nã€ã‚´ãƒ¼ãƒ«ã€‘\nä»¥ä¸‹ã®5ã¤ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å«ã‚€JSONã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ï¼š\n1. event_title: äºˆå®šã®ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆæ–‡å­—åˆ—ï¼‰\n2. event_datetime: äºˆå®šã®é–‹å§‹æ—¥æ™‚ï¼ˆISO 8601å½¢å¼ã€æ—¥æœ¬æ™‚é–“+09:00ï¼‰\n3. duration_minutes: æ‰€è¦æ™‚é–“ï¼ˆåˆ†å˜ä½ã®æ•´æ•°ï¼‰\n4. attendee_emails: å‚åŠ è€…ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒªã‚¹ãƒˆï¼ˆé…åˆ—ã€ãªã‘ã‚Œã°ç©ºé…åˆ—ï¼‰\n5. description: è£œè¶³èª¬æ˜ï¼ˆæ–‡å­—åˆ—ã€ãªã‘ã‚Œã°ç©ºæ–‡å­—åˆ—ï¼‰\n\nã€é‡è¦ãªåˆ¶ç´„ã€‘\n- æ—¥æ™‚ãŒæŒ‡å®šã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã€ä»Šæ—¥ã®9:00ã¨ã™ã‚‹\n- æ™‚åˆ»ã®ã¿æŒ‡å®šã®å ´åˆã¯ã€ä»Šæ—¥ã®æ—¥ä»˜ã¨ã™ã‚‹\n- æ‰€è¦æ™‚é–“ãŒä¸æ˜ãªå ´åˆã¯60åˆ†ã¨ã™ã‚‹\n- ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ãªã„å ´åˆã¯ç©ºé…åˆ—\n- å¿…ãšJSONå½¢å¼ã§å‡ºåŠ›ã™ã‚‹",
          "maxIterations": 3,
          "returnIntermediateSteps": false
        }
      },
      "id": "agent_010",
      "name": "ã€AI Agent 1ã€‘Discordäºˆå®šæŠ½å‡º",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [1120, 300],
      "notes": "å‡¦ç†å†…å®¹: Discordãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰äºˆå®šæƒ…å ±ã‚’JSONå½¢å¼ã§æŠ½å‡º\nè²¬å‹™: è‡ªç„¶è¨€èªãƒ†ã‚­ã‚¹ãƒˆ â†’ æ§‹é€ åŒ–äºˆå®šãƒ‡ãƒ¼ã‚¿\nå…¥åŠ›: message_content (è‡ªç„¶è¨€èª)\nå‡ºåŠ›: event_title, event_datetime, duration_minutes, attendee_emails, description\né€£æº: Chat Model (Grok), Memory, Output Parser Tool"
    },
    {
      "_comment": "Chat Model 1: Grok 2 - AI Agent 1ç”¨ã®è¨€èªãƒ¢ãƒ‡ãƒ«",
      "parameters": {
        "model": "x-ai/grok-2-1212",
        "options": {
          "baseURL": "https://openrouter.ai/api/v1",
          "temperature": 0.3,
          "maxTokens": 1000,
          "topP": 0.9
        }
      },
      "id": "chatmodel_011",
      "name": "Grok Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1,
      "position": [1000, 120],
      "credentials": {
        "openAiApi": {
          "id": "openrouter_api",
          "name": "OpenRouter API"
        }
      },
      "notes": "å‡¦ç†å†…å®¹: Grok 2ãƒ¢ãƒ‡ãƒ«ã§ãƒ†ã‚­ã‚¹ãƒˆç†è§£ã¨æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿æŠ½å‡º\nãƒ¢ãƒ‡ãƒ«: x-ai/grok-2-1212\næ¸©åº¦è¨­å®š: 0.3 (æ­£ç¢ºæ€§é‡è¦–)\næœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³: 1000\nå½¹å‰²: Discordäºˆå®šæŠ½å‡ºAI Agentã®æ¨è«–ã‚¨ãƒ³ã‚¸ãƒ³"
    },
    {
      "_comment": "Memory 1: ä¼šè©±å±¥æ­´ç®¡ç† - AI Agent 1ç”¨",
      "parameters": {
        "contextWindowLength": 5
      },
      "id": "memory_012",
      "name": "Discordäºˆå®šæŠ½å‡º Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.2,
      "position": [1000, 200],
      "notes": "å‡¦ç†å†…å®¹: AI Agent 1ã®ä¼šè©±å±¥æ­´ã‚’ä¿å­˜\nä¿å­˜å†…å®¹: éå»5ä»¶ã®äºˆå®šæŠ½å‡ºå±¥æ­´\nå½¹å‰²: æ–‡è„ˆã‚’ä¿æŒã—ã¦ä¸€è²«æ€§ã®ã‚ã‚‹æŠ½å‡ºã‚’å®Ÿç¾"
    },
    {
      "_comment": "Output Parser Tool: JSONå‡ºåŠ›ã‚’æ§‹é€ åŒ–",
      "parameters": {
        "schemaType": "fromJson",
        "jsonSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"event_title\": {\"type\": \"string\"},\n    \"event_datetime\": {\"type\": \"string\"},\n    \"duration_minutes\": {\"type\": \"number\"},\n    \"attendee_emails\": {\"type\": \"array\", \"items\": {\"type\": \"string\"}},\n    \"description\": {\"type\": \"string\"}\n  },\n  \"required\": [\"event_title\", \"event_datetime\", \"duration_minutes\", \"attendee_emails\"]\n}"
      },
      "id": "parser_013",
      "name": "äºˆå®šãƒ‡ãƒ¼ã‚¿Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2,
      "position": [1000, 400],
      "notes": "å‡¦ç†å†…å®¹: AI Agentå‡ºåŠ›ã‚’JSONã‚¹ã‚­ãƒ¼ãƒã«å¾“ã£ã¦æ§‹é€ åŒ–\næ¤œè¨¼é …ç›®: å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å­˜åœ¨ã€å‹ã®æ­£ç¢ºæ€§\nå‡ºåŠ›: æ¤œè¨¼æ¸ˆã¿JSON"
    },
    {
      "_comment": "AIæŠ½å‡ºçµæœæ¤œè¨¼: ãƒ‘ãƒ¼ã‚¹å¾Œã®è¿½åŠ æ¤œè¨¼",
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const data = $input.first().json;\nconst isValid = \n  data.event_title && typeof data.event_title === 'string' &&\n  data.event_datetime && /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}/.test(data.event_datetime) &&\n  data.duration_minutes && typeof data.duration_minutes === 'number' && data.duration_minutes > 0 &&\n  Array.isArray(data.attendee_emails);\n\nreturn [{\n  json: {\n    ...data,\n    validation_passed: isValid,\n    validation_error: isValid ? null : 'Invalid AI extraction format'\n  }\n}];"
      },
      "id": "code_008",
      "name": "AIæŠ½å‡ºçµæœæ¤œè¨¼",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1320, 300],
      "notes": "å‡¦ç†å†…å®¹: AIæŠ½å‡ºçµæœã®è©³ç´°æ¤œè¨¼ï¼ˆå‹ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€ç¯„å›²ï¼‰\næ¤œè¨¼é …ç›®: event_title (æ–‡å­—åˆ—), event_datetime (ISO 8601), duration_minutes (æ­£ã®æ•´æ•°), attendee_emails (é…åˆ—)\nå‡ºåŠ›: validation_passed (boolean), validation_error (string or null)"
    },
    {
      "_comment": "æ¤œè¨¼çµæœãƒã‚§ãƒƒã‚¯: æ¤œè¨¼æˆåŠŸãƒ»å¤±æ•—ã§åˆ†å²",
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "condition_1",
              "leftValue": "={{ $json.validation_passed }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "true"
              }
            }
          ]
        }
      },
      "id": "if_009",
      "name": "æ¤œè¨¼çµæœãƒã‚§ãƒƒã‚¯",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [1440, 300],
      "notes": "å‡¦ç†å†…å®¹: validation_passedãƒ•ãƒ©ã‚°ã§å‡¦ç†ã‚’åˆ†å²\nåˆ†å²1 (true): æ¤œè¨¼æˆåŠŸ â†’ ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è¨ˆç®—ã¸\nåˆ†å²2 (false): æ¤œè¨¼å¤±æ•— â†’ ã‚¨ãƒ©ãƒ¼è¿”ä¿¡ã¸"
    },
    {
      "_comment": "ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è¨ˆç®—: äºˆå®šã®é–‹å§‹ãƒ»çµ‚äº†æ™‚åˆ»ã¨æ¤œç´¢ç¯„å›²ã‚’è¨ˆç®—",
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const data = $input.first().json;\nconst startDate = new Date(data.event_datetime);\nconst endDate = new Date(startDate.getTime() + data.duration_minutes * 60 * 1000);\n\nreturn [{\n  json: {\n    ...data,\n    start_timestamp: startDate.getTime(),\n    end_timestamp: endDate.getTime(),\n    end_datetime: endDate.toISOString(),\n    event_datetime_minus_24h: new Date(startDate.getTime() - 24*60*60*1000).toISOString(),\n    event_datetime_plus_48h: new Date(startDate.getTime() + 48*60*60*1000).toISOString()\n  }\n}];"
      },
      "id": "code_012",
      "name": "ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è¨ˆç®—",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1560, 300],
      "notes": "å‡¦ç†å†…å®¹: äºˆå®šã®æ™‚åˆ»æƒ…å ±ã‚’è¨ˆç®—\nè¨ˆç®—é …ç›®:\n- start_timestamp, end_timestamp: ãƒŸãƒªç§’å˜ä½ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—\n- end_datetime: äºˆå®šçµ‚äº†æ™‚åˆ» (ISO 8601)\n- event_datetime_minus_24h, event_datetime_plus_48h: ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æ¤œç´¢ç¯„å›²"
    },
    {
      "_comment": "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æ—¢å­˜äºˆå®šå–å¾—: é‡è¤‡ãƒã‚§ãƒƒã‚¯ç”¨",
      "parameters": {
        "method": "GET",
        "url": "https://www.googleapis.com/calendar/v3/calendars/primary/events",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "googleCalendarOAuth2Api",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "timeMin",
              "value": "={{ $json.event_datetime_minus_24h }}"
            },
            {
              "name": "timeMax",
              "value": "={{ $json.event_datetime_plus_48h }}"
            },
            {
              "name": "singleEvents",
              "value": "true"
            },
            {
              "name": "orderBy",
              "value": "startTime"
            }
          ]
        },
        "options": {
          "timeout": 30000
        }
      },
      "id": "http_004",
      "name": "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æ—¢å­˜äºˆå®šå–å¾—",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [1680, 300],
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "google_calendar_oauth",
          "name": "Google Calendar OAuth2"
        }
      },
      "continueOnFail": false,
      "retryOnFail": true,
      "maxTries": 3,
      "waitBetweenTries": 1000,
      "notes": "å‡¦ç†å†…å®¹: Google Calendar APIã‹ã‚‰æ—¢å­˜äºˆå®šã‚’å–å¾—\næ¤œç´¢ç¯„å›²: äºˆå®šæ™‚åˆ»ã®å‰å¾Œ24-48æ™‚é–“\nãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿: timeMin, timeMax, singleEvents=true, orderBy=startTime\nå‡ºåŠ›: itemsé…åˆ—ï¼ˆæ—¢å­˜äºˆå®šãƒªã‚¹ãƒˆï¼‰"
    },
    {
      "_comment": "ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ•´å½¢: APIå¿œç­”ã‚’ä½¿ã„ã‚„ã™ã„å½¢å¼ã«å¤‰æ›",
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const events = $input.first().json.items || [];\nconst formattedEvents = events.map(event => ({\n  title: event.summary || 'No Title',\n  start_datetime: event.start.dateTime,\n  end_datetime: event.end.dateTime,\n  start_ts: new Date(event.start.dateTime).getTime(),\n  end_ts: new Date(event.end.dateTime).getTime()\n}));\n\nreturn [{\n  json: {\n    ...($input.first().json),\n    existing_events: formattedEvents\n  }\n}];"
      },
      "id": "code_005",
      "name": "ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ•´å½¢",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1800, 300],
      "notes": "å‡¦ç†å†…å®¹: Google Calendar APIå¿œç­”ã‚’æ•´å½¢\næŠ½å‡ºãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰: title, start_datetime, end_datetime, start_ts, end_ts\nå‡ºåŠ›: existing_eventsé…åˆ—"
    },
    {
      "_comment": "äºˆå®šé‡è¤‡åˆ¤å®š: æ–°è¦äºˆå®šã¨æ—¢å­˜äºˆå®šã®æ™‚é–“é‡è¤‡ã‚’ãƒã‚§ãƒƒã‚¯",
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const newStart = $input.first().json.start_timestamp;\nconst newEnd = $input.first().json.end_timestamp;\nconst existingEvents = $input.first().json.existing_events || [];\n\nlet hasConflict = false;\nlet conflictEvent = null;\n\nfor (const event of existingEvents) {\n  if (\n    (newStart >= event.start_ts && newStart < event.end_ts) ||\n    (newEnd > event.start_ts && newEnd <= event.end_ts) ||\n    (newStart <= event.start_ts && newEnd >= event.end_ts)\n  ) {\n    hasConflict = true;\n    conflictEvent = event;\n    break;\n  }\n}\n\nreturn [{\n  json: {\n    ...($input.first().json),\n    has_conflict: hasConflict,\n    conflict_event: conflictEvent\n  }\n}];"
      },
      "id": "code_018",
      "name": "äºˆå®šé‡è¤‡åˆ¤å®š",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1920, 300],
      "notes": "å‡¦ç†å†…å®¹: æ–°è¦äºˆå®šã¨æ—¢å­˜äºˆå®šã®æ™‚é–“é‡è¤‡åˆ¤å®š\nã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ : åŒºé–“é‡è¤‡ãƒã‚§ãƒƒã‚¯ï¼ˆé–‹å§‹ãƒ»çµ‚äº†æ™‚åˆ»ã®å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œè¨¼ï¼‰\nå‡ºåŠ›: has_conflict (boolean), conflict_event (object or null)"
    },
    {
      "_comment": "é‡è¤‡æœ‰ç„¡ã§åˆ†å²: é‡è¤‡ãªã—â†’ç™»éŒ²ã€é‡è¤‡ã‚ã‚Šâ†’ä»£æ›¿æ¡ˆç”Ÿæˆ",
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "condition_1",
              "leftValue": "={{ $json.has_conflict }}",
              "rightValue": false,
              "operator": {
                "type": "boolean",
                "operation": "false"
              }
            }
          ]
        }
      },
      "id": "if_019",
      "name": "é‡è¤‡æœ‰ç„¡ã§åˆ†å²",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [2040, 300],
      "notes": "å‡¦ç†å†…å®¹: has_conflictãƒ•ãƒ©ã‚°ã§å‡¦ç†ã‚’åˆ†å²\nåˆ†å²1 (false): é‡è¤‡ãªã— â†’ ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ç™»éŒ²ã¸\nåˆ†å²2 (true): é‡è¤‡ã‚ã‚Š â†’ AI Agent 2ï¼ˆä»£æ›¿æ¡ˆç”Ÿæˆï¼‰ã¸"
    },
    {
      "_comment": "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼äºˆå®šç™»éŒ²: é‡è¤‡ãŒãªã„å ´åˆã«äºˆå®šã‚’ç™»éŒ²",
      "parameters": {
        "method": "POST",
        "url": "https://www.googleapis.com/calendar/v3/calendars/primary/events",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "googleCalendarOAuth2Api",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"summary\": \"{{ $json.event_title }}\",\n  \"description\": \"{{ $json.description || '' }}\",\n  \"start\": {\n    \"dateTime\": \"{{ $json.event_datetime }}\",\n    \"timeZone\": \"Asia/Tokyo\"\n  },\n  \"end\": {\n    \"dateTime\": \"{{ $json.end_datetime }}\",\n    \"timeZone\": \"Asia/Tokyo\"\n  },\n  \"attendees\": {{ JSON.stringify($json.attendee_emails.map(email => ({email}))) }},\n  \"reminders\": {\n    \"useDefault\": true\n  }\n}",
        "options": {
          "timeout": 30000
        }
      },
      "id": "http_023",
      "name": "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼äºˆå®šç™»éŒ²",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2180, 200],
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "google_calendar_oauth",
          "name": "Google Calendar OAuth2"
        }
      },
      "continueOnFail": false,
      "retryOnFail": true,
      "maxTries": 2,
      "waitBetweenTries": 2000,
      "notes": "å‡¦ç†å†…å®¹: Google Calendar APIã§äºˆå®šã‚’ä½œæˆ\nãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿: summary, description, start, end, attendees, reminders\nã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³: Asia/Tokyo\nå‡ºåŠ›: ä½œæˆã•ã‚ŒãŸäºˆå®šã®ã‚¤ãƒ™ãƒ³ãƒˆID"
    },
    {
      "_comment": "ãƒ¡ãƒ¼ãƒ«é€ä¿¡è¦å¦åˆ¤å®š: å‚åŠ è€…ãŒã„ã‚‹å ´åˆã®ã¿ãƒ¡ãƒ¼ãƒ«é€ä¿¡",
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "condition_1",
              "leftValue": "={{ $json.attendee_emails.length }}",
              "rightValue": 0,
              "operator": {
                "type": "number",
                "operation": "larger"
              }
            }
          ]
        }
      },
      "id": "if_020",
      "name": "ãƒ¡ãƒ¼ãƒ«é€ä¿¡è¦å¦åˆ¤å®š",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [2300, 200],
      "notes": "å‡¦ç†å†…å®¹: attendee_emailsé…åˆ—ã®é•·ã•ã§åˆ¤å®š\nåˆ†å²1 (true): å‚åŠ è€…ã‚ã‚Š â†’ AI Agent 3ï¼ˆãƒ¡ãƒ¼ãƒ«ç”Ÿæˆï¼‰ã¸\nåˆ†å²2 (false): å‚åŠ è€…ãªã— â†’ ç›´æ¥DiscordæˆåŠŸè¿”ä¿¡ã¸"
    },
    {
      "_comment": "AI Agent 3: é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ç”Ÿæˆ - Claudeã‚’ä½¿ç”¨ã—ã¦ãƒ“ã‚¸ãƒã‚¹ãƒ¡ãƒ¼ãƒ«ä½œæˆ",
      "parameters": {
        "promptType": "define",
        "text": "=äºˆå®šæƒ…å ±:\n- ã‚¿ã‚¤ãƒˆãƒ«: {{ $json.event_title }}\n- æ—¥æ™‚: {{ $json.event_datetime }}\n- æ‰€è¦æ™‚é–“: {{ $json.duration_minutes }}åˆ†\n- å‚åŠ è€…: {{ $json.attendee_emails.join(', ') }}\n- èª¬æ˜: {{ $json.description }}\n\nä¸Šè¨˜ã®æƒ…å ±ã‚’ã‚‚ã¨ã«ã€å‚åŠ è€…ã¸ã®é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "ã‚ãªãŸã¯ãƒ“ã‚¸ãƒã‚¹ãƒ¡ãƒ¼ãƒ«ä½œæˆã®å°‚é–€å®¶ã§ã™ã€‚\n\nã€è²¬å‹™ã€‘\n- äºˆå®šæƒ…å ±ã‹ã‚‰å‚åŠ è€…å‘ã‘ã®é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹\n- ä»¶åã€HTMLæœ¬æ–‡ã€ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæœ¬æ–‡ã®3ã¤ã‚’ç”Ÿæˆã™ã‚‹\n\nã€ã‚´ãƒ¼ãƒ«ã€‘\nä»¥ä¸‹ã®å½¢å¼ã§å®Œå…¨ãªãƒ¡ãƒ¼ãƒ«æ–‡ç« ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ï¼š\n{\n  \"email_subject\": \"ä»¶åï¼ˆ60æ–‡å­—ä»¥å†…ï¼‰\",\n  \"email_body_html\": \"HTMLå½¢å¼ã®æœ¬æ–‡\",\n  \"email_body_plain\": \"ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç‰ˆã®æœ¬æ–‡\"\n}\n\nã€é‡è¦ãªåˆ¶ç´„ã€‘\n- ä»¶åã¯ã€Œã€äºˆå®šé€šçŸ¥ã€‘ã€ã§å§‹ã‚ã‚‹\n- HTMLæœ¬æ–‡ã¯<html><body>ã‚¿ã‚°ã§å›²ã‚€\n- æœ¬æ–‡ã«ã¯äºˆå®šã®ã‚¿ã‚¤ãƒˆãƒ«ã€æ—¥æ™‚ã€æ‰€è¦æ™‚é–“ã€å‚åŠ è€…ã¸ã®é…æ…®ã‚’å«ã‚ã‚‹\n- ä¸å¯§ã§ãƒ“ã‚¸ãƒã‚¹ãƒ©ã‚¤ã‚¯ãªæ–‡ä½“ã‚’ä½¿ç”¨ã™ã‚‹",
          "maxIterations": 2,
          "returnIntermediateSteps": false
        }
      },
      "id": "agent_024",
      "name": "ã€AI Agent 3ã€‘é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ç”Ÿæˆ",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [2420, 200],
      "notes": "å‡¦ç†å†…å®¹: äºˆå®šæƒ…å ±ã‹ã‚‰ãƒ“ã‚¸ãƒã‚¹ãƒ¡ãƒ¼ãƒ«ã‚’è‡ªå‹•ç”Ÿæˆ\nè²¬å‹™: æ§‹é€ åŒ–äºˆå®šãƒ‡ãƒ¼ã‚¿ â†’ ä¸å¯§ãªãƒ“ã‚¸ãƒã‚¹ãƒ¡ãƒ¼ãƒ«\nå…¥åŠ›: event_title, event_datetime, duration_minutes, attendee_emails, description\nå‡ºåŠ›: email_subject, email_body_html, email_body_plain\né€£æº: Chat Model (Claude), Memory, Output Parser Tool"
    },
    {
      "_comment": "Chat Model 3: Claude 4.5 Sonnet - AI Agent 3ç”¨ã®è¨€èªãƒ¢ãƒ‡ãƒ«",
      "parameters": {
        "model": "anthropic/claude-4.5-sonnet:beta",
        "options": {
          "baseURL": "https://openrouter.ai/api/v1",
          "temperature": 0.8,
          "maxTokens": 1500,
          "topP": 0.9
        }
      },
      "id": "chatmodel_025",
      "name": "Claude Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1,
      "position": [2300, 20],
      "credentials": {
        "openAiApi": {
          "id": "openrouter_api",
          "name": "OpenRouter API"
        }
      },
      "notes": "å‡¦ç†å†…å®¹: Claude 4.5 Sonnetã§ãƒ“ã‚¸ãƒã‚¹ãƒ¡ãƒ¼ãƒ«ç”Ÿæˆ\nãƒ¢ãƒ‡ãƒ«: anthropic/claude-4.5-sonnet:beta\næ¸©åº¦è¨­å®š: 0.8 (è‡ªç„¶ã§å‰µé€ çš„ãªæ–‡ç« )\næœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³: 1500\nå½¹å‰²: é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ç”ŸæˆAI Agentã®æ¨è«–ã‚¨ãƒ³ã‚¸ãƒ³"
    },
    {
      "_comment": "Memory 3: ä¼šè©±å±¥æ­´ç®¡ç† - AI Agent 3ç”¨",
      "parameters": {
        "contextWindowLength": 3
      },
      "id": "memory_026",
      "name": "ãƒ¡ãƒ¼ãƒ«ç”Ÿæˆ Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.2,
      "position": [2300, 100],
      "notes": "å‡¦ç†å†…å®¹: AI Agent 3ã®ä¼šè©±å±¥æ­´ã‚’ä¿å­˜\nä¿å­˜å†…å®¹: éå»3ä»¶ã®ãƒ¡ãƒ¼ãƒ«ç”Ÿæˆå±¥æ­´\nå½¹å‰²: æ–‡è„ˆã‚’ä¿æŒã—ã¦ä¸€è²«æ€§ã®ã‚ã‚‹ãƒ¡ãƒ¼ãƒ«ã‚’ç”Ÿæˆ"
    },
    {
      "_comment": "Output Parser Tool 3: ãƒ¡ãƒ¼ãƒ«JSONå‡ºåŠ›ã‚’æ§‹é€ åŒ–",
      "parameters": {
        "schemaType": "fromJson",
        "jsonSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"email_subject\": {\"type\": \"string\", \"maxLength\": 60},\n    \"email_body_html\": {\"type\": \"string\"},\n    \"email_body_plain\": {\"type\": \"string\"}\n  },\n  \"required\": [\"email_subject\", \"email_body_html\", \"email_body_plain\"]\n}"
      },
      "id": "parser_027",
      "name": "ãƒ¡ãƒ¼ãƒ«ãƒ‡ãƒ¼ã‚¿Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2,
      "position": [2300, 300],
      "notes": "å‡¦ç†å†…å®¹: AI Agentå‡ºåŠ›ã‚’ãƒ¡ãƒ¼ãƒ«JSONã‚¹ã‚­ãƒ¼ãƒã«å¾“ã£ã¦æ§‹é€ åŒ–\næ¤œè¨¼é …ç›®: email_subject (60æ–‡å­—ä»¥å†…), email_body_html, email_body_plain\nå‡ºåŠ›: æ¤œè¨¼æ¸ˆã¿ãƒ¡ãƒ¼ãƒ«JSON"
    },
    {
      "_comment": "ãƒ¡ãƒ¼ãƒ«ãƒ‡ãƒ¼ã‚¿æ•´å½¢: Gmail APIç”¨ã®RFC 2822å½¢å¼ã«å¤‰æ›",
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const data = $input.first().json;\nconst emailSubject = data.email_subject;\nconst emailBody = data.email_body_html;\nconst attendees = data.attendee_emails || [];\n\nconst emailMessages = attendees.map(email => {\n  const rawMessage = [\n    `From: your-email@gmail.com`,\n    `To: ${email}`,\n    `Subject: ${emailSubject}`,\n    `Content-Type: text/html; charset=UTF-8`,\n    ``,\n    emailBody\n  ].join('\\r\\n');\n  \n  return {\n    json: {\n      to_email: email,\n      raw_message: Buffer.from(rawMessage).toString('base64').replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, ''),\n      event_title: data.event_title,\n      callback_url: data.callback_url,\n      user_id: data.user_id\n    }\n  };\n});\n\nreturn emailMessages;"
      },
      "id": "code_013",
      "name": "ãƒ¡ãƒ¼ãƒ«ãƒ‡ãƒ¼ã‚¿æ•´å½¢",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [2540, 200],
      "notes": "å‡¦ç†å†…å®¹: ãƒ¡ãƒ¼ãƒ«ã‚’Gmail APIç”¨ã®RFC 2822å½¢å¼ã«å¤‰æ›\nå‡¦ç†:\n1. å‚åŠ è€…ã”ã¨ã«ãƒ¡ãƒ¼ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”Ÿæˆ\n2. Base64ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ï¼ˆURL-safeå½¢å¼ï¼‰\nå‡ºåŠ›: to_email, raw_message (base64), event_title, callback_url, user_id"
    },
    {
      "_comment": "Gmailé€ä¿¡: RFC 2822å½¢å¼ã®ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡",
      "parameters": {
        "method": "POST",
        "url": "https://gmail.googleapis.com/gmail/v1/users/me/messages/send",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "gmailOAuth2",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"raw\": \"{{ $json.raw_message }}\"\n}",
        "options": {
          "timeout": 15000,
          "batching": {
            "batch": {
              "batchSize": 1,
              "batchInterval": 200
            }
          }
        }
      },
      "id": "http_028",
      "name": "Gmailé€ä¿¡",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2660, 200],
      "credentials": {
        "gmailOAuth2": {
          "id": "gmail_oauth",
          "name": "Gmail OAuth2"
        }
      },
      "continueOnFail": true,
      "retryOnFail": false,
      "notes": "å‡¦ç†å†…å®¹: Gmail APIã§ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡\nãƒãƒƒãƒå‡¦ç†: 1é€šãšã¤200msé–“éš”ã§é€ä¿¡ï¼ˆãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾ç­–ï¼‰\nã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ: 15ç§’\ncontinueOnFail: trueï¼ˆä¸€éƒ¨å¤±æ•—ã§ã‚‚ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ç¶™ç¶šï¼‰"
    },
    {
      "_comment": "DiscordæˆåŠŸè¿”ä¿¡: ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ç™»éŒ²æˆåŠŸã‚’Discordã«é€šçŸ¥",
      "parameters": {
        "method": "POST",
        "url": "={{ $json.callback_url }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"content\": \"âœ… äºˆå®šã‚’ç™»éŒ²ã—ã¾ã—ãŸï¼\\n\\nğŸ“… ã‚¿ã‚¤ãƒˆãƒ«: {{ $json.event_title }}\\nğŸ• æ—¥æ™‚: {{ $json.event_datetime }}\\nâ±ï¸ æ‰€è¦æ™‚é–“: {{ $json.duration_minutes }}åˆ†\\nğŸ‘¥ å‚åŠ è€…: {{ $json.attendee_emails.length }}å\\n\\nğŸ“§ é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã—ã¾ã—ãŸã€‚\"\n}",
        "options": {
          "timeout": 10000
        }
      },
      "id": "http_036",
      "name": "DiscordæˆåŠŸè¿”ä¿¡",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2780, 200],
      "continueOnFail": false,
      "retryOnFail": true,
      "maxTries": 2,
      "waitBetweenTries": 1000,
      "notes": "å‡¦ç†å†…å®¹: Discordã«æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡\né€ä¿¡å†…å®¹: äºˆå®šã‚¿ã‚¤ãƒˆãƒ«ã€æ—¥æ™‚ã€æ‰€è¦æ™‚é–“ã€å‚åŠ è€…æ•°ã€ãƒ¡ãƒ¼ãƒ«é€ä¿¡å®Œäº†\nãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ: çµµæ–‡å­—ä»˜ãã®è¦‹ã‚„ã™ã„å½¢å¼"
    },
    {
      "_comment": "AI Agent 2: ç©ºãæ™‚é–“å€™è£œç”Ÿæˆ - Geminiã‚’ä½¿ç”¨ã—ã¦ä»£æ›¿æ™‚é–“ã‚’ææ¡ˆ",
      "parameters": {
        "promptType": "define",
        "text": "=å¸Œæœ›æ—¥æ™‚: {{ $json.event_datetime }}\næ‰€è¦æ™‚é–“: {{ $json.duration_minutes }}åˆ†\næ—¢å­˜äºˆå®š: {{ JSON.stringify($json.existing_events) }}\nå¯¾è±¡æœŸé–“: ä»Šæ—¥ã¨æ˜æ—¥ï¼ˆ{{ $now.toFormat('yyyy-MM-dd') }}ã‹ã‚‰{{ $now.plus({days: 1}).toFormat('yyyy-MM-dd') }}ï¼‰\n\nä¸Šè¨˜ã®æƒ…å ±ã‚’ã‚‚ã¨ã«ã€ç©ºãæ™‚é–“ã®å€™è£œã‚’5ã¤ææ¡ˆã—ã¦ãã ã•ã„ã€‚",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "ã‚ãªãŸã¯ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼åˆ†æã®å°‚é–€å®¶ã§ã™ã€‚\n\nã€è²¬å‹™ã€‘\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ—¢å­˜äºˆå®šãƒªã‚¹ãƒˆã‚’åˆ†æã—ã€å¸Œæœ›æ—¥æ™‚ã«é‡è¤‡ãŒã‚ã‚‹å ´åˆã«ä»£æ›¿å€™è£œã‚’ææ¡ˆã™ã‚‹\n- æ—¢å­˜äºˆå®šã¨é‡è¤‡ã—ãªã„æ™‚é–“å¸¯ã®ã¿ã‚’ææ¡ˆã™ã‚‹\n\nã€ã‚´ãƒ¼ãƒ«ã€‘\nä»¥ä¸‹ã®å½¢å¼ã§5ã¤ã®å€™è£œã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ï¼š\n{\n  \"alternative_slots\": [\n    {\n      \"slot_datetime\": \"YYYY-MM-DDTHH:MM:SS+09:00\",\n      \"reason\": \"æ¨å¥¨ç†ç”±ï¼ˆ50æ–‡å­—ä»¥å†…ï¼‰\"\n    }\n  ]\n}\n\nã€é‡è¦ãªåˆ¶ç´„ã€‘\n- å€™è£œæ•°ã¯å¿…ãš5ã¤\n- å¯¾è±¡æœŸé–“ã¯ä»Šæ—¥ã¨æ˜æ—¥ã®2æ—¥åˆ†ã®ã¿\n- å–¶æ¥­æ™‚é–“å†…ï¼ˆ9:00-18:00ï¼‰ã‚’å„ªå…ˆ\n- æ—¢å­˜äºˆå®šã¨é‡è¤‡ã—ãªã„ã“ã¨ã‚’å¿…ãšç¢ºèª\n- ç†ç”±ã¯å…·ä½“çš„ã«è¨˜è¿°",
          "maxIterations": 3,
          "returnIntermediateSteps": false
        }
      },
      "id": "agent_027",
      "name": "ã€AI Agent 2ã€‘ç©ºãæ™‚é–“å€™è£œç”Ÿæˆ",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [2180, 400],
      "notes": "å‡¦ç†å†…å®¹: æ—¢å­˜äºˆå®šã‚’åˆ†æã—ã¦ç©ºãæ™‚é–“å€™è£œã‚’5ã¤ææ¡ˆ\nè²¬å‹™: æ—¢å­˜äºˆå®šãƒªã‚¹ãƒˆ + å¸Œæœ›æ™‚åˆ» â†’ 5ã¤ã®ä»£æ›¿å€™è£œ\nå…¥åŠ›: event_datetime, duration_minutes, existing_events\nå‡ºåŠ›: alternative_slots (é…åˆ—ã€5è¦ç´ )\né€£æº: Chat Model (Gemini), Memory, Output Parser Tool"
    },
    {
      "_comment": "Chat Model 2: Gemini 2.5 Flash - AI Agent 2ç”¨ã®è¨€èªãƒ¢ãƒ‡ãƒ«",
      "parameters": {
        "model": "google/gemini-2.5-flash-exp:free",
        "options": {
          "baseURL": "https://openrouter.ai/api/v1",
          "temperature": 0.7,
          "maxTokens": 2000,
          "topP": 0.95
        }
      },
      "id": "chatmodel_029",
      "name": "Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1,
      "position": [2060, 220],
      "credentials": {
        "openAiApi": {
          "id": "openrouter_api",
          "name": "OpenRouter API"
        }
      },
      "notes": "å‡¦ç†å†…å®¹: Gemini 2.5 Flashã§ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼åˆ†æã¨å€™è£œç”Ÿæˆ\nãƒ¢ãƒ‡ãƒ«: google/gemini-2.5-flash-exp:free\næ¸©åº¦è¨­å®š: 0.7 (ãƒãƒ©ãƒ³ã‚¹å‹)\næœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³: 2000\nå½¹å‰²: ç©ºãæ™‚é–“å€™è£œç”ŸæˆAI Agentã®æ¨è«–ã‚¨ãƒ³ã‚¸ãƒ³"
    },
    {
      "_comment": "Memory 2: ä¼šè©±å±¥æ­´ç®¡ç† - AI Agent 2ç”¨",
      "parameters": {
        "contextWindowLength": 3
      },
      "id": "memory_030",
      "name": "å€™è£œç”Ÿæˆ Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.2,
      "position": [2060, 300],
      "notes": "å‡¦ç†å†…å®¹: AI Agent 2ã®ä¼šè©±å±¥æ­´ã‚’ä¿å­˜\nä¿å­˜å†…å®¹: éå»3ä»¶ã®å€™è£œç”Ÿæˆå±¥æ­´\nå½¹å‰²: æ–‡è„ˆã‚’ä¿æŒã—ã¦ä¸€è²«æ€§ã®ã‚ã‚‹å€™è£œã‚’ææ¡ˆ"
    },
    {
      "_comment": "Output Parser Tool 2: å€™è£œJSONå‡ºåŠ›ã‚’æ§‹é€ åŒ–",
      "parameters": {
        "schemaType": "fromJson",
        "jsonSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"alternative_slots\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"slot_datetime\": {\"type\": \"string\"},\n          \"reason\": {\"type\": \"string\", \"maxLength\": 50}\n        },\n        \"required\": [\"slot_datetime\", \"reason\"]\n      },\n      \"minItems\": 5,\n      \"maxItems\": 5\n    }\n  },\n  \"required\": [\"alternative_slots\"]\n}"
      },
      "id": "parser_031",
      "name": "å€™è£œãƒ‡ãƒ¼ã‚¿Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2,
      "position": [2060, 500],
      "notes": "å‡¦ç†å†…å®¹: AI Agentå‡ºåŠ›ã‚’å€™è£œJSONã‚¹ã‚­ãƒ¼ãƒã«å¾“ã£ã¦æ§‹é€ åŒ–\næ¤œè¨¼é …ç›®: alternative_slotsé…åˆ—ï¼ˆå¿…ãš5è¦ç´ ï¼‰ã€å„è¦ç´ ã¯slot_datetime, reason\nå‡ºåŠ›: æ¤œè¨¼æ¸ˆã¿å€™è£œJSON"
    },
    {
      "_comment": "ã‚¹ãƒ†ãƒ¼ãƒˆä¿å­˜: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é¸æŠã‚’å¾…ã¤ãŸã‚ã®çŠ¶æ…‹ã‚’ä¿å­˜",
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const staticData = this.getWorkflowStaticData('global');\nconst userId = $input.first().json.user_id;\n\nstaticData[userId] = {\n  original_request: {\n    event_title: $input.first().json.event_title,\n    duration_minutes: $input.first().json.duration_minutes,\n    attendee_emails: $input.first().json.attendee_emails,\n    description: $input.first().json.description\n  },\n  proposed_alternatives: $input.first().json.alternative_slots,\n  status: 'awaiting_selection',\n  timestamp: Date.now()\n};\n\nreturn [{\n  json: {\n    ...($input.first().json),\n    state_saved: true\n  }\n}];"
      },
      "id": "code_029",
      "name": "ã‚¹ãƒ†ãƒ¼ãƒˆä¿å­˜",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [2300, 400],
      "notes": "å‡¦ç†å†…å®¹: ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ãƒ†ãƒ¼ãƒˆã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é¸æŠå¾…ã¡çŠ¶æ…‹ã‚’ä¿å­˜\nä¿å­˜å†…å®¹: original_request, proposed_alternatives, status, timestamp\nå½¹å‰²: æ¬¡å›ã®Webhookã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç•ªå·é¸æŠã‚’å‡¦ç†ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹"
    },
    {
      "_comment": "Discordé‡è¤‡è¿”ä¿¡: 5ã¤ã®å€™è£œã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æç¤º",
      "parameters": {
        "method": "POST",
        "url": "={{ $json.callback_url }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"content\": \"âš ï¸ äºˆå®šãŒé‡è¤‡ã—ã¦ã„ã¾ã™\\n\\nä»¥ä¸‹ã®å€™è£œã‹ã‚‰é¸æŠã—ã¦ãã ã•ã„ï¼ˆç•ªå·ã§è¿”ä¿¡ï¼‰:\\n\\n1ï¸âƒ£ {{ $json.alternative_slots[0].slot_datetime }} - {{ $json.alternative_slots[0].reason }}\\n2ï¸âƒ£ {{ $json.alternative_slots[1].slot_datetime }} - {{ $json.alternative_slots[1].reason }}\\n3ï¸âƒ£ {{ $json.alternative_slots[2].slot_datetime }} - {{ $json.alternative_slots[2].reason }}\\n4ï¸âƒ£ {{ $json.alternative_slots[3].slot_datetime }} - {{ $json.alternative_slots[3].reason }}\\n5ï¸âƒ£ {{ $json.alternative_slots[4].slot_datetime }} - {{ $json.alternative_slots[4].reason }}\\n\\nç•ªå·ï¼ˆ1-5ï¼‰ã§è¿”ä¿¡ã—ã¦ãã ã•ã„ã€‚\"\n}",
        "options": {
          "timeout": 10000
        }
      },
      "id": "http_037",
      "name": "Discordé‡è¤‡è¿”ä¿¡",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2420, 400],
      "continueOnFail": false,
      "retryOnFail": true,
      "maxTries": 2,
      "waitBetweenTries": 1000,
      "notes": "å‡¦ç†å†…å®¹: Discordã«5ã¤ã®ä»£æ›¿å€™è£œã‚’æç¤º\nãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ: ç•ªå·ä»˜ããƒªã‚¹ãƒˆï¼ˆçµµæ–‡å­—ä½¿ç”¨ï¼‰\næ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ1-5ã®ç•ªå·ã§è¿”ä¿¡"
    },
    {
      "_comment": "ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠç•ªå·è§£æ: 1-5ã®ç•ªå·ã‚’è§£æã—ã¦é¸æŠã•ã‚ŒãŸå€™è£œã‚’å–å¾—",
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const message = $input.first().json.message_content;\nconst match = message.match(/[1-5]/);\n\nif (!match) {\n  return [{\n    json: {\n      ...($input.first().json),\n      selection_valid: false,\n      selection_number: null,\n      error_message: '1-5ã®ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'\n    }\n  }];\n}\n\nconst selectionNumber = parseInt(match[0]);\nconst alternatives = $input.first().json.proposed_alternatives;\nconst selectedSlot = alternatives[selectionNumber - 1];\n\nreturn [{\n  json: {\n    ...($input.first().json),\n    selection_valid: true,\n    selection_number: selectionNumber,\n    event_datetime: selectedSlot.slot_datetime,\n    event_title: $input.first().json.original_request.event_title,\n    duration_minutes: $input.first().json.original_request.duration_minutes,\n    attendee_emails: $input.first().json.original_request.attendee_emails,\n    description: $input.first().json.original_request.description\n  }\n}];"
      },
      "id": "code_014",
      "name": "ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠç•ªå·è§£æ",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1020, 500],
      "notes": "å‡¦ç†å†…å®¹: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¥åŠ›ã—ãŸ1-5ã®ç•ªå·ã‚’è§£æ\nå‡¦ç†:\n1. æ­£è¦è¡¨ç¾ã§ç•ªå·ã‚’æŠ½å‡º\n2. é¸æŠã•ã‚ŒãŸå€™è£œã®slot_datetimeã‚’å–å¾—\n3. original_requestã‹ã‚‰äºˆå®šæƒ…å ±ã‚’å¾©å…ƒ\nå‡ºåŠ›: selection_valid, selection_number, event_datetime, event_title, etc."
    },
    {
      "_comment": "é¸æŠç•ªå·æ¤œè¨¼: ç•ªå·ãŒæœ‰åŠ¹ã‹ãƒã‚§ãƒƒã‚¯",
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "condition_1",
              "leftValue": "={{ $json.selection_valid }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "true"
              }
            }
          ]
        }
      },
      "id": "if_021",
      "name": "é¸æŠç•ªå·æ¤œè¨¼",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [1140, 500],
      "notes": "å‡¦ç†å†…å®¹: selection_validãƒ•ãƒ©ã‚°ã§å‡¦ç†ã‚’åˆ†å²\nåˆ†å²1 (true): æœ‰åŠ¹ãªç•ªå· â†’ ã‚¹ãƒ†ãƒ¼ãƒˆã‚¯ãƒªã‚¢ â†’ ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è¨ˆç®—ã¸\nåˆ†å²2 (false): ç„¡åŠ¹ãªç•ªå· â†’ ã‚¨ãƒ©ãƒ¼è¿”ä¿¡ã¸"
    },
    {
      "_comment": "ã‚¹ãƒ†ãƒ¼ãƒˆã‚¯ãƒªã‚¢: é¸æŠå®Œäº†å¾Œã€ä¿å­˜æ¸ˆã¿ã‚¹ãƒ†ãƒ¼ãƒˆã‚’å‰Šé™¤",
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const staticData = this.getWorkflowStaticData('global');\nconst userId = $input.first().json.user_id;\ndelete staticData[userId];\n\nreturn [{\n  json: {\n    ...($input.first().json),\n    state_cleared: true\n  }\n}];"
      },
      "id": "code_030",
      "name": "ã‚¹ãƒ†ãƒ¼ãƒˆã‚¯ãƒªã‚¢",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1260, 500],
      "notes": "å‡¦ç†å†…å®¹: ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ãƒ†ãƒ¼ãƒˆã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®çŠ¶æ…‹ã‚’å‰Šé™¤\nå½¹å‰²: ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯é˜²æ­¢ã€æ¬¡å›ã®åˆå›ãƒ•ãƒ­ãƒ¼ã‚’æ­£å¸¸ã«å‹•ä½œã•ã›ã‚‹"
    },
    {
      "_comment": "Discordã‚¨ãƒ©ãƒ¼è¿”ä¿¡: å„ç¨®ã‚¨ãƒ©ãƒ¼æ™‚ã«Discordã«é€šçŸ¥",
      "parameters": {
        "method": "POST",
        "url": "={{ $json.callback_url }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"content\": \"âŒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ\\n\\n{{ $json.error_message || $json.validation_error || 'äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ã§ã™' }}\\n\\nã‚‚ã†ä¸€åº¦ãŠè©¦ã—ã„ãŸã ãã‹ã€ç®¡ç†è€…ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚\"\n}",
        "options": {
          "timeout": 10000
        }
      },
      "id": "http_038",
      "name": "Discordã‚¨ãƒ©ãƒ¼è¿”ä¿¡",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [1020, 700],
      "continueOnFail": true,
      "retryOnFail": false,
      "notes": "å‡¦ç†å†…å®¹: å„ç¨®ã‚¨ãƒ©ãƒ¼ã‚’Discordã«é€šçŸ¥\nã‚¨ãƒ©ãƒ¼ç¨®åˆ¥: Webhookæ¤œè¨¼å¤±æ•—ã€AIæŠ½å‡ºå¤±æ•—ã€é¸æŠç•ªå·ç„¡åŠ¹ã€äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼\nãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ: ã‚¨ãƒ©ãƒ¼çµµæ–‡å­— + ã‚¨ãƒ©ãƒ¼å†…å®¹ + å¯¾å‡¦æ–¹æ³•"
    },
    {
      "_comment": "ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµ‚äº†: å…¨å‡¦ç†å®Œäº†",
      "parameters": {},
      "id": "noop_042",
      "name": "ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµ‚äº†",
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [2900, 300],
      "notes": "å‡¦ç†å†…å®¹: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ­£å¸¸çµ‚äº†\nåˆ°é”ãƒ‘ã‚¿ãƒ¼ãƒ³:\n1. DiscordæˆåŠŸè¿”ä¿¡ â†’ çµ‚äº†\n2. Discordé‡è¤‡è¿”ä¿¡ â†’ çµ‚äº†\n3. Discordã‚¨ãƒ©ãƒ¼è¿”ä¿¡ â†’ çµ‚äº†"
    }
  ],
  "connections": {
    "Discord Bot Webhook": {
      "main": [
        [
          {
            "node": "Webhookãƒ‡ãƒ¼ã‚¿æŠ½å‡º",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhookãƒ‡ãƒ¼ã‚¿æŠ½å‡º": {
      "main": [
        [
          {
            "node": "ã‚¹ãƒ†ãƒ¼ãƒˆç¢ºèª",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã‚¹ãƒ†ãƒ¼ãƒˆç¢ºèª": {
      "main": [
        [
          {
            "node": "ãƒ•ãƒ­ãƒ¼æŒ¯ã‚Šåˆ†ã‘",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ãƒ•ãƒ­ãƒ¼æŒ¯ã‚Šåˆ†ã‘": {
      "main": [
        [
          {
            "node": "Webhookãƒ‡ãƒ¼ã‚¿æ¤œè¨¼",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ä¿å­˜æ¸ˆã¿ã‚¹ãƒ†ãƒ¼ãƒˆèª­ã¿è¾¼ã¿",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ä¿å­˜æ¸ˆã¿ã‚¹ãƒ†ãƒ¼ãƒˆèª­ã¿è¾¼ã¿": {
      "main": [
        [
          {
            "node": "ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠç•ªå·è§£æ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhookãƒ‡ãƒ¼ã‚¿æ¤œè¨¼": {
      "main": [
        [
          {
            "node": "ã€AI Agent 1ã€‘Discordäºˆå®šæŠ½å‡º",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Discordã‚¨ãƒ©ãƒ¼è¿”ä¿¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã€AI Agent 1ã€‘Discordäºˆå®šæŠ½å‡º": {
      "main": [
        [
          {
            "node": "AIæŠ½å‡ºçµæœæ¤œè¨¼",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Grok Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "ã€AI Agent 1ã€‘Discordäºˆå®šæŠ½å‡º",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Discordäºˆå®šæŠ½å‡º Memory": {
      "ai_memory": [
        [
          {
            "node": "ã€AI Agent 1ã€‘Discordäºˆå®šæŠ½å‡º",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "äºˆå®šãƒ‡ãƒ¼ã‚¿Parser": {
      "ai_outputParser": [
        [
          {
            "node": "ã€AI Agent 1ã€‘Discordäºˆå®šæŠ½å‡º",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "AIæŠ½å‡ºçµæœæ¤œè¨¼": {
      "main": [
        [
          {
            "node": "æ¤œè¨¼çµæœãƒã‚§ãƒƒã‚¯",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ¤œè¨¼çµæœãƒã‚§ãƒƒã‚¯": {
      "main": [
        [
          {
            "node": "ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è¨ˆç®—",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Discordã‚¨ãƒ©ãƒ¼è¿”ä¿¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è¨ˆç®—": {
      "main": [
        [
          {
            "node": "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æ—¢å­˜äºˆå®šå–å¾—",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æ—¢å­˜äºˆå®šå–å¾—": {
      "main": [
        [
          {
            "node": "ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ•´å½¢",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ•´å½¢": {
      "main": [
        [
          {
            "node": "äºˆå®šé‡è¤‡åˆ¤å®š",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "äºˆå®šé‡è¤‡åˆ¤å®š": {
      "main": [
        [
          {
            "node": "é‡è¤‡æœ‰ç„¡ã§åˆ†å²",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "é‡è¤‡æœ‰ç„¡ã§åˆ†å²": {
      "main": [
        [
          {
            "node": "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼äºˆå®šç™»éŒ²",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ã€AI Agent 2ã€‘ç©ºãæ™‚é–“å€™è£œç”Ÿæˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼äºˆå®šç™»éŒ²": {
      "main": [
        [
          {
            "node": "ãƒ¡ãƒ¼ãƒ«é€ä¿¡è¦å¦åˆ¤å®š",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ãƒ¡ãƒ¼ãƒ«é€ä¿¡è¦å¦åˆ¤å®š": {
      "main": [
        [
          {
            "node": "ã€AI Agent 3ã€‘é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ç”Ÿæˆ",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "DiscordæˆåŠŸè¿”ä¿¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã€AI Agent 3ã€‘é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ç”Ÿæˆ": {
      "main": [
        [
          {
            "node": "ãƒ¡ãƒ¼ãƒ«ãƒ‡ãƒ¼ã‚¿æ•´å½¢",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Claude Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "ã€AI Agent 3ã€‘é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ç”Ÿæˆ",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "ãƒ¡ãƒ¼ãƒ«ç”Ÿæˆ Memory": {
      "ai_memory": [
        [
          {
            "node": "ã€AI Agent 3ã€‘é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ç”Ÿæˆ",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "ãƒ¡ãƒ¼ãƒ«ãƒ‡ãƒ¼ã‚¿Parser": {
      "ai_outputParser": [
        [
          {
            "node": "ã€AI Agent 3ã€‘é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ç”Ÿæˆ",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "ãƒ¡ãƒ¼ãƒ«ãƒ‡ãƒ¼ã‚¿æ•´å½¢": {
      "main": [
        [
          {
            "node": "Gmailé€ä¿¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gmailé€ä¿¡": {
      "main": [
        [
          {
            "node": "DiscordæˆåŠŸè¿”ä¿¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "DiscordæˆåŠŸè¿”ä¿¡": {
      "main": [
        [
          {
            "node": "ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµ‚äº†",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã€AI Agent 2ã€‘ç©ºãæ™‚é–“å€™è£œç”Ÿæˆ": {
      "main": [
        [
          {
            "node": "ã‚¹ãƒ†ãƒ¼ãƒˆä¿å­˜",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "ã€AI Agent 2ã€‘ç©ºãæ™‚é–“å€™è£œç”Ÿæˆ",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "å€™è£œç”Ÿæˆ Memory": {
      "ai_memory": [
        [
          {
            "node": "ã€AI Agent 2ã€‘ç©ºãæ™‚é–“å€™è£œç”Ÿæˆ",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "å€™è£œãƒ‡ãƒ¼ã‚¿Parser": {
      "ai_outputParser": [
        [
          {
            "node": "ã€AI Agent 2ã€‘ç©ºãæ™‚é–“å€™è£œç”Ÿæˆ",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "ã‚¹ãƒ†ãƒ¼ãƒˆä¿å­˜": {
      "main": [
        [
          {
            "node": "Discordé‡è¤‡è¿”ä¿¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Discordé‡è¤‡è¿”ä¿¡": {
      "main": [
        [
          {
            "node": "ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµ‚äº†",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠç•ªå·è§£æ": {
      "main": [
        [
          {
            "node": "é¸æŠç•ªå·æ¤œè¨¼",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "é¸æŠç•ªå·æ¤œè¨¼": {
      "main": [
        [
          {
            "node": "ã‚¹ãƒ†ãƒ¼ãƒˆã‚¯ãƒªã‚¢",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Discordã‚¨ãƒ©ãƒ¼è¿”ä¿¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã‚¹ãƒ†ãƒ¼ãƒˆã‚¯ãƒªã‚¢": {
      "main": [
        [
          {
            "node": "ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è¨ˆç®—",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Discordã‚¨ãƒ©ãƒ¼è¿”ä¿¡": {
      "main": [
        [
          {
            "node": "ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµ‚äº†",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "saveManualExecutions": true,
    "saveExecutionProgress": true,
    "timezone": "Asia/Tokyo",
    "callerPolicy": "workflowsFromSameOwner",
    "executionTimeout": 300,
    "errorWorkflow": "Discord Calendar Manager - Error Handling"
  },
  "staticData": null,
  "tags": [],
  "pinData": {},
  "versionId": "2"
}
