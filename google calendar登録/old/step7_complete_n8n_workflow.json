{
  "name": "Discord Calendar Manager - Google Calendar Integration",
  "meta": {
    "templateCreatedBy": "n8n AI Workflow Designer v8",
    "description": "Discord BotçµŒç”±ã§Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼äºˆå®šç®¡ç†ã‚’è‡ªå‹•åŒ–ã€‚é‡è¤‡ãƒã‚§ãƒƒã‚¯ã€AIäºˆå®šæŠ½å‡ºã€é€šçŸ¥ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã‚’å®Œå…¨è‡ªå‹•åŒ–",
    "version": "1.0.0"
  },
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "discord-calendar",
        "authentication": "none",
        "responseMode": "lastNode",
        "options": {
          "rawBody": false
        }
      },
      "id": "webhook_001",
      "name": "Discord Bot Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1.1,
      "position": [240, 300],
      "webhookId": "discord-calendar-webhook"
    },
    {
      "parameters": {
        "mode": "manual",
        "duplicateItem": false,
        "assignments": {
          "assignments": [
            {
              "id": "user_id",
              "name": "user_id",
              "value": "={{ $json.body.user_id }}",
              "type": "string"
            },
            {
              "id": "channel_id",
              "name": "channel_id",
              "value": "={{ $json.body.channel_id }}",
              "type": "string"
            },
            {
              "id": "message_content",
              "name": "message_content",
              "value": "={{ $json.body.message_content }}",
              "type": "string"
            },
            {
              "id": "callback_url",
              "name": "callback_url",
              "value": "={{ $json.body.callback_url }}",
              "type": "string"
            },
            {
              "id": "request_timestamp",
              "name": "request_timestamp",
              "value": "={{ $json.body.timestamp }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "set_002",
      "name": "Webhookãƒ‡ãƒ¼ã‚¿æŠ½å‡º",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [460, 300]
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const staticData = this.getWorkflowStaticData('global');\nconst userId = $input.first().json.user_id;\nconst savedState = staticData[userId];\n\nreturn [{\n  json: {\n    ...($input.first().json),\n    is_selection_flow: !!savedState,\n    saved_state: savedState || null\n  }\n}];"
      },
      "id": "code_003",
      "name": "ã‚¹ãƒ†ãƒ¼ãƒˆç¢ºèª",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [680, 300]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "condition_1",
              "leftValue": "={{ $json.is_selection_flow }}",
              "rightValue": false,
              "operator": {
                "type": "boolean",
                "operation": "false"
              }
            }
          ]
        }
      },
      "id": "if_017",
      "name": "ãƒ•ãƒ­ãƒ¼æŒ¯ã‚Šåˆ†ã‘",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [800, 300]
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const staticData = this.getWorkflowStaticData('global');\nconst userId = $input.first().json.user_id;\nconst savedState = staticData[userId];\n\nif (!savedState) {\n  throw new Error('No saved state found for user');\n}\n\nreturn [{\n  json: {\n    ...savedState,\n    user_id: userId,\n    message_content: $input.first().json.message_content\n  }\n}];"
      },
      "id": "code_006",
      "name": "ä¿å­˜æ¸ˆã¿ã‚¹ãƒ†ãƒ¼ãƒˆèª­ã¿è¾¼ã¿",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [900, 500]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "condition_1",
              "leftValue": "={{ $json.message_content }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty"
              }
            },
            {
              "id": "condition_2",
              "leftValue": "={{ $json.user_id }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty"
              }
            },
            {
              "id": "condition_3",
              "leftValue": "={{ $json.callback_url }}",
              "rightValue": "https://",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        }
      },
      "id": "if_007",
      "name": "Webhookãƒ‡ãƒ¼ã‚¿æ¤œè¨¼",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [900, 300]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://openrouter.ai/api/v1/chat/completions",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"model\": \"x-ai/grok-2-1212\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"ã‚ãªãŸã¯Discordãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰äºˆå®šæƒ…å ±ã‚’æŠ½å‡ºã™ã‚‹å°‚é–€å®¶ã§ã™ã€‚\\n\\nã€è²¬å‹™ã€‘\\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé€ä¿¡ã—ãŸè‡ªç„¶è¨€èªã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰ã€äºˆå®šã®ã‚¿ã‚¤ãƒˆãƒ«ã€æ—¥æ™‚ã€æ‰€è¦æ™‚é–“ã€å‚åŠ è€…ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã€èª¬æ˜ã‚’æŠ½å‡ºã™ã‚‹\\n- æŠ½å‡ºçµæœã‚’æ­£ç¢ºãªJSONå½¢å¼ã§å‡ºåŠ›ã™ã‚‹\\n\\nã€ã‚´ãƒ¼ãƒ«ã€‘\\nä»¥ä¸‹ã®5ã¤ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å«ã‚€JSONã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ï¼š\\n1. event_title: äºˆå®šã®ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆæ–‡å­—åˆ—ï¼‰\\n2. event_datetime: äºˆå®šã®é–‹å§‹æ—¥æ™‚ï¼ˆISO 8601å½¢å¼ã€æ—¥æœ¬æ™‚é–“+09:00ï¼‰\\n3. duration_minutes: æ‰€è¦æ™‚é–“ï¼ˆåˆ†å˜ä½ã®æ•´æ•°ï¼‰\\n4. attendee_emails: å‚åŠ è€…ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒªã‚¹ãƒˆï¼ˆé…åˆ—ã€ãªã‘ã‚Œã°ç©ºé…åˆ—ï¼‰\\n5. description: è£œè¶³èª¬æ˜ï¼ˆæ–‡å­—åˆ—ã€ãªã‘ã‚Œã°ç©ºæ–‡å­—åˆ—ï¼‰\\n\\nã€é‡è¦ãªåˆ¶ç´„ã€‘\\n- æ—¥æ™‚ãŒæŒ‡å®šã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã€ä»Šæ—¥ã®9:00ã¨ã™ã‚‹\\n- æ™‚åˆ»ã®ã¿æŒ‡å®šã®å ´åˆã¯ã€ä»Šæ—¥ã®æ—¥ä»˜ã¨ã™ã‚‹\\n- æ‰€è¦æ™‚é–“ãŒä¸æ˜ãªå ´åˆã¯60åˆ†ã¨ã™ã‚‹\\n- ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ãªã„å ´åˆã¯ç©ºé…åˆ—\\n- JSONä»¥å¤–ã®æ–‡ç« ã¯å‡ºåŠ›ã—ãªã„ï¼ˆJSONã®ã¿ã‚’è¿”ã™ï¼‰\"\n    },\n    {\n      \"role\": \"user\",\n      \"content\": \"ä»¥ä¸‹ã®Discordãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰äºˆå®šæƒ…å ±ã‚’æŠ½å‡ºã—ã¦ãã ã•ã„ã€‚\\n\\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: {{ $json.message_content }}\\n\\nå‡ºåŠ›å½¢å¼ï¼ˆJSONä»¥å¤–ã¯å‡ºåŠ›ç¦æ­¢ï¼‰:\\n{\\n  \\\"event_title\\\": \\\"...\\\",\\n  \\\"event_datetime\\\": \\\"YYYY-MM-DDTHH:MM:SS+09:00\\\",\\n  \\\"duration_minutes\\\": 60,\\n  \\\"attendee_emails\\\": [],\\n  \\\"description\\\": \\\"...\\\"\\n}\"\n    }\n  ],\n  \"temperature\": 0.3,\n  \"max_tokens\": 1000,\n  \"top_p\": 0.9\n}",
        "options": {
          "timeout": 30000
        }
      },
      "id": "http_010",
      "name": "ã€AI Agent 1ã€‘Discordäºˆå®šæŠ½å‡ºï¼ˆGrokï¼‰",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [1000, 300],
      "credentials": {
        "httpHeaderAuth": {
          "id": "3",
          "name": "OpenRouter API Key"
        }
      },
      "continueOnFail": false,
      "retryOnFail": true,
      "maxTries": 2,
      "waitBetweenTries": 3000
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const response = $input.first().json;\nlet content = response.choices[0].message.content;\n\n// ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’å‰Šé™¤\ncontent = content.replace(/```json\\n?/g, '').replace(/```\\n?/g, '').trim();\n\n// JSONãƒ‘ãƒ¼ã‚¹\nlet parsedData;\ntry {\n  parsedData = JSON.parse(content);\n} catch (error) {\n  return [{\n    json: {\n      error: true,\n      error_message: 'AI response JSON parse failed: ' + error.message,\n      raw_content: content\n    }\n  }];\n}\n\nreturn [{\n  json: {\n    ...($input.first().json),\n    ...parsedData,\n    ai_response_raw: content\n  }\n}];"
      },
      "id": "code_011",
      "name": "Grokãƒ¬ã‚¹ãƒãƒ³ã‚¹è§£æ",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1120, 300]
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const data = $input.first().json;\nconst isValid = \n  data.event_title && typeof data.event_title === 'string' &&\n  data.event_datetime && /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}/.test(data.event_datetime) &&\n  data.duration_minutes && typeof data.duration_minutes === 'number' && data.duration_minutes > 0 &&\n  Array.isArray(data.attendee_emails);\n\nreturn [{\n  json: {\n    ...data,\n    validation_passed: isValid,\n    validation_error: isValid ? null : 'Invalid AI extraction format'\n  }\n}];"
      },
      "id": "code_008",
      "name": "AIæŠ½å‡ºçµæœæ¤œè¨¼",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1240, 300]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "condition_1",
              "leftValue": "={{ $json.validation_passed }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "true"
              }
            }
          ]
        }
      },
      "id": "if_009",
      "name": "æ¤œè¨¼çµæœãƒã‚§ãƒƒã‚¯",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [1360, 300]
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const data = $input.first().json;\nconst startDate = new Date(data.event_datetime);\nconst endDate = new Date(startDate.getTime() + data.duration_minutes * 60 * 1000);\n\nreturn [{\n  json: {\n    ...data,\n    start_timestamp: startDate.getTime(),\n    end_timestamp: endDate.getTime(),\n    end_datetime: endDate.toISOString(),\n    event_datetime_minus_24h: new Date(startDate.getTime() - 24*60*60*1000).toISOString(),\n    event_datetime_plus_48h: new Date(startDate.getTime() + 48*60*60*1000).toISOString()\n  }\n}];"
      },
      "id": "code_012",
      "name": "ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è¨ˆç®—",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1480, 300]
    },
    {
      "parameters": {
        "method": "GET",
        "url": "https://www.googleapis.com/calendar/v3/calendars/primary/events",
        "authentication": "oAuth2",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "timeMin",
              "value": "={{ $json.event_datetime_minus_24h }}"
            },
            {
              "name": "timeMax",
              "value": "={{ $json.event_datetime_plus_48h }}"
            },
            {
              "name": "singleEvents",
              "value": "true"
            },
            {
              "name": "orderBy",
              "value": "startTime"
            }
          ]
        },
        "options": {
          "timeout": 30000
        }
      },
      "id": "http_004",
      "name": "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æ—¢å­˜äºˆå®šå–å¾—",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [1600, 300],
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "2",
          "name": "Google Calendar OAuth2"
        }
      },
      "continueOnFail": false,
      "retryOnFail": true,
      "maxTries": 3,
      "waitBetweenTries": 1000
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const events = $input.first().json.items || [];\nconst formattedEvents = events.map(event => ({\n  title: event.summary || 'No Title',\n  start_datetime: event.start.dateTime,\n  end_datetime: event.end.dateTime,\n  start_ts: new Date(event.start.dateTime).getTime(),\n  end_ts: new Date(event.end.dateTime).getTime()\n}));\n\nreturn [{\n  json: {\n    ...($input.first().json),\n    existing_events: formattedEvents\n  }\n}];"
      },
      "id": "code_005",
      "name": "ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ•´å½¢",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1720, 300]
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const newStart = $input.first().json.start_timestamp;\nconst newEnd = $input.first().json.end_timestamp;\nconst existingEvents = $input.first().json.existing_events || [];\n\nlet hasConflict = false;\nlet conflictEvent = null;\n\nfor (const event of existingEvents) {\n  if (\n    (newStart >= event.start_ts && newStart < event.end_ts) ||\n    (newEnd > event.start_ts && newEnd <= event.end_ts) ||\n    (newStart <= event.start_ts && newEnd >= event.end_ts)\n  ) {\n    hasConflict = true;\n    conflictEvent = event;\n    break;\n  }\n}\n\nreturn [{\n  json: {\n    ...($input.first().json),\n    has_conflict: hasConflict,\n    conflict_event: conflictEvent\n  }\n}];"
      },
      "id": "code_018",
      "name": "äºˆå®šé‡è¤‡åˆ¤å®š",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1840, 300]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "condition_1",
              "leftValue": "={{ $json.has_conflict }}",
              "rightValue": false,
              "operator": {
                "type": "boolean",
                "operation": "false"
              }
            }
          ]
        }
      },
      "id": "if_019",
      "name": "é‡è¤‡æœ‰ç„¡ã§åˆ†å²",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [1960, 300]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://www.googleapis.com/calendar/v3/calendars/primary/events",
        "authentication": "oAuth2",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"summary\": \"{{ $json.event_title }}\",\n  \"description\": \"{{ $json.description || '' }}\",\n  \"start\": {\n    \"dateTime\": \"{{ $json.event_datetime }}\",\n    \"timeZone\": \"Asia/Tokyo\"\n  },\n  \"end\": {\n    \"dateTime\": \"{{ $json.end_datetime }}\",\n    \"timeZone\": \"Asia/Tokyo\"\n  },\n  \"attendees\": {{ JSON.stringify($json.attendee_emails.map(email => ({email}))) }},\n  \"reminders\": {\n    \"useDefault\": true\n  }\n}",
        "options": {
          "timeout": 30000
        }
      },
      "id": "http_023",
      "name": "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼äºˆå®šç™»éŒ²",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2100, 300],
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "2",
          "name": "Google Calendar OAuth2"
        }
      },
      "continueOnFail": false,
      "retryOnFail": true,
      "maxTries": 2,
      "waitBetweenTries": 2000
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "condition_1",
              "leftValue": "={{ $json.attendee_emails.length }}",
              "rightValue": 0,
              "operator": {
                "type": "number",
                "operation": "larger"
              }
            }
          ]
        }
      },
      "id": "if_020",
      "name": "ãƒ¡ãƒ¼ãƒ«é€ä¿¡è¦å¦åˆ¤å®š",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [2220, 300]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://openrouter.ai/api/v1/chat/completions",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"model\": \"anthropic/claude-4.5-sonnet:beta\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"ã‚ãªãŸã¯ãƒ“ã‚¸ãƒã‚¹ãƒ¡ãƒ¼ãƒ«ä½œæˆã®å°‚é–€å®¶ã§ã™ã€‚\\n\\nã€è²¬å‹™ã€‘\\n- äºˆå®šæƒ…å ±ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã€æ—¥æ™‚ã€æ‰€è¦æ™‚é–“ã€å‚åŠ è€…ã€èª¬æ˜ï¼‰ã‹ã‚‰ã€å‚åŠ è€…å‘ã‘ã®é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹\\n- ä»¶åã€HTMLæœ¬æ–‡ã€ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæœ¬æ–‡ã®3ã¤ã‚’ç”Ÿæˆã™ã‚‹\\n- ä¸å¯§ã§ãƒ“ã‚¸ãƒã‚¹ãƒ©ã‚¤ã‚¯ãªæ–‡ä½“ã‚’ä½¿ç”¨ã™ã‚‹\\n\\nã€ã‚´ãƒ¼ãƒ«ã€‘\\nä»¥ä¸‹ã®å½¢å¼ã§å®Œå…¨ãªãƒ¡ãƒ¼ãƒ«æ–‡ç« ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ï¼š\\n{\\n  \\\"email_subject\\\": \\\"ä»¶åï¼ˆ60æ–‡å­—ä»¥å†…ï¼‰\\\",\\n  \\\"email_body_html\\\": \\\"HTMLå½¢å¼ã®æœ¬æ–‡\\\",\\n  \\\"email_body_plain\\\": \\\"ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç‰ˆã®æœ¬æ–‡\\\"\\n}\\n\\nã€é‡è¦ãªåˆ¶ç´„ã€‘\\n- ä»¶åã¯ã€Œã€äºˆå®šé€šçŸ¥ã€‘ã€ã§å§‹ã‚ã‚‹\\n- HTMLæœ¬æ–‡ã¯<html><body>ã‚¿ã‚°ã§å›²ã‚€\\n- æœ¬æ–‡ã«ã¯ä»¥ä¸‹ã‚’å¿…ãšå«ã‚ã‚‹:\\n  - äºˆå®šã®ã‚¿ã‚¤ãƒˆãƒ«\\n  - æ—¥æ™‚ï¼ˆæ—¥æœ¬æ™‚é–“ï¼‰\\n  - æ‰€è¦æ™‚é–“\\n  - å ´æ‰€ã¾ãŸã¯ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã®æ—¨\\n  - å‚åŠ è€…ã¸ã®é…æ…®ï¼ˆã”éƒ½åˆãŒæ‚ªã„å ´åˆã¯ã”é€£çµ¡ãã ã•ã„ãªã©ï¼‰\\n- ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç‰ˆã¯HTMLç‰ˆã¨åŒã˜å†…å®¹ã ãŒã‚¿ã‚°ãªã—\\n- JSONä»¥å¤–ã®æ–‡ç« ã¯å‡ºåŠ›ã—ãªã„ï¼ˆJSONã®ã¿ã‚’è¿”ã™ï¼‰\"\n    },\n    {\n      \"role\": \"user\",\n      \"content\": \"ä»¥ä¸‹ã®äºˆå®šæƒ…å ±ã‚’ã‚‚ã¨ã«ã€å‚åŠ è€…ã¸ã®é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚\\n\\näºˆå®šæƒ…å ±:\\n- ã‚¿ã‚¤ãƒˆãƒ«: {{ $json.event_title }}\\n- æ—¥æ™‚: {{ $json.event_datetime }}ï¼ˆæ—¥æœ¬æ™‚é–“ï¼‰\\n- æ‰€è¦æ™‚é–“: {{ $json.duration_minutes }}åˆ†\\n- å‚åŠ è€…: {{ $json.attendee_emails.join(', ') }}\\n- èª¬æ˜: {{ $json.description }}\\n\\nå‡ºåŠ›å½¢å¼ï¼ˆJSONä»¥å¤–ã¯å‡ºåŠ›ç¦æ­¢ï¼‰:\\n{\\n  \\\"email_subject\\\": \\\"...\\\",\\n  \\\"email_body_html\\\": \\\"...\\\",\\n  \\\"email_body_plain\\\": \\\"...\\\"\\n}\"\n    }\n  ],\n  \"temperature\": 0.8,\n  \"max_tokens\": 1500,\n  \"top_p\": 0.9\n}",
        "options": {
          "timeout": 30000
        }
      },
      "id": "http_024",
      "name": "ã€AI Agent 3ã€‘é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ç”Ÿæˆï¼ˆClaudeï¼‰",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2340, 300],
      "credentials": {
        "httpHeaderAuth": {
          "id": "3",
          "name": "OpenRouter API Key"
        }
      },
      "continueOnFail": false,
      "retryOnFail": true,
      "maxTries": 2,
      "waitBetweenTries": 3000
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const response = $input.first().json;\nlet content = response.choices[0].message.content;\n\n// ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’å‰Šé™¤\ncontent = content.replace(/```json\\n?/g, '').replace(/```\\n?/g, '').trim();\n\n// JSONãƒ‘ãƒ¼ã‚¹\nlet parsedData;\ntry {\n  parsedData = JSON.parse(content);\n} catch (error) {\n  // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¡ãƒ¼ãƒ«\n  return [{\n    json: {\n      ...($input.first().json),\n      email_subject: 'ã€äºˆå®šé€šçŸ¥ã€‘' + $input.first().json.event_title,\n      email_body_html: '<html><body><p>äºˆå®šã®è©³ç´°ã‚’ã”ç¢ºèªãã ã•ã„ã€‚</p></body></html>',\n      email_body_plain: 'äºˆå®šã®è©³ç´°ã‚’ã”ç¢ºèªãã ã•ã„ã€‚'\n    }\n  }];\n}\n\nreturn [{\n  json: {\n    ...($input.first().json),\n    ...parsedData\n  }\n}];"
      },
      "id": "code_025",
      "name": "Claudeãƒ¬ã‚¹ãƒãƒ³ã‚¹è§£æ",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [2460, 300]
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const data = $input.first().json;\nconst emailSubject = data.email_subject;\nconst emailBody = data.email_body_html;\nconst attendees = data.attendee_emails || [];\n\nconst emailMessages = attendees.map(email => {\n  const rawMessage = [\n    `From: your-email@gmail.com`,\n    `To: ${email}`,\n    `Subject: ${emailSubject}`,\n    `Content-Type: text/html; charset=UTF-8`,\n    ``,\n    emailBody\n  ].join('\\r\\n');\n  \n  return {\n    json: {\n      to_email: email,\n      raw_message: Buffer.from(rawMessage).toString('base64').replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, ''),\n      event_title: data.event_title,\n      callback_url: data.callback_url,\n      user_id: data.user_id\n    }\n  };\n});\n\nreturn emailMessages;"
      },
      "id": "code_013",
      "name": "ãƒ¡ãƒ¼ãƒ«ãƒ‡ãƒ¼ã‚¿æ•´å½¢",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [2580, 300]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://gmail.googleapis.com/gmail/v1/users/me/messages/send",
        "authentication": "oAuth2",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"raw\": \"{{ $json.raw_message }}\"\n}",
        "options": {
          "timeout": 15000,
          "batching": {
            "batch": {
              "batchSize": 1,
              "batchInterval": 200
            }
          }
        }
      },
      "id": "http_026",
      "name": "Gmailé€ä¿¡",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2700, 300],
      "credentials": {
        "gmailOAuth2": {
          "id": "4",
          "name": "Gmail OAuth2"
        }
      },
      "continueOnFail": true,
      "retryOnFail": false
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.callback_url }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"content\": \"âœ… äºˆå®šã‚’ç™»éŒ²ã—ã¾ã—ãŸï¼\\n\\nğŸ“… ã‚¿ã‚¤ãƒˆãƒ«: {{ $json.event_title }}\\nğŸ• æ—¥æ™‚: {{ $json.event_datetime }}\\nâ±ï¸ æ‰€è¦æ™‚é–“: {{ $json.duration_minutes }}åˆ†\\nğŸ‘¥ å‚åŠ è€…: {{ $json.attendee_emails.length }}å\\n\\nğŸ“§ é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã—ã¾ã—ãŸã€‚\"\n}",
        "options": {
          "timeout": 10000
        }
      },
      "id": "http_036",
      "name": "DiscordæˆåŠŸè¿”ä¿¡",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2820, 300],
      "continueOnFail": false,
      "retryOnFail": true,
      "maxTries": 2,
      "waitBetweenTries": 1000
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://openrouter.ai/api/v1/chat/completions",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"model\": \"google/gemini-2.5-flash-exp:free\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"ã‚ãªãŸã¯ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼åˆ†æã®å°‚é–€å®¶ã§ã™ã€‚\\n\\nã€è²¬å‹™ã€‘\\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ—¢å­˜äºˆå®šãƒªã‚¹ãƒˆã‚’åˆ†æã—ã€å¸Œæœ›æ—¥æ™‚ã«é‡è¤‡ãŒã‚ã‚‹å ´åˆã«ä»£æ›¿å€™è£œã‚’ææ¡ˆã™ã‚‹\\n- æ—¢å­˜äºˆå®šã¨é‡è¤‡ã—ãªã„æ™‚é–“å¸¯ã®ã¿ã‚’ææ¡ˆã™ã‚‹\\n- å–¶æ¥­æ™‚é–“å†…ï¼ˆ9:00-18:00ï¼‰ã‚’å„ªå…ˆã™ã‚‹\\n\\nã€ã‚´ãƒ¼ãƒ«ã€‘\\nä»¥ä¸‹ã®å½¢å¼ã§5ã¤ã®å€™è£œã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ï¼š\\n{\\n  \\\"alternative_slots\\\": [\\n    {\\n      \\\"slot_datetime\\\": \\\"YYYY-MM-DDTHH:MM:SS+09:00\\\",\\n      \\\"reason\\\": \\\"æ¨å¥¨ç†ç”±ï¼ˆ50æ–‡å­—ä»¥å†…ï¼‰\\\"\\n    }\\n  ]\\n}\\n\\nã€é‡è¦ãªåˆ¶ç´„ã€‘\\n- å€™è£œæ•°ã¯å¿…ãš5ã¤\\n- å¯¾è±¡æœŸé–“ã¯ä»Šæ—¥ã¨æ˜æ—¥ã®2æ—¥åˆ†ã®ã¿\\n- å–¶æ¥­æ™‚é–“å†…ï¼ˆ9:00-18:00ï¼‰ã‚’å„ªå…ˆï¼ˆãŸã ã—å–¶æ¥­æ™‚é–“å¤–ã‚‚ææ¡ˆå¯ï¼‰\\n- æ—¢å­˜äºˆå®šã¨é‡è¤‡ã—ãªã„ã“ã¨ã‚’å¿…ãšç¢ºèª\\n- ç†ç”±ã¯å…·ä½“çš„ã«ï¼ˆä¾‹: åˆå‰ä¸­ã§é›†ä¸­ã—ã‚„ã™ã„ã€æ—¢å­˜äºˆå®šã®å‰å¾Œã§ç§»å‹•ä¸è¦ï¼‰\\n- JSONä»¥å¤–ã®æ–‡ç« ã¯å‡ºåŠ›ã—ãªã„ï¼ˆJSONã®ã¿ã‚’è¿”ã™ï¼‰\"\n    },\n    {\n      \"role\": \"user\",\n      \"content\": \"ä»¥ä¸‹ã®æƒ…å ±ã‚’ã‚‚ã¨ã«ã€ç©ºãæ™‚é–“ã®å€™è£œã‚’5ã¤ææ¡ˆã—ã¦ãã ã•ã„ã€‚\\n\\nå¸Œæœ›æ—¥æ™‚: {{ $json.event_datetime }}\\næ‰€è¦æ™‚é–“: {{ $json.duration_minutes }}åˆ†\\næ—¢å­˜äºˆå®š: {{ JSON.stringify($json.existing_events) }}\\nå¯¾è±¡æœŸé–“: ä»Šæ—¥ã¨æ˜æ—¥ï¼ˆ{{ $now.toFormat('yyyy-MM-dd') }}ã‹ã‚‰{{ $now.plus({days: 1}).toFormat('yyyy-MM-dd') }}ï¼‰\\n\\nå‡ºåŠ›å½¢å¼ï¼ˆJSONä»¥å¤–ã¯å‡ºåŠ›ç¦æ­¢ï¼‰:\\n{\\n  \\\"alternative_slots\\\": [\\n    {\\\"slot_datetime\\\": \\\"YYYY-MM-DDTHH:MM:SS+09:00\\\", \\\"reason\\\": \\\"...\\\"}\\n  ]\\n}\"\n    }\n  ],\n  \"temperature\": 0.7,\n  \"max_tokens\": 2000,\n  \"top_p\": 0.95\n}",
        "options": {
          "timeout": 30000
        }
      },
      "id": "http_027",
      "name": "ã€AI Agent 2ã€‘ç©ºãæ™‚é–“å€™è£œç”Ÿæˆï¼ˆGeminiï¼‰",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2100, 500],
      "credentials": {
        "httpHeaderAuth": {
          "id": "3",
          "name": "OpenRouter API Key"
        }
      },
      "continueOnFail": false,
      "retryOnFail": true,
      "maxTries": 2,
      "waitBetweenTries": 3000
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const response = $input.first().json;\nlet content = response.choices[0].message.content;\n\n// ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’å‰Šé™¤\ncontent = content.replace(/```json\\n?/g, '').replace(/```\\n?/g, '').trim();\n\n// JSONãƒ‘ãƒ¼ã‚¹\nlet parsedData;\ntry {\n  parsedData = JSON.parse(content);\n} catch (error) {\n  throw new Error('Gemini response does not contain valid JSON: ' + content.substring(0, 200));\n}\n\nreturn [{\n  json: {\n    ...($input.first().json),\n    ...parsedData\n  }\n}];"
      },
      "id": "code_028",
      "name": "Geminiãƒ¬ã‚¹ãƒãƒ³ã‚¹è§£æ",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [2220, 500]
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const staticData = this.getWorkflowStaticData('global');\nconst userId = $input.first().json.user_id;\n\nstaticData[userId] = {\n  original_request: {\n    event_title: $input.first().json.event_title,\n    duration_minutes: $input.first().json.duration_minutes,\n    attendee_emails: $input.first().json.attendee_emails,\n    description: $input.first().json.description\n  },\n  proposed_alternatives: $input.first().json.alternative_slots,\n  status: 'awaiting_selection',\n  timestamp: Date.now()\n};\n\nreturn [{\n  json: {\n    ...($input.first().json),\n    state_saved: true\n  }\n}];"
      },
      "id": "code_029",
      "name": "ã‚¹ãƒ†ãƒ¼ãƒˆä¿å­˜",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [2340, 500]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.callback_url }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"content\": \"âš ï¸ äºˆå®šãŒé‡è¤‡ã—ã¦ã„ã¾ã™\\n\\nä»¥ä¸‹ã®å€™è£œã‹ã‚‰é¸æŠã—ã¦ãã ã•ã„ï¼ˆç•ªå·ã§è¿”ä¿¡ï¼‰:\\n\\n1ï¸âƒ£ {{ $json.alternative_slots[0].slot_datetime }} - {{ $json.alternative_slots[0].reason }}\\n2ï¸âƒ£ {{ $json.alternative_slots[1].slot_datetime }} - {{ $json.alternative_slots[1].reason }}\\n3ï¸âƒ£ {{ $json.alternative_slots[2].slot_datetime }} - {{ $json.alternative_slots[2].reason }}\\n4ï¸âƒ£ {{ $json.alternative_slots[3].slot_datetime }} - {{ $json.alternative_slots[3].reason }}\\n5ï¸âƒ£ {{ $json.alternative_slots[4].slot_datetime }} - {{ $json.alternative_slots[4].reason }}\\n\\nç•ªå·ï¼ˆ1-5ï¼‰ã§è¿”ä¿¡ã—ã¦ãã ã•ã„ã€‚\"\n}",
        "options": {
          "timeout": 10000
        }
      },
      "id": "http_037",
      "name": "Discordé‡è¤‡è¿”ä¿¡",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [2460, 500],
      "continueOnFail": false,
      "retryOnFail": true,
      "maxTries": 2,
      "waitBetweenTries": 1000
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const message = $input.first().json.message_content;\nconst match = message.match(/[1-5]/);\n\nif (!match) {\n  return [{\n    json: {\n      ...($input.first().json),\n      selection_valid: false,\n      selection_number: null,\n      error_message: '1-5ã®ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'\n    }\n  }];\n}\n\nconst selectionNumber = parseInt(match[0]);\nconst alternatives = $input.first().json.proposed_alternatives;\nconst selectedSlot = alternatives[selectionNumber - 1];\n\nreturn [{\n  json: {\n    ...($input.first().json),\n    selection_valid: true,\n    selection_number: selectionNumber,\n    event_datetime: selectedSlot.slot_datetime,\n    event_title: $input.first().json.original_request.event_title,\n    duration_minutes: $input.first().json.original_request.duration_minutes,\n    attendee_emails: $input.first().json.original_request.attendee_emails,\n    description: $input.first().json.original_request.description\n  }\n}];"
      },
      "id": "code_014",
      "name": "ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠç•ªå·è§£æ",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1020, 500]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "condition_1",
              "leftValue": "={{ $json.selection_valid }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "true"
              }
            }
          ]
        }
      },
      "id": "if_021",
      "name": "é¸æŠç•ªå·æ¤œè¨¼",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [1140, 500]
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const staticData = this.getWorkflowStaticData('global');\nconst userId = $input.first().json.user_id;\ndelete staticData[userId];\n\nreturn [{\n  json: {\n    ...($input.first().json),\n    state_cleared: true\n  }\n}];"
      },
      "id": "code_030",
      "name": "ã‚¹ãƒ†ãƒ¼ãƒˆã‚¯ãƒªã‚¢",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1260, 500]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.callback_url }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"content\": \"âŒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ\\n\\n{{ $json.error_message || $json.validation_error || 'äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ã§ã™' }}\\n\\nã‚‚ã†ä¸€åº¦ãŠè©¦ã—ã„ãŸã ãã‹ã€ç®¡ç†è€…ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚\"\n}",
        "options": {
          "timeout": 10000
        }
      },
      "id": "http_038",
      "name": "Discordã‚¨ãƒ©ãƒ¼è¿”ä¿¡",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [1020, 600],
      "continueOnFail": true,
      "retryOnFail": false
    },
    {
      "parameters": {},
      "id": "noop_042",
      "name": "ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµ‚äº†",
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [2940, 300]
    }
  ],
  "connections": {
    "Discord Bot Webhook": {
      "main": [
        [
          {
            "node": "Webhookãƒ‡ãƒ¼ã‚¿æŠ½å‡º",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhookãƒ‡ãƒ¼ã‚¿æŠ½å‡º": {
      "main": [
        [
          {
            "node": "ã‚¹ãƒ†ãƒ¼ãƒˆç¢ºèª",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã‚¹ãƒ†ãƒ¼ãƒˆç¢ºèª": {
      "main": [
        [
          {
            "node": "ãƒ•ãƒ­ãƒ¼æŒ¯ã‚Šåˆ†ã‘",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ãƒ•ãƒ­ãƒ¼æŒ¯ã‚Šåˆ†ã‘": {
      "main": [
        [
          {
            "node": "Webhookãƒ‡ãƒ¼ã‚¿æ¤œè¨¼",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ä¿å­˜æ¸ˆã¿ã‚¹ãƒ†ãƒ¼ãƒˆèª­ã¿è¾¼ã¿",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ä¿å­˜æ¸ˆã¿ã‚¹ãƒ†ãƒ¼ãƒˆèª­ã¿è¾¼ã¿": {
      "main": [
        [
          {
            "node": "ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠç•ªå·è§£æ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhookãƒ‡ãƒ¼ã‚¿æ¤œè¨¼": {
      "main": [
        [
          {
            "node": "ã€AI Agent 1ã€‘Discordäºˆå®šæŠ½å‡ºï¼ˆGrokï¼‰",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Discordã‚¨ãƒ©ãƒ¼è¿”ä¿¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã€AI Agent 1ã€‘Discordäºˆå®šæŠ½å‡ºï¼ˆGrokï¼‰": {
      "main": [
        [
          {
            "node": "Grokãƒ¬ã‚¹ãƒãƒ³ã‚¹è§£æ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Grokãƒ¬ã‚¹ãƒãƒ³ã‚¹è§£æ": {
      "main": [
        [
          {
            "node": "AIæŠ½å‡ºçµæœæ¤œè¨¼",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AIæŠ½å‡ºçµæœæ¤œè¨¼": {
      "main": [
        [
          {
            "node": "æ¤œè¨¼çµæœãƒã‚§ãƒƒã‚¯",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ¤œè¨¼çµæœãƒã‚§ãƒƒã‚¯": {
      "main": [
        [
          {
            "node": "ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è¨ˆç®—",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Discordã‚¨ãƒ©ãƒ¼è¿”ä¿¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è¨ˆç®—": {
      "main": [
        [
          {
            "node": "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æ—¢å­˜äºˆå®šå–å¾—",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æ—¢å­˜äºˆå®šå–å¾—": {
      "main": [
        [
          {
            "node": "ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ•´å½¢",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ•´å½¢": {
      "main": [
        [
          {
            "node": "äºˆå®šé‡è¤‡åˆ¤å®š",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "äºˆå®šé‡è¤‡åˆ¤å®š": {
      "main": [
        [
          {
            "node": "é‡è¤‡æœ‰ç„¡ã§åˆ†å²",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "é‡è¤‡æœ‰ç„¡ã§åˆ†å²": {
      "main": [
        [
          {
            "node": "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼äºˆå®šç™»éŒ²",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ã€AI Agent 2ã€‘ç©ºãæ™‚é–“å€™è£œç”Ÿæˆï¼ˆGeminiï¼‰",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼äºˆå®šç™»éŒ²": {
      "main": [
        [
          {
            "node": "ãƒ¡ãƒ¼ãƒ«é€ä¿¡è¦å¦åˆ¤å®š",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ãƒ¡ãƒ¼ãƒ«é€ä¿¡è¦å¦åˆ¤å®š": {
      "main": [
        [
          {
            "node": "ã€AI Agent 3ã€‘é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ç”Ÿæˆï¼ˆClaudeï¼‰",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "DiscordæˆåŠŸè¿”ä¿¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã€AI Agent 3ã€‘é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ç”Ÿæˆï¼ˆClaudeï¼‰": {
      "main": [
        [
          {
            "node": "Claudeãƒ¬ã‚¹ãƒãƒ³ã‚¹è§£æ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Claudeãƒ¬ã‚¹ãƒãƒ³ã‚¹è§£æ": {
      "main": [
        [
          {
            "node": "ãƒ¡ãƒ¼ãƒ«ãƒ‡ãƒ¼ã‚¿æ•´å½¢",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ãƒ¡ãƒ¼ãƒ«ãƒ‡ãƒ¼ã‚¿æ•´å½¢": {
      "main": [
        [
          {
            "node": "Gmailé€ä¿¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gmailé€ä¿¡": {
      "main": [
        [
          {
            "node": "DiscordæˆåŠŸè¿”ä¿¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "DiscordæˆåŠŸè¿”ä¿¡": {
      "main": [
        [
          {
            "node": "ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµ‚äº†",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã€AI Agent 2ã€‘ç©ºãæ™‚é–“å€™è£œç”Ÿæˆï¼ˆGeminiï¼‰": {
      "main": [
        [
          {
            "node": "Geminiãƒ¬ã‚¹ãƒãƒ³ã‚¹è§£æ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Geminiãƒ¬ã‚¹ãƒãƒ³ã‚¹è§£æ": {
      "main": [
        [
          {
            "node": "ã‚¹ãƒ†ãƒ¼ãƒˆä¿å­˜",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã‚¹ãƒ†ãƒ¼ãƒˆä¿å­˜": {
      "main": [
        [
          {
            "node": "Discordé‡è¤‡è¿”ä¿¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Discordé‡è¤‡è¿”ä¿¡": {
      "main": [
        [
          {
            "node": "ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµ‚äº†",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠç•ªå·è§£æ": {
      "main": [
        [
          {
            "node": "é¸æŠç•ªå·æ¤œè¨¼",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "é¸æŠç•ªå·æ¤œè¨¼": {
      "main": [
        [
          {
            "node": "ã‚¹ãƒ†ãƒ¼ãƒˆã‚¯ãƒªã‚¢",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Discordã‚¨ãƒ©ãƒ¼è¿”ä¿¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ã‚¹ãƒ†ãƒ¼ãƒˆã‚¯ãƒªã‚¢": {
      "main": [
        [
          {
            "node": "ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è¨ˆç®—",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Discordã‚¨ãƒ©ãƒ¼è¿”ä¿¡": {
      "main": [
        [
          {
            "node": "ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµ‚äº†",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "saveManualExecutions": true,
    "saveExecutionProgress": true,
    "timezone": "Asia/Tokyo",
    "callerPolicy": "workflowsFromSameOwner",
    "executionTimeout": 300
  },
  "staticData": null,
  "tags": [],
  "pinData": {},
  "versionId": "1"
}
