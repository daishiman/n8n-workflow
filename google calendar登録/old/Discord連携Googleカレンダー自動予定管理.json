{
  "name": "DiscordçµŒç”±ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼äºˆå®šè‡ªå‹•ç™»éŒ²ã‚·ã‚¹ãƒ†ãƒ ",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "discord-calendar",
        "responseMode": "lastNode",
        "options": {}
      },
      "id": "a1b2c3d4-e5f6-4a1b-8c9d-0e1f2a3b4c5d",
      "name": "Discord Webhookå—ä¿¡",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1.1,
      "position": [
        250,
        300
      ],
      "webhookId": "discord-calendar-webhook"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "1",
              "name": "message",
              "value": "={{ $json.body.content }}",
              "type": "string"
            },
            {
              "id": "2",
              "name": "channel_id",
              "value": "={{ $json.body.channel_id }}",
              "type": "string"
            },
            {
              "id": "3",
              "name": "author",
              "value": "={{ $json.body.author.username }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "b2c3d4e5-f6a7-4b2c-9d0e-1f2a3b4c5d6e",
      "name": "Webhookãƒ‡ãƒ¼ã‚¿æŠ½å‡º",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [
        450,
        300
      ],
      "notesInFlow": false,
      "notes": "Discord Webhookãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æŠ½å‡º"
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "id": "1",
              "value1": "={{ $json.message }}",
              "operation": "regex",
              "value2": "^[1-5]$"
            }
          ]
        }
      },
      "id": "c3d4e5f6-a7b8-4c3d-0e1f-2a3b4c5d6e7f",
      "name": "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—åˆ¤å®š",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        650,
        300
      ],
      "notes": "æ•°å­—ã®ã¿ï¼ˆ1-5ï¼‰â†’å€™è£œé¸æŠã€ãã‚Œä»¥å¤–â†’æ–°è¦äºˆå®šå…¥åŠ›"
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "// AI: xAI Grok (grok-4-fast)\n// è²¬å‹™: Discordãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰äºˆå®šæƒ…å ±ã‚’æŠ½å‡º\n// ç›®æ¨™: æ—¥æ™‚ã€ã‚¿ã‚¤ãƒˆãƒ«ã€å‚åŠ è€…ã‚’æ§‹é€ åŒ–\n\nconst API_KEY = $env('XAI_API_KEY');\nconst message = $input.first().json.message;\n\nconst systemPrompt = `ã‚ãªãŸã¯äºˆå®šæƒ…å ±ã‚’æŠ½å‡ºã™ã‚‹ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰ä»¥ä¸‹ã‚’æŠ½å‡ºã—ã¦JSONã§è¿”ã—ã¦ãã ã•ã„ï¼š\n- datetime: æ—¥æ™‚ï¼ˆ\"æ˜æ—¥14æ™‚\"ã®ã‚ˆã†ãªç›¸å¯¾è¡¨ç¾ã®ã¾ã¾ï¼‰\n- title: äºˆå®šã®ã‚¿ã‚¤ãƒˆãƒ«\n- participants: å‚åŠ è€…ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆé…åˆ—ï¼‰\n- location: å ´æ‰€ï¼ˆã‚ã‚Œã°ï¼‰\n- description: èª¬æ˜ï¼ˆã‚ã‚Œã°ï¼‰\n\nJSONå½¢å¼ã®ã¿ã§è¿”ã—ã¦ãã ã•ã„ã€‚`;\n\nconst response = await fetch('https://api.x.ai/v1/chat/completions', {\nmethod: 'POST',\nheaders: {\n'Content-Type': 'application/json',\n'Authorization': `Bearer ${API_KEY}`\n},\nbody: JSON.stringify({\nmodel: 'grok-beta',\nmessages: [\n{ role: 'system', content: systemPrompt },\n{ role: 'user', content: message }\n],\nmax_tokens: 500\n})\n});\n\nconst data = await response.json();\nconst extractedText = data.choices[0].message.content;\nconst extracted = JSON.parse(extractedText);\n\nreturn [{\njson: {\noriginal_message: message,\nextracted: extracted\n}\n}];"
      },
      "id": "d4e5f6a7-b8c9-4d5e-1f2a-3b4c5d6e7f8a",
      "name": "Discordäºˆå®šæŠ½å‡ºï¼ˆAI: grok-4-fastï¼‰",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        850,
        200
      ],
      "onError": "continueErrorOutput",
      "retryOnFail": true,
      "maxTries": 2,
      "waitBetweenTries": 3000,
      "notes": "ã€AIã€‘xAI Grok\nã€è²¬å‹™ã€‘äºˆå®šæƒ…å ±æŠ½å‡ºã®ã¿\nâ€»ç’°å¢ƒå¤‰æ•°XAI_API_KEYå¿…é ˆ"
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const extracted = $input.first().json.extracted;\n\n// å¿…é ˆé …ç›®ãƒã‚§ãƒƒã‚¯\nif (!extracted.datetime || !extracted.title) {\nthrow new Error('å¿…é ˆé …ç›®ï¼ˆæ—¥æ™‚ã€ã‚¿ã‚¤ãƒˆãƒ«ï¼‰ãŒæŠ½å‡ºã§ãã¾ã›ã‚“ã§ã—ãŸ');\n}\n\n// å‚åŠ è€…ãŒãªã„å ´åˆã¯ç©ºé…åˆ—\nif (!extracted.participants) {\nextracted.participants = [];\n}\n\nreturn [{ json: extracted }];"
      },
      "id": "e5f6a7b8-c9d0-4e6f-2a3b-4c5d6e7f8a9b",
      "name": "æŠ½å‡ºçµæœæ¤œè¨¼",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1050,
        200
      ],
      "onError": "continueErrorOutput",
      "notes": "å¿…é ˆé …ç›®ã®å­˜åœ¨ç¢ºèªã®ã¿"
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const { DateTime } = require('luxon');\nconst extracted = $input.first().json;\nconst datetimeStr = extracted.datetime;\n\n// ã€Œæ˜æ—¥ã€ã€Œä»Šæ—¥ã€ãªã©ã®ç›¸å¯¾è¡¨ç¾ã‚’ãƒ‘ãƒ¼ã‚¹\nlet targetDate = DateTime.now().setZone('Asia/Tokyo');\n\nif (datetimeStr.includes('æ˜æ—¥')) {\ntargetDate = targetDate.plus({ days: 1 });\n} else if (datetimeStr.includes('ä»Šæ—¥')) {\n// ãã®ã¾ã¾\n}\n\n// æ™‚åˆ»ã‚’æŠ½å‡ºï¼ˆä¾‹: \"14æ™‚\" â†’ 14ï¼‰\nconst hourMatch = datetimeStr.match(/(\\d+)æ™‚/);\nif (hourMatch) {\nconst hour = parseInt(hourMatch[1]);\ntargetDate = targetDate.set({ hour: hour, minute: 0, second: 0 });\n}\n\n// åˆ†ã‚’æŠ½å‡ºï¼ˆä¾‹: \"14æ™‚30åˆ†\" â†’ 30ï¼‰\nconst minuteMatch = datetimeStr.match(/æ™‚(\\d+)åˆ†/);\nif (minuteMatch) {\nconst minute = parseInt(minuteMatch[1]);\ntargetDate = targetDate.set({ minute: minute });\n}\n\nconst startISO = targetDate.toISO();\nconst endISO = targetDate.plus({ hours: 1 }).toISO();\n\nreturn [{\njson: {\n...extracted,\nstart_datetime: startISO,\nend_datetime: endISO\n}\n}];"
      },
      "id": "f6a7b8c9-d0e1-4f7a-3b4c-5d6e7f8a9b0c",
      "name": "æ—¥æ™‚ISOå¤‰æ›",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1250,
        200
      ],
      "onError": "continueErrorOutput",
      "notes": "ç›¸å¯¾æ—¥æ™‚â†’ISO8601å½¢å¼å¤‰æ›"
    },
    {
      "parameters": {
        "operation": "getAll",
        "calendarId": "primary",
        "returnAll": false,
        "limit": 10,
        "options": {
          "timeMin": "={{ $json.start_datetime }}",
          "timeMax": "={{ $json.end_datetime }}"
        }
      },
      "id": "a7b8c9d0-e1f2-4a8b-4c5d-6e7f8a9b0c1d",
      "name": "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æ¤œç´¢",
      "type": "n8n-nodes-base.googleCalendar",
      "typeVersion": 1,
      "position": [
        1450,
        200
      ],
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "google_calendar_oauth",
          "name": "Google Calendar OAuth"
        }
      },
      "onError": "continueErrorOutput",
      "retryOnFail": true,
      "maxTries": 2,
      "notes": "æŒ‡å®šæ™‚é–“å¸¯ã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆã‚’æ¤œç´¢"
    },
    {
      "parameters": {
        "conditions": {
          "number": [
            {
              "id": "1",
              "value1": "={{ $input.all().length }}",
              "operation": "equal",
              "value2": 0
            }
          ]
        }
      },
      "id": "b8c9d0e1-f2a3-4b9c-5d6e-7f8a9b0c1d2e",
      "name": "é‡è¤‡åˆ¤å®š",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        1650,
        200
      ],
      "notes": "æ¤œç´¢çµæœ0ä»¶â†’é‡è¤‡ãªã—ã€1ä»¶ä»¥ä¸Šâ†’é‡è¤‡ã‚ã‚Š"
    },
    {
      "parameters": {
        "operation": "create",
        "calendarId": "primary",
        "start": "={{ $('æ—¥æ™‚ISOå¤‰æ›').first().json.start_datetime }}",
        "end": "={{ $('æ—¥æ™‚ISOå¤‰æ›').first().json.end_datetime }}",
        "summary": "={{ $('æ—¥æ™‚ISOå¤‰æ›').first().json.title }}",
        "options": {
          "attendees": "={{ $('æ—¥æ™‚ISOå¤‰æ›').first().json.participants.join(',') }}",
          "description": "={{ $('æ—¥æ™‚ISOå¤‰æ›').first().json.description || '' }}",
          "location": "={{ $('æ—¥æ™‚ISOå¤‰æ›').first().json.location || '' }}"
        }
      },
      "id": "c9d0e1f2-a3b4-4c0d-6e7f-8a9b0c1d2e3f",
      "name": "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼äºˆå®šç™»éŒ²ï¼ˆé‡è¤‡ãªã—ï¼‰",
      "type": "n8n-nodes-base.googleCalendar",
      "typeVersion": 1,
      "position": [
        1850,
        100
      ],
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "google_calendar_oauth",
          "name": "Google Calendar OAuth"
        }
      },
      "onError": "continueErrorOutput",
      "retryOnFail": true,
      "maxTries": 2,
      "notes": "ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆä½œæˆ"
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "// AI: Anthropic Claude (claude-sonnet-4-20250514)\n// è²¬å‹™: é€šçŸ¥ãƒ¡ãƒ¼ãƒ«æœ¬æ–‡ã‚’ç”Ÿæˆ\n// ç›®æ¨™: ãƒ“ã‚¸ãƒã‚¹ãƒ¡ãƒ¼ãƒ«ã¨ã—ã¦é©åˆ‡ãªæ–‡ç« \n\nconst API_KEY = $env('ANTHROPIC_API_KEY');\nconst eventData = $input.first().json;\n\nconst prompt = `ä»¥ä¸‹ã®äºˆå®šã«ã¤ã„ã¦ã€å‚åŠ è€…ã«é€ã‚‹é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚\n\näºˆå®šæƒ…å ±ï¼š\n- ã‚¿ã‚¤ãƒˆãƒ«: ${eventData.summary}\n- æ—¥æ™‚: ${eventData.start} ã€œ ${eventData.end}\n- å ´æ‰€: ${eventData.location || 'æœªå®š'}\n- èª¬æ˜: ${eventData.description || 'ãªã—'}\n\nä»¶åã¨æœ¬æ–‡ã‚’ä»¥ä¸‹ã®å½¢å¼ã§è¿”ã—ã¦ãã ã•ã„ï¼š\n{\n\"subject\": \"ä»¶å\",\n\"body\": \"æœ¬æ–‡\"\n}`;\n\nconst response = await fetch('https://api.anthropic.com/v1/messages', {\nmethod: 'POST',\nheaders: {\n'Content-Type': 'application/json',\n'x-api-key': API_KEY,\n'anthropic-version': '2023-06-01'\n},\nbody: JSON.stringify({\nmodel: 'claude-sonnet-4-20250514',\nmax_tokens: 1000,\nmessages: [\n{ role: 'user', content: prompt }\n]\n})\n});\n\nconst data = await response.json();\nconst emailContent = JSON.parse(data.content[0].text);\n\nreturn [{\njson: {\n...eventData,\nemail_subject: emailContent.subject,\nemail_body: emailContent.body\n}\n}];"
      },
      "id": "d0e1f2a3-b4c5-4d1e-7f8a-9b0c1d2e3f4a",
      "name": "é€šçŸ¥ãƒ¡ãƒ¼ãƒ«æ–‡ç« ç”Ÿæˆï¼ˆAI: claude-4.5-sonnetï¼‰",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2050,
        100
      ],
      "onError": "continueErrorOutput",
      "retryOnFail": true,
      "maxTries": 2,
      "waitBetweenTries": 3000,
      "notes": "ã€AIã€‘Anthropic Claude\nã€è²¬å‹™ã€‘ãƒ¡ãƒ¼ãƒ«æ–‡ç« ç”Ÿæˆã®ã¿\nâ€»ç’°å¢ƒå¤‰æ•°ANTHROPIC_API_KEYå¿…é ˆ"
    },
    {
      "parameters": {
        "operation": "send",
        "sendTo": "={{ $json.attendees }}",
        "subject": "={{ $json.email_subject }}",
        "message": "={{ $json.email_body }}",
        "options": {}
      },
      "id": "e1f2a3b4-c5d6-4e2f-8a9b-0c1d2e3f4a5b",
      "name": "Gmailé€šçŸ¥é€ä¿¡",
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        2250,
        100
      ],
      "credentials": {
        "gmailOAuth2": {
          "id": "gmail_oauth",
          "name": "Gmail OAuth"
        }
      },
      "onError": "continueErrorOutput",
      "retryOnFail": true,
      "maxTries": 2,
      "notes": "å‚åŠ è€…å…¨å“¡ã«ãƒ¡ãƒ¼ãƒ«é€ä¿¡"
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const eventData = $input.first().json;\nconst { DateTime } = require('luxon');\n\nconst startTime = DateTime.fromISO(eventData.start).setZone('Asia/Tokyo').toFormat('yyyy/MM/dd HH:mm');\n\nconst message = `âœ… äºˆå®šã‚’ç™»éŒ²ã—ã¾ã—ãŸï¼\n\nğŸ“… æ—¥æ™‚: ${startTime}\nğŸ“ ã‚¿ã‚¤ãƒˆãƒ«: ${eventData.summary}\nğŸ‘¥ å‚åŠ è€…: ${eventData.attendees || 'ãªã—'}\nğŸ“§ é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã—ã¾ã—ãŸ`;\n\nreturn [{\njson: {\ncontent: message\n}\n}];"
      },
      "id": "f2a3b4c5-d6e7-4f3a-9b0c-1d2e3f4a5b6c",
      "name": "DiscordæˆåŠŸé€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä½œæˆ",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2450,
        100
      ],
      "notes": "DiscordæŠ•ç¨¿ç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•´å½¢"
    },
    {
      "parameters": {
        "resource": "message",
        "operation": "send",
        "webhookUrl": "={{ $env('DISCORD_WEBHOOK_URL') }}",
        "content": "={{ $json.content }}"
      },
      "id": "a3b4c5d6-e7f8-4a4b-0c1d-2e3f4a5b6c7d",
      "name": "DiscordæˆåŠŸé€šçŸ¥é€ä¿¡",
      "type": "n8n-nodes-base.discord",
      "typeVersion": 2,
      "position": [
        2650,
        100
      ],
      "notes": "Discordã«ç™»éŒ²å®Œäº†é€šçŸ¥"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "1",
              "name": "today",
              "value": "={{ $now.toFormat('yyyy-MM-dd') }}",
              "type": "string"
            },
            {
              "id": "2",
              "name": "tomorrow",
              "value": "={{ $now.plus({ days: 1 }).toFormat('yyyy-MM-dd') }}",
              "type": "string"
            },
            {
              "id": "3",
              "name": "original_event",
              "value": "={{ JSON.stringify($('æ—¥æ™‚ISOå¤‰æ›').first().json) }}",
              "type": "string"
            }
          ]
        }
      },
      "id": "b4c5d6e7-f8a9-4b5c-1d2e-3f4a5b6c7d8e",
      "name": "ä»Šæ—¥ã®æ—¥ä»˜å–å¾—",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [
        1850,
        300
      ],
      "notes": "ä»Šæ—¥ã¨æ˜æ—¥ã®æ—¥ä»˜ã‚’è¨ˆç®—"
    },
    {
      "parameters": {
        "operation": "getAll",
        "calendarId": "primary",
        "returnAll": true,
        "options": {
          "timeMin": "={{ $json.today }}T00:00:00+09:00",
          "timeMax": "={{ $json.tomorrow }}T23:59:59+09:00"
        }
      },
      "id": "c5d6e7f8-a9b0-4c6d-2e3f-4a5b6c7d8e9f",
      "name": "2æ—¥åˆ†ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆå–å¾—",
      "type": "n8n-nodes-base.googleCalendar",
      "typeVersion": 1,
      "position": [
        2050,
        300
      ],
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "google_calendar_oauth",
          "name": "Google Calendar OAuth"
        }
      },
      "onError": "continueErrorOutput",
      "retryOnFail": true,
      "maxTries": 2,
      "notes": "ä»Šæ—¥ã¨æ˜æ—¥ã®å…¨ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—"
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const { DateTime } = require('luxon');\nconst dateInfo = $('ä»Šæ—¥ã®æ—¥ä»˜å–å¾—').first().json;\n\nconst slots = [];\nconst days = [dateInfo.today, dateInfo.tomorrow];\n\nfor (const day of days) {\nlet current = DateTime.fromISO(`${day}T09:00:00`, { zone: 'Asia/Tokyo' });\nconst endOfDay = DateTime.fromISO(`${day}T18:00:00`, { zone: 'Asia/Tokyo' });\n\nwhile (current < endOfDay) {\nslots.push({\nstart: current.toISO(),\nend: current.plus({ minutes: 30 }).toISO(),\ndisplay: current.toFormat('MM/dd HH:mm')\n});\ncurrent = current.plus({ minutes: 30 });\n}\n}\n\nreturn [{\njson: {\nslots: slots,\noriginal_event: JSON.parse(dateInfo.original_event)\n}\n}];"
      },
      "id": "d6e7f8a9-b0c1-4d7e-3f4a-5b6c7d8e9f0a",
      "name": "æ™‚é–“å¸¯ã‚¹ãƒ­ãƒƒãƒˆç”Ÿæˆ",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2250,
        300
      ],
      "notes": "09:00-18:00ã‚’30åˆ†å˜ä½ã§åˆ†å‰²ï¼ˆ2æ—¥åˆ†ï¼‰"
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const { DateTime } = require('luxon');\nconst slotsData = $input.first().json;\nconst existingEvents = $('2æ—¥åˆ†ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆå–å¾—').all();\n\nconst availableSlots = [];\n\nfor (const slot of slotsData.slots) {\nconst slotStart = DateTime.fromISO(slot.start);\nconst slotEnd = DateTime.fromISO(slot.end);\n\nlet isAvailable = true;\n\nfor (const event of existingEvents) {\nconst eventStart = DateTime.fromISO(event.json.start.dateTime || event.json.start.date);\nconst eventEnd = DateTime.fromISO(event.json.end.dateTime || event.json.end.date);\n\n// é‡è¤‡ãƒã‚§ãƒƒã‚¯\nif (slotStart < eventEnd && slotEnd > eventStart) {\nisAvailable = false;\nbreak;\n}\n}\n\nif (isAvailable) {\navailableSlots.push(slot);\n}\n}\n\nreturn [{\njson: {\navailable_slots: availableSlots,\noriginal_event: slotsData.original_event\n}\n}];"
      },
      "id": "e7f8a9b0-c1d2-4e8f-4a5b-6c7d8e9f0a1b",
      "name": "æ—¢å­˜äºˆå®šã¨ã®ç…§åˆ",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2450,
        300
      ],
      "notes": "å„ã‚¹ãƒ­ãƒƒãƒˆãŒæ—¢å­˜ã‚¤ãƒ™ãƒ³ãƒˆã¨é‡è¤‡ã—ã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯"
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const data = $input.first().json;\nconst availableSlots = data.available_slots;\n\n// é€£ç¶š60åˆ†ä»¥ä¸Šã®ç©ºãæ™‚é–“ã‚’æŠ½å‡º\nconst { DateTime } = require('luxon');\nconst candidates = [];\n\nfor (let i = 0; i < availableSlots.length - 1; i++) {\nconst slot1 = availableSlots[i];\nconst slot2 = availableSlots[i + 1];\n\nconst end1 = DateTime.fromISO(slot1.end);\nconst start2 = DateTime.fromISO(slot2.start);\n\n// é€£ç¶šã—ã¦ã„ã‚‹å ´åˆï¼ˆ60åˆ†ã®ç©ºãæ™‚é–“ï¼‰\nif (end1.equals(start2)) {\ncandidates.push({\nstart: slot1.start,\nend: slot2.end,\ndisplay: `${slot1.display} - ${slot2.display}`\n});\n}\n}\n\nreturn [{\njson: {\ncandidates: candidates,\noriginal_event: data.original_event\n}\n}];"
      },
      "id": "f8a9b0c1-d2e3-4f9a-5b6c-7d8e9f0a1b2c",
      "name": "ç©ºãæ™‚é–“æŠ½å‡º",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2650,
        300
      ],
      "notes": "é€£ç¶š60åˆ†ä»¥ä¸Šã®ç©ºãæ™‚é–“ã‚’ç‰¹å®š"
    },
    {
      "parameters": {
        "conditions": {
          "number": [
            {
              "id": "1",
              "value1": "={{ $json.candidates.length }}",
              "operation": "largerEqual",
              "value2": 5
            }
          ]
        }
      },
      "id": "a9b0c1d2-e3f4-4a0b-6c7d-8e9f0a1b2c3d",
      "name": "ç©ºãæ™‚é–“ååˆ†æ€§ãƒã‚§ãƒƒã‚¯",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        2850,
        300
      ],
      "notes": "ç©ºãæ™‚é–“ãŒ5ã¤ä»¥ä¸Šã‚ã‚‹ã‹ç¢ºèª"
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "// AI: Google Gemini (gemini-2.5-pro)\n// è²¬å‹™: ç©ºãæ™‚é–“ã‹ã‚‰æœ€é©ãª5å€™è£œã‚’é¸å®š\n// ç›®æ¨™: æ¥­å‹™æ™‚é–“å¸¯ã‚’è€ƒæ…®ã—ãŸå€™è£œé¸å®š\n\nconst API_KEY = $env('GOOGLE_API_KEY');\nconst data = $input.first().json;\nconst candidates = data.candidates;\n\nconst prompt = `ä»¥ä¸‹ã®ç©ºãæ™‚é–“å€™è£œã‹ã‚‰ã€æ¥­å‹™ã«é©ã—ãŸ5ã¤ã‚’é¸å®šã—ã¦ãã ã•ã„ã€‚\nå„ªå…ˆé †åºï¼š\n1. åˆå‰10æ™‚ã€œ12æ™‚ã€åˆå¾Œ14æ™‚ã€œ17æ™‚ã‚’å„ªå…ˆ\n2. æ—©æœãƒ»å¤•æ–¹ã¯é¿ã‘ã‚‹\n3. ã§ãã‚‹ã ã‘åˆ†æ•£ã•ã›ã‚‹\n\nå€™è£œãƒªã‚¹ãƒˆ:\n${candidates.map((c, i) => `${i + 1}. ${c.display}`).join('\\n')}\n\né¸å®šã—ãŸ5ã¤ã®å€™è£œç•ªå·ã‚’JSONé…åˆ—ã§è¿”ã—ã¦ãã ã•ã„ï¼ˆä¾‹: [1, 5, 10, 15, 20]ï¼‰`;\n\nconst response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${API_KEY}`, {\nmethod: 'POST',\nheaders: {\n'Content-Type': 'application/json'\n},\nbody: JSON.stringify({\ncontents: [{\nparts: [{ text: prompt }]\n}],\ngenerationConfig: {\nmaxOutputTokens: 500\n}\n})\n});\n\nconst apiData = await response.json();\nconst selectedIndices = JSON.parse(apiData.candidates[0].content.parts[0].text);\n\nconst selectedCandidates = selectedIndices.map(idx => candidates[idx - 1]);\n\nreturn [{\njson: {\nselected_candidates: selectedCandidates,\noriginal_event: data.original_event\n}\n}];"
      },
      "id": "b0c1d2e3-f4a5-4b1c-7d8e-9f0a1b2c3d4e",
      "name": "ç©ºãæ™‚é–“å€™è£œ5ã¤é¸å®šï¼ˆAI: gemini-2.5-proï¼‰",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3050,
        300
      ],
      "onError": "continueErrorOutput",
      "retryOnFail": true,
      "maxTries": 2,
      "waitBetweenTries": 3000,
      "notes": "ã€AIã€‘Google Gemini\nã€è²¬å‹™ã€‘å€™è£œé¸å®šã®ã¿\nâ€»ç’°å¢ƒå¤‰æ•°GOOGLE_API_KEYå¿…é ˆ"
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "// AI: Google Gemini (gemini-2.5-pro)\n// è²¬å‹™: å€™è£œã‚’è‡ªç„¶ãªæ–‡ç« ã§ææ¡ˆ\n// ç›®æ¨™: DiscordæŠ•ç¨¿ç”¨ã®ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªææ¡ˆæ–‡\n\nconst API_KEY = $env('GOOGLE_API_KEY');\nconst data = $input.first().json;\nconst candidates = data.selected_candidates;\n\nconst candidatesList = candidates.map((c, i) => `${i + 1}ï¸âƒ£ ${c.display}`).join('\\n');\n\nconst prompt = `ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®äºˆå®šãŒé‡è¤‡ã—ã¦ã„ã¾ã™ã€‚ä»¥ä¸‹ã®ç©ºãæ™‚é–“å€™è£œã‚’ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ã«ææ¡ˆã—ã¦ãã ã•ã„ã€‚\n\nå€™è£œ:\n${candidatesList}\n\nDiscordã«æŠ•ç¨¿ã™ã‚‹å½¢å¼ã§ã€çµµæ–‡å­—ã‚’ä½¿ã£ã¦è¦ªã—ã¿ã‚„ã™ã„æ–‡ç« ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚`;\n\nconst response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${API_KEY}`, {\nmethod: 'POST',\nheaders: {\n'Content-Type': 'application/json'\n},\nbody: JSON.stringify({\ncontents: [{\nparts: [{ text: prompt }]\n}],\ngenerationConfig: {\nmaxOutputTokens: 500\n}\n})\n});\n\nconst apiData = await response.json();\nconst proposalText = apiData.candidates[0].content.parts[0].text;\n\nreturn [{\njson: {\nproposal_text: proposalText,\nselected_candidates: candidates,\noriginal_event: data.original_event\n}\n}];"
      },
      "id": "c1d2e3f4-a5b6-4c2d-8e9f-0a1b2c3d4e5f",
      "name": "ææ¡ˆæ–‡ç”Ÿæˆï¼ˆAI: gemini-2.5-proï¼‰",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3250,
        300
      ],
      "onError": "continueErrorOutput",
      "retryOnFail": true,
      "maxTries": 2,
      "waitBetweenTries": 3000,
      "notes": "ã€AIã€‘Google Gemini\nã€è²¬å‹™ã€‘ææ¡ˆæ–‡ç”Ÿæˆã®ã¿\nâ€»ç’°å¢ƒå¤‰æ•°GOOGLE_API_KEYå¿…é ˆ"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "1",
              "name": "saved_candidates",
              "value": "={{ JSON.stringify($json.selected_candidates) }}",
              "type": "string"
            },
            {
              "id": "2",
              "name": "saved_event",
              "value": "={{ JSON.stringify($json.original_event) }}",
              "type": "string"
            }
          ]
        }
      },
      "id": "d2e3f4a5-b6c7-4d3e-9f0a-1b2c3d4e5f6a",
      "name": "å€™è£œãƒ‡ãƒ¼ã‚¿ä¸€æ™‚ä¿å­˜",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [
        3450,
        300
      ],
      "notes": "æ¬¡å›å®Ÿè¡Œã§å‚ç…§ã§ãã‚‹ã‚ˆã†å€™è£œã‚’ä¿å­˜"
    },
    {
      "parameters": {
        "resource": "message",
        "operation": "send",
        "webhookUrl": "={{ $env('DISCORD_WEBHOOK_URL') }}",
        "content": "={{ $('ææ¡ˆæ–‡ç”Ÿæˆï¼ˆAI: gemini-2.5-proï¼‰').first().json.proposal_text }}"
      },
      "id": "e3f4a5b6-c7d8-4e4f-0a1b-2c3d4e5f6a7b",
      "name": "Discordé‡è¤‡é€šçŸ¥é€ä¿¡",
      "type": "n8n-nodes-base.discord",
      "typeVersion": 2,
      "position": [
        3650,
        300
      ],
      "notes": "å€™è£œææ¡ˆã‚’Discordã«é€ä¿¡"
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "// AI: xAI Grok (grok-4-fast)\n// è²¬å‹™: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰é¸æŠç•ªå·ã‚’æŠ½å‡º\n// ç›®æ¨™: 1-5ã®æ•°å­—ã‚’ç‰¹å®š\n\nconst API_KEY = $env('XAI_API_KEY');\nconst message = $input.first().json.message;\n\nconst prompt = `ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰é¸æŠã•ã‚ŒãŸå€™è£œç•ªå·ï¼ˆ1-5ï¼‰ã‚’æŠ½å‡ºã—ã¦ãã ã•ã„ã€‚\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: \"${message}\"\n\næ•°å­—ã®ã¿ã‚’è¿”ã—ã¦ãã ã•ã„ï¼ˆä¾‹: 3ï¼‰`;\n\nconst response = await fetch('https://api.x.ai/v1/chat/completions', {\nmethod: 'POST',\nheaders: {\n'Content-Type': 'application/json',\n'Authorization': `Bearer ${API_KEY}`\n},\nbody: JSON.stringify({\nmodel: 'grok-beta',\nmessages: [\n{ role: 'user', content: prompt }\n],\nmax_tokens: 50\n})\n});\n\nconst data = await response.json();\nconst selectedNumber = parseInt(data.choices[0].message.content.trim());\n\nreturn [{\njson: {\nselected_number: selectedNumber\n}\n}];"
      },
      "id": "f4a5b6c7-d8e9-4f5a-1b2c-3d4e5f6a7b8c",
      "name": "å€™è£œç•ªå·æŠ½å‡ºï¼ˆAI: grok-4-fastï¼‰",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        850,
        400
      ],
      "onError": "continueErrorOutput",
      "retryOnFail": true,
      "maxTries": 2,
      "waitBetweenTries": 3000,
      "notes": "ã€AIã€‘xAI Grok\nã€è²¬å‹™ã€‘ç•ªå·æŠ½å‡ºã®ã¿\nâ€»ç’°å¢ƒå¤‰æ•°XAI_API_KEYå¿…é ˆ"
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const selectedNumber = $input.first().json.selected_number;\n\nif (selectedNumber < 1 || selectedNumber > 5 || isNaN(selectedNumber)) {\nthrow new Error('ç„¡åŠ¹ãªé¸æŠç•ªå·ã§ã™ã€‚1-5ã®ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');\n}\n\nreturn [{ json: { selected_number: selectedNumber } }];"
      },
      "id": "a5b6c7d8-e9f0-4a6b-2c3d-4e5f6a7b8c9d",
      "name": "é¸æŠç•ªå·æ¤œè¨¼",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1050,
        400
      ],
      "onError": "continueErrorOutput",
      "notes": "é¸æŠç•ªå·ãŒ1-5ã®ç¯„å›²å†…ã‹ç¢ºèª"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "1",
              "name": "candidates",
              "value": "={{ JSON.parse($('å€™è£œãƒ‡ãƒ¼ã‚¿ä¸€æ™‚ä¿å­˜').first().json.saved_candidates) }}",
              "type": "object"
            },
            {
              "id": "2",
              "name": "event",
              "value": "={{ JSON.parse($('å€™è£œãƒ‡ãƒ¼ã‚¿ä¸€æ™‚ä¿å­˜').first().json.saved_event) }}",
              "type": "object"
            },
            {
              "id": "3",
              "name": "selected_number",
              "value": "={{ $json.selected_number }}",
              "type": "number"
            }
          ]
        }
      },
      "id": "b6c7d8e9-f0a1-4b7c-3d4e-5f6a7b8c9d0e",
      "name": "ä¿å­˜æ¸ˆã¿å€™è£œãƒ‡ãƒ¼ã‚¿å–å¾—",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [
        1250,
        400
      ],
      "notes": "T022ã§ä¿å­˜ã—ãŸå€™è£œãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—"
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const data = $input.first().json;\nconst selectedNumber = data.selected_number;\nconst candidates = data.candidates;\n\nconst selectedCandidate = candidates[selectedNumber - 1];\n\nreturn [{\njson: {\nstart_datetime: selectedCandidate.start,\nend_datetime: selectedCandidate.end,\ndisplay: selectedCandidate.display,\noriginal_event: data.event\n}\n}];"
      },
      "id": "c7d8e9f0-a1b2-4c8d-4e5f-6a7b8c9d0e1f",
      "name": "é¸æŠã•ã‚ŒãŸæ™‚é–“æƒ…å ±æŠ½å‡º",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1450,
        400
      ],
      "notes": "é¸æŠç•ªå·ã«å¯¾å¿œã™ã‚‹å€™è£œã®æ—¥æ™‚ã‚’å–å¾—"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "1",
              "name": "title",
              "value": "={{ $json.original_event.title }}",
              "type": "string"
            },
            {
              "id": "2",
              "name": "participants",
              "value": "={{ $json.original_event.participants }}",
              "type": "array"
            },
            {
              "id": "3",
              "name": "start_datetime",
              "value": "={{ $json.start_datetime }}",
              "type": "string"
            },
            {
              "id": "4",
              "name": "end_datetime",
              "value": "={{ $json.end_datetime }}",
              "type": "string"
            },
            {
              "id": "5",
              "name": "location",
              "value": "={{ $json.original_event.location || '' }}",
              "type": "string"
            },
            {
              "id": "6",
              "name": "description",
              "value": "={{ $json.original_event.description || '' }}",
              "type": "string"
            }
          ]
        }
      },
      "id": "d8e9f0a1-b2c3-4d9e-5f6a-7b8c9d0e1f2a",
      "name": "å…ƒã®äºˆå®šæƒ…å ±å–å¾—",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [
        1650,
        400
      ],
      "notes": "T022ã§ä¿å­˜ã—ãŸã‚¿ã‚¤ãƒˆãƒ«ãƒ»å‚åŠ è€…æƒ…å ±ã‚’å–å¾—"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "1",
              "name": "summary",
              "value": "={{ $json.title }}",
              "type": "string"
            },
            {
              "id": "2",
              "name": "start",
              "value": "={{ $json.start_datetime }}",
              "type": "string"
            },
            {
              "id": "3",
              "name": "end",
              "value": "={{ $json.end_datetime }}",
              "type": "string"
            },
            {
              "id": "4",
              "name": "attendees",
              "value": "={{ $json.participants.join(',') }}",
              "type": "string"
            },
            {
              "id": "5",
              "name": "location",
              "value": "={{ $json.location }}",
              "type": "string"
            },
            {
              "id": "6",
              "name": "description",
              "value": "={{ $json.description }}",
              "type": "string"
            }
          ]
        }
      },
      "id": "e9f0a1b2-c3d4-4e0f-6a7b-8c9d0e1f2a3b",
      "name": "äºˆå®šæƒ…å ±çµ±åˆ",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [
        1850,
        400
      ],
      "notes": "é¸æŠã•ã‚ŒãŸæ™‚é–“ + å…ƒã®ã‚¿ã‚¤ãƒˆãƒ«ãƒ»å‚åŠ è€…ã‚’çµ±åˆ"
    },
    {
      "parameters": {
        "operation": "create",
        "calendarId": "primary",
        "start": "={{ $json.start }}",
        "end": "={{ $json.end }}",
        "summary": "={{ $json.summary }}",
        "options": {
          "attendees": "={{ $json.attendees }}",
          "location": "={{ $json.location }}",
          "description": "={{ $json.description }}"
        }
      },
      "id": "f0a1b2c3-d4e5-4f1a-7b8c-9d0e1f2a3b4c",
      "name": "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼äºˆå®šç™»éŒ²ï¼ˆé¸æŠå¾Œï¼‰",
      "type": "n8n-nodes-base.googleCalendar",
      "typeVersion": 1,
      "position": [
        2050,
        400
      ],
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "google_calendar_oauth",
          "name": "Google Calendar OAuth"
        }
      },
      "onError": "continueErrorOutput",
      "retryOnFail": true,
      "maxTries": 2,
      "notes": "çµ±åˆã—ãŸäºˆå®šæƒ…å ±ã§ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œæˆ"
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "// T010ã¨åŒã˜AIã‚³ãƒ¼ãƒ‰ï¼ˆå†åˆ©ç”¨ï¼‰\nconst API_KEY = $env('ANTHROPIC_API_KEY');\nconst eventData = $input.first().json;\n\nconst prompt = `ä»¥ä¸‹ã®äºˆå®šã«ã¤ã„ã¦ã€å‚åŠ è€…ã«é€ã‚‹é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚\n\näºˆå®šæƒ…å ±ï¼š\n- ã‚¿ã‚¤ãƒˆãƒ«: ${eventData.summary}\n- æ—¥æ™‚: ${eventData.start} ã€œ ${eventData.end}\n- å ´æ‰€: ${eventData.location || 'æœªå®š'}\n- èª¬æ˜: ${eventData.description || 'ãªã—'}\n\nä»¶åã¨æœ¬æ–‡ã‚’ä»¥ä¸‹ã®å½¢å¼ã§è¿”ã—ã¦ãã ã•ã„ï¼š\n{\n\"subject\": \"ä»¶å\",\n\"body\": \"æœ¬æ–‡\"\n}`;\n\nconst response = await fetch('https://api.anthropic.com/v1/messages', {\nmethod: 'POST',\nheaders: {\n'Content-Type': 'application/json',\n'x-api-key': API_KEY,\n'anthropic-version': '2023-06-01'\n},\nbody: JSON.stringify({\nmodel: 'claude-sonnet-4-20250514',\nmax_tokens: 1000,\nmessages: [\n{ role: 'user', content: prompt }\n]\n})\n});\n\nconst data = await response.json();\nconst emailContent = JSON.parse(data.content[0].text);\n\nreturn [{\njson: {\n...eventData,\nemail_subject: emailContent.subject,\nemail_body: emailContent.body\n}\n}];"
      },
      "id": "a1b2c3d4-e5f6-4a2b-8c9d-0e1f2a3b4c5d",
      "name": "é€šçŸ¥ãƒ¡ãƒ¼ãƒ«æ–‡ç« ç”Ÿæˆ2ï¼ˆAI: claude-4.5-sonnetï¼‰",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2250,
        400
      ],
      "onError": "continueErrorOutput",
      "retryOnFail": true,
      "maxTries": 2,
      "waitBetweenTries": 3000,
      "notes": "ã€AIã€‘Anthropic Claude\nâ€»T010ã¨åŒã˜ãƒ­ã‚¸ãƒƒã‚¯"
    },
    {
      "parameters": {
        "operation": "send",
        "sendTo": "={{ $json.attendees }}",
        "subject": "={{ $json.email_subject }}",
        "message": "={{ $json.email_body }}",
        "options": {}
      },
      "id": "b2c3d4e5-f6a7-4b3c-9d0e-1f2a3b4c5d6e",
      "name": "Gmailé€šçŸ¥é€ä¿¡2",
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        2450,
        400
      ],
      "credentials": {
        "gmailOAuth2": {
          "id": "gmail_oauth",
          "name": "Gmail OAuth"
        }
      },
      "onError": "continueErrorOutput",
      "retryOnFail": true,
      "maxTries": 2,
      "notes": "å‚åŠ è€…å…¨å“¡ã«ãƒ¡ãƒ¼ãƒ«é€ä¿¡"
    },
    {
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "const eventData = $input.first().json;\nconst { DateTime } = require('luxon');\n\nconst startTime = DateTime.fromISO(eventData.start).setZone('Asia/Tokyo').toFormat('yyyy/MM/dd HH:mm');\n\nconst message = `âœ… äºˆå®šã‚’ç™»éŒ²ã—ã¾ã—ãŸï¼\n\nğŸ“… æ—¥æ™‚: ${startTime}\nğŸ“ ã‚¿ã‚¤ãƒˆãƒ«: ${eventData.summary}\nğŸ‘¥ å‚åŠ è€…: ${eventData.attendees || 'ãªã—'}\nğŸ“§ é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã—ã¾ã—ãŸ`;\n\nreturn [{\njson: {\ncontent: message\n}\n}];"
      },
      "id": "c3d4e5f6-a7b8-4c4d-0e1f-2a3b4c5d6e7f",
      "name": "DiscordæˆåŠŸé€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä½œæˆ2",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2650,
        400
      ],
      "notes": "DiscordæŠ•ç¨¿ç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•´å½¢"
    },
    {
      "parameters": {
        "resource": "message",
        "operation": "send",
        "webhookUrl": "={{ $env('DISCORD_WEBHOOK_URL') }}",
        "content": "={{ $json.content }}"
      },
      "id": "d4e5f6a7-b8c9-4d5e-1f2a-3b4c5d6e7f8a",
      "name": "DiscordæˆåŠŸé€šçŸ¥é€ä¿¡2",
      "type": "n8n-nodes-base.discord",
      "typeVersion": 2,
      "position": [
        2850,
        400
      ],
      "notes": "Discordã«ç™»éŒ²å®Œäº†é€šçŸ¥"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "1",
              "name": "execution_status",
              "value": "completed",
              "type": "string"
            },
            {
              "id": "2",
              "name": "timestamp",
              "value": "={{ $now.toISO() }}",
              "type": "string"
            },
            {
              "id": "3",
              "name": "workflow_name",
              "value": "={{ $workflow.name }}",
              "type": "string"
            }
          ]
        }
      },
      "id": "e5f6a7b8-c9d0-4e6f-2a3b-4c5d6e7f8a9b",
      "name": "å®Ÿè¡Œãƒ­ã‚°è¨˜éŒ²",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [
        3050,
        200
      ],
      "notes": "å…¨å®Ÿè¡Œçµæœã‚’è¨˜éŒ²ï¼ˆ3ã¤ã®ãƒ‘ã‚¹ãŒé›†ç´„ï¼‰"
    }
  ],
  "connections": {
    "Discord Webhookå—ä¿¡": {
      "main": [
        [
          {
            "node": "Webhookãƒ‡ãƒ¼ã‚¿æŠ½å‡º",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhookãƒ‡ãƒ¼ã‚¿æŠ½å‡º": {
      "main": [
        [
          {
            "node": "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—åˆ¤å®š",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—åˆ¤å®š": {
      "main": [
        [
          {
            "node": "å€™è£œç•ªå·æŠ½å‡ºï¼ˆAI: grok-4-fastï¼‰",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Discordäºˆå®šæŠ½å‡ºï¼ˆAI: grok-4-fastï¼‰",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Discordäºˆå®šæŠ½å‡ºï¼ˆAI: grok-4-fastï¼‰": {
      "main": [
        [
          {
            "node": "æŠ½å‡ºçµæœæ¤œè¨¼",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æŠ½å‡ºçµæœæ¤œè¨¼": {
      "main": [
        [
          {
            "node": "æ—¥æ™‚ISOå¤‰æ›",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ—¥æ™‚ISOå¤‰æ›": {
      "main": [
        [
          {
            "node": "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æ¤œç´¢",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æ¤œç´¢": {
      "main": [
        [
          {
            "node": "é‡è¤‡åˆ¤å®š",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "é‡è¤‡åˆ¤å®š": {
      "main": [
        [
          {
            "node": "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼äºˆå®šç™»éŒ²ï¼ˆé‡è¤‡ãªã—ï¼‰",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ä»Šæ—¥ã®æ—¥ä»˜å–å¾—",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼äºˆå®šç™»éŒ²ï¼ˆé‡è¤‡ãªã—ï¼‰": {
      "main": [
        [
          {
            "node": "é€šçŸ¥ãƒ¡ãƒ¼ãƒ«æ–‡ç« ç”Ÿæˆï¼ˆAI: claude-4.5-sonnetï¼‰",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "é€šçŸ¥ãƒ¡ãƒ¼ãƒ«æ–‡ç« ç”Ÿæˆï¼ˆAI: claude-4.5-sonnetï¼‰": {
      "main": [
        [
          {
            "node": "Gmailé€šçŸ¥é€ä¿¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gmailé€šçŸ¥é€ä¿¡": {
      "main": [
        [
          {
            "node": "DiscordæˆåŠŸé€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä½œæˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "DiscordæˆåŠŸé€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä½œæˆ": {
      "main": [
        [
          {
            "node": "DiscordæˆåŠŸé€šçŸ¥é€ä¿¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "DiscordæˆåŠŸé€šçŸ¥é€ä¿¡": {
      "main": [
        [
          {
            "node": "å®Ÿè¡Œãƒ­ã‚°è¨˜éŒ²",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ä»Šæ—¥ã®æ—¥ä»˜å–å¾—": {
      "main": [
        [
          {
            "node": "2æ—¥åˆ†ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆå–å¾—",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "2æ—¥åˆ†ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆå–å¾—": {
      "main": [
        [
          {
            "node": "æ™‚é–“å¸¯ã‚¹ãƒ­ãƒƒãƒˆç”Ÿæˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ™‚é–“å¸¯ã‚¹ãƒ­ãƒƒãƒˆç”Ÿæˆ": {
      "main": [
        [
          {
            "node": "æ—¢å­˜äºˆå®šã¨ã®ç…§åˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ—¢å­˜äºˆå®šã¨ã®ç…§åˆ": {
      "main": [
        [
          {
            "node": "ç©ºãæ™‚é–“æŠ½å‡º",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç©ºãæ™‚é–“æŠ½å‡º": {
      "main": [
        [
          {
            "node": "ç©ºãæ™‚é–“ååˆ†æ€§ãƒã‚§ãƒƒã‚¯",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç©ºãæ™‚é–“ååˆ†æ€§ãƒã‚§ãƒƒã‚¯": {
      "main": [
        [
          {
            "node": "ç©ºãæ™‚é–“å€™è£œ5ã¤é¸å®šï¼ˆAI: gemini-2.5-proï¼‰",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç©ºãæ™‚é–“å€™è£œ5ã¤é¸å®šï¼ˆAI: gemini-2.5-proï¼‰": {
      "main": [
        [
          {
            "node": "ææ¡ˆæ–‡ç”Ÿæˆï¼ˆAI: gemini-2.5-proï¼‰",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ææ¡ˆæ–‡ç”Ÿæˆï¼ˆAI: gemini-2.5-proï¼‰": {
      "main": [
        [
          {
            "node": "å€™è£œãƒ‡ãƒ¼ã‚¿ä¸€æ™‚ä¿å­˜",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å€™è£œãƒ‡ãƒ¼ã‚¿ä¸€æ™‚ä¿å­˜": {
      "main": [
        [
          {
            "node": "Discordé‡è¤‡é€šçŸ¥é€ä¿¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Discordé‡è¤‡é€šçŸ¥é€ä¿¡": {
      "main": [
        [
          {
            "node": "å®Ÿè¡Œãƒ­ã‚°è¨˜éŒ²",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å€™è£œç•ªå·æŠ½å‡ºï¼ˆAI: grok-4-fastï¼‰": {
      "main": [
        [
          {
            "node": "é¸æŠç•ªå·æ¤œè¨¼",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "é¸æŠç•ªå·æ¤œè¨¼": {
      "main": [
        [
          {
            "node": "ä¿å­˜æ¸ˆã¿å€™è£œãƒ‡ãƒ¼ã‚¿å–å¾—",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ä¿å­˜æ¸ˆã¿å€™è£œãƒ‡ãƒ¼ã‚¿å–å¾—": {
      "main": [
        [
          {
            "node": "é¸æŠã•ã‚ŒãŸæ™‚é–“æƒ…å ±æŠ½å‡º",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "é¸æŠã•ã‚ŒãŸæ™‚é–“æƒ…å ±æŠ½å‡º": {
      "main": [
        [
          {
            "node": "å…ƒã®äºˆå®šæƒ…å ±å–å¾—",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å…ƒã®äºˆå®šæƒ…å ±å–å¾—": {
      "main": [
        [
          {
            "node": "äºˆå®šæƒ…å ±çµ±åˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "äºˆå®šæƒ…å ±çµ±åˆ": {
      "main": [
        [
          {
            "node": "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼äºˆå®šç™»éŒ²ï¼ˆé¸æŠå¾Œï¼‰",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼äºˆå®šç™»éŒ²ï¼ˆé¸æŠå¾Œï¼‰": {
      "main": [
        [
          {
            "node": "é€šçŸ¥ãƒ¡ãƒ¼ãƒ«æ–‡ç« ç”Ÿæˆ2ï¼ˆAI: claude-4.5-sonnetï¼‰",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "é€šçŸ¥ãƒ¡ãƒ¼ãƒ«æ–‡ç« ç”Ÿæˆ2ï¼ˆAI: claude-4.5-sonnetï¼‰": {
      "main": [
        [
          {
            "node": "Gmailé€šçŸ¥é€ä¿¡2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gmailé€šçŸ¥é€ä¿¡2": {
      "main": [
        [
          {
            "node": "DiscordæˆåŠŸé€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä½œæˆ2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "DiscordæˆåŠŸé€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä½œæˆ2": {
      "main": [
        [
          {
            "node": "DiscordæˆåŠŸé€šçŸ¥é€ä¿¡2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "DiscordæˆåŠŸé€šçŸ¥é€ä¿¡2": {
      "main": [
        [
          {
            "node": "å®Ÿè¡Œãƒ­ã‚°è¨˜éŒ²",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "saveManualExecutions": true,
    "saveExecutionProgress": true,
    "timezone": "Asia/Tokyo"
  },
  "staticData": null,
  "tags": [],
  "pinData": {},
  "versionId": "workflow-v1-uuid"
}