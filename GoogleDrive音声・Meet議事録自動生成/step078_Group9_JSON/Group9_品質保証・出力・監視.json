{
  "name": "Group 9: å“è³ªä¿è¨¼ãƒ»å‡ºåŠ›ãƒ»ç›£è¦–",
  "nodes": [
    {
      "id": "ai_agent_step7_g9",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "name": "AI Agent Step7 - å“è³ªä¿è¨¼",
      "typeVersion": 3,
      "position": [4800, 300],
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.markdown }}",
        "hasOutputParser": false,
        "options": {
          "systemMessage": "ã‚ãªãŸã¯å“è³ªä¿è¨¼ã®å°‚é–€å®¶ã§ã™ã€‚ç”Ÿæˆã•ã‚ŒãŸè­°äº‹éŒ²ã®å®Œå…¨æ€§ã¨æ­£ç¢ºæ€§ã‚’æ¤œè¨¼ã—ã€ä¸è¶³é …ç›®ã‚’è£œå®Œã—ã¾ã™ã€‚\n\nã€æ¤œè¨¼é …ç›®ã€‘\n1. å¿…é ˆé …ç›®ã®å­˜åœ¨ç¢ºèªï¼ˆä¼šè­°åã€æ—¥æ™‚ã€å‚åŠ è€…ã€è­°é¡Œï¼‰\n2. å„è­°é¡Œã®å®Œå…¨æ€§ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã€æ™‚é–“ã€æ±ºå®šäº‹é …ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ãƒ†ãƒ ï¼‰\n3. ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ä¸€è²«æ€§ï¼ˆè¦‹å‡ºã—éšå±¤ã€ç®‡æ¡æ›¸ãã€çµµæ–‡å­—ï¼‰\n4. ãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§ï¼ˆã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã€è©±è€…åã€è­°é¡Œç•ªå·ï¼‰\n5. æ–‡æ³•ãƒ»è¡¨è¨˜ã®æ­£ç¢ºæ€§\n\nã€è£œå®Œãƒ«ãƒ¼ãƒ«ã€‘\n- ä¸è¶³ã—ã¦ã„ã‚‹å¿…é ˆé …ç›®ã‚’ç‰¹å®šã—ã€åˆ©ç”¨å¯èƒ½ãªãƒ‡ãƒ¼ã‚¿ã‹ã‚‰è£œå®Œ\n- ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£ï¼ˆè¦‹å‡ºã—ãƒ¬ãƒ™ãƒ«ã€ç®‡æ¡æ›¸ãå½¢å¼ï¼‰\n- ä¸€è²«æ€§ã®ãªã„è¡¨è¨˜ã‚’çµ±ä¸€ï¼ˆæ—¥æ™‚å½¢å¼ã€è©±è€…åè¡¨è¨˜ï¼‰\n- æ˜ã‚‰ã‹ãªèª¤å­—è„±å­—ã‚’ä¿®æ­£\n\nã€å‡ºåŠ›å½¢å¼ã€‘\nJSONå½¢å¼:\n{\n  \"quality_score\": 85,\n  \"issues_found\": [\n    {\"type\": \"missing_field\", \"field\": \"meeting_date\", \"severity\": \"high\"},\n    {\"type\": \"format_error\", \"location\": \"è­°é¡Œ2\", \"severity\": \"medium\"}\n  ],\n  \"corrected_markdown\": \"[ä¿®æ­£æ¸ˆã¿Markdownè­°äº‹éŒ²]\",\n  \"validation_status\": \"passed_with_corrections\"\n}\n\nã€ç¦æ­¢äº‹é …ã€‘\n- ãƒ‡ãƒ¼ã‚¿ã«ãªã„æƒ…å ±ã®æé€ \n- è­°äº‹éŒ²å†…å®¹ã®æ”¹å¤‰ã‚„çœç•¥\n- éåº¦ãªç·¨é›†ã‚„å†æ§‹æˆ",
          "maxIterations": 5
        },
        "continueOnFail": false,
        "retryOnFail": true,
        "maxTries": 3,
        "waitBetweenTries": 2000,
        "onError": "continueRegularOutput"
      },
      "_comment": "AI Agent Step7ã¯ã€Claude Sonnet 4.5ã‚’ä½¿ç”¨ã—ã¦ç”Ÿæˆã•ã‚ŒãŸè­°äº‹éŒ²ã®å“è³ªã‚’æ¤œè¨¼ã—ã€ä¸è¶³é …ç›®ã‚’è£œå®Œã—ã¾ã™ï¼ˆStep020æº–æ‹ ã€æ¤œè¨¼ãƒ¬ãƒãƒ¼ãƒˆä¿®æ­£ï¼šæ–°è¦è¿½åŠ ï¼‰ã€‚å¿…é ˆé …ç›®ã®å­˜åœ¨ç¢ºèªã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¸€è²«æ€§ã€ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã€æ–‡æ³•ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œã—ã€å“è³ªã‚¹ã‚³ã‚¢ã€ç™ºè¦‹ã•ã‚ŒãŸå•é¡Œã€ä¿®æ­£æ¸ˆã¿Markdownã€æ¤œè¨¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’JSONå½¢å¼ã§å‡ºåŠ›ã—ã¾ã™ã€‚Memoryï¼ˆstep7_memoryï¼‰ã‚’ä½¿ç”¨ã—ã¦æ–‡è„ˆã‚’ä¿æŒã—ã¾ã™ã€‚",
      "notes": "typeVersion: 3 | promptType: define | text: ={{ $json.markdown }} | systemMessage: å“è³ªä¿è¨¼å°‚é–€å®¶ | maxIterations: 5 | retryOnFail: true | maxTries: 3 | waitBetweenTries: 2000ms | Memory: step7_memoryï¼ˆã‚ã‚Šï¼‰ | ãƒ¢ãƒ‡ãƒ«: Claude Sonnet 4.5 | Step020æº–æ‹ ï¼ˆæ–°è¦è¿½åŠ ï¼‰"
    },
    {
      "id": "claude_step7_g9",
      "type": "@n8n/n8n-nodes-langchain.lmChatAnthropic",
      "name": "Claude Sonnet 4.5 (Step7)",
      "typeVersion": 1.3,
      "position": [4800, 480],
      "parameters": {
        "model": "claude-4-5-sonnet-20250929",
        "options": {
          "temperature": 0.7,
          "maxTokens": 8000
        }
      },
      "credentials": {
        "anthropicApi": {
          "id": "anthropic_api",
          "name": "Anthropic API"
        }
      },
      "_comment": "Claude Sonnet 4.5 Chat Modelã¯ã€AI Agent Step7ã®æ¨è«–ã‚¨ãƒ³ã‚¸ãƒ³ã§ã™ã€‚temperature=0.7ã§æŸ”è»Ÿãªå“è³ªæ¤œè¨¼ã‚’å®Ÿç¾ã—ã€maxTokens=8000ã§é•·æ–‡è­°äº‹éŒ²ã®æ¤œè¨¼ãƒ»è£œå®Œã«å¯¾å¿œã—ã¾ã™ã€‚é«˜ç²¾åº¦ãªå“è³ªåˆ¤æ–­ã«ã‚ˆã‚Šã€ãƒ“ã‚¸ãƒã‚¹æ–‡æ›¸ã¨ã—ã¦å®Œæˆåº¦ã®é«˜ã„è­°äº‹éŒ²ã‚’ä¿è¨¼ã—ã¾ã™ï¼ˆStep020æº–æ‹ ã€æ¤œè¨¼ãƒ¬ãƒãƒ¼ãƒˆä¿®æ­£ï¼šæ–°è¦è¿½åŠ ï¼‰ã€‚",
      "notes": "typeVersion: 1.3 | model: claude-4-5-sonnet-20250929 | temperature: 0.7ï¼ˆæŸ”è»Ÿå‡ºåŠ›ï¼‰ | maxTokens: 8000 | æ¥ç¶šã‚¿ã‚¤ãƒ—: ai_languageModel | Step020æº–æ‹ ï¼ˆæ–°è¦è¿½åŠ ï¼‰"
    },
    {
      "id": "memory_step7_g9",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "name": "Simple Memory (Step7)",
      "typeVersion": 1.3,
      "position": [4800, 560],
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "step7_memory",
        "contextWindowLength": 10
      },
      "_comment": "Simple Memory (Buffer Window)ã¯ã€AI Agent Step7ã®æ–‡è„ˆä¿æŒæ©Ÿèƒ½ã§ã™ã€‚sessionKey='step7_memory'ã§å°‚ç”¨ãƒ¡ãƒ¢ãƒªé ˜åŸŸã‚’ç¢ºä¿ã—ã€contextWindowLength=10ã§ç›´è¿‘10å›ã®å¯¾è©±å±¥æ­´ã‚’ä¿æŒã—ã¾ã™ã€‚è¤‡æ•°ã®æ¤œè¨¼é …ç›®ã«ã¾ãŸãŒã‚‹å“è³ªãƒã‚§ãƒƒã‚¯æ™‚ã«ã€ä¸€è²«æ€§ã®ã‚ã‚‹åˆ¤æ–­åŸºæº–ã‚’ç¶­æŒã—ã¾ã™ï¼ˆStep020è¦ä»¶æº–æ‹ ã€æ¤œè¨¼ãƒ¬ãƒãƒ¼ãƒˆä¿®æ­£ï¼šæ–°è¦è¿½åŠ ï¼‰ã€‚",
      "notes": "typeVersion: 1.3 | sessionIdType: customKey | sessionKey: step7_memory | contextWindowLength: 10 | æ¥ç¶šã‚¿ã‚¤ãƒ—: ai_memory | Step020è¦ä»¶æº–æ‹ ï¼ˆæ–°è¦è¿½åŠ ï¼‰"
    },
    {
      "id": "drive_save_g9_02",
      "type": "n8n-nodes-base.googleDrive",
      "name": "è­°äº‹éŒ²ä¿å­˜",
      "typeVersion": 3,
      "position": [5000, 300],
      "parameters": {
        "resource": "file",
        "operation": "upload",
        "name": "={{ $json.meeting_name + '_è­°äº‹éŒ²_' + new Date().toISOString().split('T')[0] + '.md' }}",
        "driveId": {
          "__rl": true,
          "value": "root",
          "mode": "list"
        },
        "folderId": {
          "__rl": true,
          "value": "è­°äº‹éŒ²_å‡ºåŠ›",
          "mode": "list"
        },
        "options": {
          "binaryData": false,
          "stringData": "={{ JSON.parse($json.output).corrected_markdown }}"
        }
      },
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "google_drive_oauth2",
          "name": "Google Drive OAuth2"
        }
      },
      "_comment": "AI Agent Step7ãŒå“è³ªä¿è¨¼ã—ãŸä¿®æ­£æ¸ˆã¿Markdownè­°äº‹éŒ²ã‚’ã€Google Driveã®ã€Œè­°äº‹éŒ²_å‡ºåŠ›ã€ãƒ•ã‚©ãƒ«ãƒ€ã«ä¿å­˜ã—ã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«åã¯ã€Œä¼šè­°å_è­°äº‹éŒ²_YYYY-MM-DD.mdã€å½¢å¼ã§è‡ªå‹•ç”Ÿæˆã•ã‚Œã€æ—¥ä»˜ç®¡ç†ã‚’å®¹æ˜“ã«ã—ã¾ã™ã€‚binaryData=falseã€stringDataä½¿ç”¨ã§ãƒ†ã‚­ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ç›´æ¥ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚",
      "notes": "typeVersion: 3 | resource: file | operation: upload | name: ä¼šè­°å_è­°äº‹éŒ²_æ—¥ä»˜.md | folderId: è­°äº‹éŒ²_å‡ºåŠ› | options.binaryData: false | options.stringData: JSON.parse($json.output).corrected_markdown | å‡ºåŠ›: Markdownè­°äº‹éŒ²ãƒ•ã‚¡ã‚¤ãƒ«"
    },
    {
      "id": "drive_move_g9_03",
      "type": "n8n-nodes-base.googleDrive",
      "name": "M4Aå‡¦ç†æ¸ˆã¿ç§»å‹•",
      "typeVersion": 3,
      "position": [5200, 300],
      "parameters": {
        "resource": "file",
        "operation": "move",
        "fileId": {
          "__rl": true,
          "value": "={{ $('M4Aãƒ•ã‚¡ã‚¤ãƒ«æ¤œçŸ¥').first().json.id }}",
          "mode": "id"
        },
        "driveId": {
          "__rl": true,
          "value": "root",
          "mode": "list"
        },
        "folderId": {
          "__rl": true,
          "value": "processed",
          "mode": "list"
        }
      },
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "google_drive_oauth2",
          "name": "Google Drive OAuth2"
        }
      },
      "_comment": "å‡¦ç†å®Œäº†ã—ãŸM4Aãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€Œprocessedã€ãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã€å†å‡¦ç†ã‚’é˜²ãã¾ã™ã€‚Group 1ã®ãƒˆãƒªã‚¬ãƒ¼ã§æ¤œçŸ¥ã—ãŸå…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«IDã‚’å‚ç…§ï¼ˆ$('M4Aãƒ•ã‚¡ã‚¤ãƒ«æ¤œçŸ¥').first().json.idï¼‰ã—ã€å‡¦ç†æ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ•´ç†ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æ¬¡å›ã®ãƒãƒ¼ãƒªãƒ³ã‚°æ™‚ã«åŒã˜ãƒ•ã‚¡ã‚¤ãƒ«ãŒå†åº¦ãƒˆãƒªã‚¬ãƒ¼ã•ã‚Œã‚‹ã“ã¨ã‚’é˜²ãã¾ã™ã€‚",
      "notes": "typeVersion: 3 | resource: file | operation: move | fileId: $('M4Aãƒ•ã‚¡ã‚¤ãƒ«æ¤œçŸ¥').first().json.id | folderId: processed | ç›®çš„: å†å‡¦ç†é˜²æ­¢ã€ãƒ•ã‚¡ã‚¤ãƒ«æ•´ç†"
    },
    {
      "id": "http_discord_g9_04",
      "type": "n8n-nodes-base.httpRequest",
      "name": "Discordå®Œäº†é€šçŸ¥",
      "typeVersion": 4,
      "position": [5400, 300],
      "parameters": {
        "method": "POST",
        "url": "={{ $env.DISCORD_WEBHOOK_URL }}",
        "authentication": "none",
        "sendBody": true,
        "bodyContentType": "json",
        "jsonBody": "={{ JSON.stringify({\n  content: 'âœ… è­°äº‹éŒ²ç”Ÿæˆå®Œäº†',\n  embeds: [{\n    title: $json.meeting_name + ' è­°äº‹éŒ²',\n    description: 'å‡¦ç†ãŒå®Œäº†ã—ã¾ã—ãŸ',\n    color: 3066993,\n    fields: [\n      {name: 'ç·è­°é¡Œæ•°', value: String($json.total_agendas), inline: true},\n      {name: 'å“è³ªã‚¹ã‚³ã‚¢', value: String(JSON.parse($json.output).quality_score) + '/100', inline: true},\n      {name: 'ç”Ÿæˆæ—¥æ™‚', value: $json.generated_at, inline: false},\n      {name: 'è­°äº‹éŒ²ãƒªãƒ³ã‚¯', value: '[Google Driveã§é–‹ã](https://drive.google.com/drive/folders/è­°äº‹éŒ²_å‡ºåŠ›)', inline: false}\n    ],\n    timestamp: new Date().toISOString()\n  }]\n}) }}",
        "options": {}
      },
      "_comment": "å‡¦ç†å®Œäº†ã‚’Discord Webhookã§é€šçŸ¥ã—ã¾ã™ã€‚ä¼šè­°åã€ç·è­°é¡Œæ•°ã€å“è³ªã‚¹ã‚³ã‚¢ã€ç”Ÿæˆæ—¥æ™‚ã€è­°äº‹éŒ²ãƒªãƒ³ã‚¯ã‚’å«ã‚€Embedå½¢å¼ã§é€ä¿¡ã—ã€è¦–è¦šçš„ã«æ•´ç†ã•ã‚ŒãŸé€šçŸ¥ã‚’å®Ÿç¾ã—ã¾ã™ã€‚ç’°å¢ƒå¤‰æ•°DISCORD_WEBHOOK_URLã‹ã‚‰Webhook URLã‚’å–å¾—ã—ã€ã‚»ã‚­ãƒ¥ã‚¢ã«ç®¡ç†ã—ã¾ã™ã€‚",
      "notes": "typeVersion: 4 | method: POST | url: $env.DISCORD_WEBHOOK_URL | bodyContentType: json | embeds: ã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆè­°é¡Œæ•°ã€å“è³ªã‚¹ã‚³ã‚¢ã€æ—¥æ™‚ã€ãƒªãƒ³ã‚¯ï¼‰ | color: 3066993ï¼ˆç·‘ï¼‰ | ç›®çš„: å®Œäº†é€šçŸ¥"
    },
    {
      "id": "set_summary_g9_05",
      "type": "n8n-nodes-base.set",
      "name": "å‡¦ç†çµæœã¾ã¨ã‚",
      "typeVersion": 3,
      "position": [5600, 300],
      "parameters": {
        "mode": "manual",
        "duplicateItem": false,
        "assignments": {
          "assignments": [
            {
              "id": "summary_status",
              "name": "status",
              "type": "string",
              "value": "completed"
            },
            {
              "id": "summary_meeting_name",
              "name": "meeting_name",
              "type": "string",
              "value": "={{ $json.meeting_name }}"
            },
            {
              "id": "summary_file_id",
              "name": "original_file_id",
              "type": "string",
              "value": "={{ $('M4Aãƒ•ã‚¡ã‚¤ãƒ«æ¤œçŸ¥').first().json.id }}"
            },
            {
              "id": "summary_saved_file_id",
              "name": "saved_file_id",
              "type": "string",
              "value": "={{ $('è­°äº‹éŒ²ä¿å­˜').first().json.id }}"
            },
            {
              "id": "summary_quality_score",
              "name": "quality_score",
              "type": "number",
              "value": "={{ JSON.parse($('AI Agent Step7 - å“è³ªä¿è¨¼').first().json.output).quality_score }}"
            },
            {
              "id": "summary_duration",
              "name": "processing_duration_seconds",
              "type": "number",
              "value": "={{ Math.floor((new Date() - new Date($('M4Aãƒ•ã‚¡ã‚¤ãƒ«æ¤œçŸ¥').first().json.createdTime)) / 1000) }}"
            }
          ]
        }
      },
      "_comment": "ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å…¨ä½“ã®å‡¦ç†çµæœã‚’ã¾ã¨ã‚ã¾ã™ã€‚ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆcompletedï¼‰ã€ä¼šè­°åã€å…ƒãƒ•ã‚¡ã‚¤ãƒ«IDã€ä¿å­˜ãƒ•ã‚¡ã‚¤ãƒ«IDã€å“è³ªã‚¹ã‚³ã‚¢ã€å‡¦ç†æ™‚é–“ï¼ˆç§’ï¼‰ã‚’è¨­å®šã—ã€ç›£æŸ»ãƒ­ã‚°é€ä¿¡ã¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Œäº†å ±å‘Šã«ä½¿ç”¨ã—ã¾ã™ã€‚è¤‡æ•°ã®å…ˆè¡Œãƒãƒ¼ãƒ‰ã‚’å‚ç…§ï¼ˆ$('M4Aãƒ•ã‚¡ã‚¤ãƒ«æ¤œçŸ¥')ã€$('è­°äº‹éŒ²ä¿å­˜')ã€$('AI Agent Step7')ï¼‰ã—ã¦å®Œå…¨ãªå‡¦ç†çµæœã‚’ç”Ÿæˆã—ã¾ã™ã€‚",
      "notes": "mode: manual | assignments: 6å€‹ (status, meeting_name, original_file_id, saved_file_id, quality_score, processing_duration_seconds) | å…ˆè¡Œãƒãƒ¼ãƒ‰å‚ç…§: M4Aãƒ•ã‚¡ã‚¤ãƒ«æ¤œçŸ¥ã€è­°äº‹éŒ²ä¿å­˜ã€AI Agent Step7 | å‡¦ç†æ™‚é–“è¨ˆç®—: ç¾åœ¨æ™‚åˆ» - ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆæ™‚åˆ»"
    },
    {
      "id": "http_audit_g9_06",
      "type": "n8n-nodes-base.httpRequest",
      "name": "ç›£æŸ»ãƒ­ã‚°é€ä¿¡",
      "typeVersion": 4,
      "position": [5800, 300],
      "parameters": {
        "method": "POST",
        "url": "={{ $env.AUDIT_LOG_API_URL }}",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "httpHeaderAuth",
        "sendBody": true,
        "bodyContentType": "json",
        "jsonBody": "={{ JSON.stringify({\n  event_type: 'workflow_completed',\n  workflow_id: $workflow.id,\n  execution_id: $execution.id,\n  meeting_name: $json.meeting_name,\n  original_file_id: $json.original_file_id,\n  saved_file_id: $json.saved_file_id,\n  quality_score: $json.quality_score,\n  processing_duration_seconds: $json.processing_duration_seconds,\n  timestamp: new Date().toISOString()\n}) }}",
        "options": {}
      },
      "credentials": {
        "httpHeaderAuth": {
          "id": "audit_log_api_auth",
          "name": "Audit Log API Auth"
        }
      },
      "_comment": "ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Ÿè¡Œã®ç›£æŸ»ãƒ­ã‚°ã‚’å¤–éƒ¨APIã«é€ä¿¡ã—ã¾ã™ï¼ˆL10: Monitoringï¼‰ã€‚ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼IDã€å®Ÿè¡ŒIDã€ä¼šè­°åã€ãƒ•ã‚¡ã‚¤ãƒ«IDã€å“è³ªã‚¹ã‚³ã‚¢ã€å‡¦ç†æ™‚é–“ã€ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚’è¨˜éŒ²ã—ã€ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ã¨ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ã‚’ç¢ºä¿ã—ã¾ã™ã€‚ç’°å¢ƒå¤‰æ•°AUDIT_LOG_API_URLã¨HTTP Headerèªè¨¼ã§ã‚»ã‚­ãƒ¥ã‚¢ã«é€ä¿¡ã—ã¾ã™ã€‚",
      "notes": "typeVersion: 4 | method: POST | url: $env.AUDIT_LOG_API_URL | authentication: httpHeaderAuth | bodyContentType: json | è¨˜éŒ²é …ç›®: event_type, workflow_id, execution_id, meeting_name, file_ids, quality_score, duration, timestamp | ç›®çš„: ç›£æŸ»è¨¼è·¡è¨˜éŒ²ï¼ˆL10ï¼‰"
    },
    {
      "id": "sticky_g9",
      "type": "n8n-nodes-base.stickyNote",
      "name": "Group 9: å“è³ªä¿è¨¼ãƒ»å‡ºåŠ›ãƒ»ç›£è¦–",
      "typeVersion": 1,
      "position": [4740, 140],
      "parameters": {
        "content": "## Group 9: å“è³ªä¿è¨¼ãƒ»å‡ºåŠ›ãƒ»ç›£è¦–\n\n**ç›®çš„**: AI Agent Step7ã§å“è³ªä¿è¨¼ã—ã€è­°äº‹éŒ²ã‚’ä¿å­˜ãƒ»é€šçŸ¥ãƒ»ç›£æŸ»ãƒ­ã‚°é€ä¿¡\n\n### ğŸ¯ ã“ã®ã‚°ãƒ«ãƒ¼ãƒ—ã®å½¹å‰²\n- **L5 (Core Logic)**: AI Agent Step7ã«ã‚ˆã‚‹å“è³ªä¿è¨¼\n- **L6 (Integration)**: Google Driveã€Discordã€ç›£æŸ»ãƒ­ã‚°APIé€£æº\n- **L7 (Output)**: è­°äº‹éŒ²ä¿å­˜ã€é€šçŸ¥\n- **L9 (Security)**: ãƒ•ã‚¡ã‚¤ãƒ«ç§»å‹•ã€ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡\n- **L10 (Monitoring)**: ç›£æŸ»ãƒ­ã‚°é€ä¿¡\n\n### ğŸ“¦ ã“ã®ã‚°ãƒ«ãƒ¼ãƒ—ã«å«ã¾ã‚Œã‚‹ãƒãƒ¼ãƒ‰\n\n**1. AI Agent Step7 - å“è³ªä¿è¨¼** (ai_agent_step7_g9)\n- ã‚¿ã‚¤ãƒ—: AI Agent\n- å½¹å‰²: è­°äº‹éŒ²ã®å®Œå…¨æ€§ãƒ»æ­£ç¢ºæ€§æ¤œè¨¼ã€ä¸è¶³é …ç›®è£œå®Œ\n- å…¥åŠ›: `={{ $json.markdown }}`\n- SystemMessage: å“è³ªä¿è¨¼å°‚é–€å®¶\n- æ¤œè¨¼é …ç›®: å¿…é ˆé …ç›®ã€å®Œå…¨æ€§ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¸€è²«æ€§ã€ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã€æ–‡æ³•\n- å‡ºåŠ›å½¢å¼: JSONï¼ˆquality_score, issues_found, corrected_markdown, validation_statusï¼‰\n- Memory: step7_memoryï¼ˆã‚ã‚Šï¼‰\n- ãƒ¢ãƒ‡ãƒ«: Claude Sonnet 4.5\n- Step020æº–æ‹ : æ–°è¦è¿½åŠ ï¼ˆæ¤œè¨¼ãƒ¬ãƒãƒ¼ãƒˆä¿®æ­£åæ˜ ï¼‰\n\n**2. Claude Sonnet 4.5 (Step7)** (claude_step7_g9) - Sub-node\n- ã‚¿ã‚¤ãƒ—: Anthropic Chat Model\n- å½¹å‰²: AI Agent Step7ã®æ¨è«–ã‚¨ãƒ³ã‚¸ãƒ³\n- è¨­å®š: model=claude-4-5-sonnet-20250929ã€temperature=0.7ã€maxTokens=8000\n- æ¥ç¶š: ai_languageModel â†’ AI Agent Step7\n- Step020æº–æ‹ : æ–°è¦è¿½åŠ \n\n**3. Simple Memory (Step7)** (memory_step7_g9) - Sub-node\n- ã‚¿ã‚¤ãƒ—: Buffer Window Memory\n- å½¹å‰²: AI Agent Step7ã®æ–‡è„ˆä¿æŒï¼ˆç›´è¿‘10å›ã®å¯¾è©±å±¥æ­´ï¼‰\n- è¨­å®š: sessionIdType=customKeyã€sessionKey=step7_memoryã€contextWindowLength=10\n- æ¥ç¶š: ai_memory â†’ AI Agent Step7\n- Step020æº–æ‹ : æ–°è¦è¿½åŠ \n\n**4. è­°äº‹éŒ²ä¿å­˜** (drive_save_g9_02)\n- ã‚¿ã‚¤ãƒ—: Google Drive (Upload)\n- å½¹å‰²: ä¿®æ­£æ¸ˆã¿Markdownè­°äº‹éŒ²ã‚’Google Driveã«ä¿å­˜\n- ãƒ•ã‚¡ã‚¤ãƒ«å: ä¼šè­°å_è­°äº‹éŒ²_YYYY-MM-DD.md\n- ä¿å­˜å…ˆ: è­°äº‹éŒ²_å‡ºåŠ›ãƒ•ã‚©ãƒ«ãƒ€\n- ãƒ‡ãƒ¼ã‚¿: JSON.parse($json.output).corrected_markdown\n\n**5. M4Aå‡¦ç†æ¸ˆã¿ç§»å‹•** (drive_move_g9_03)\n- ã‚¿ã‚¤ãƒ—: Google Drive (Move)\n- å½¹å‰²: å‡¦ç†å®Œäº†ã—ãŸM4Aãƒ•ã‚¡ã‚¤ãƒ«ã‚’processedãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•\n- ãƒ•ã‚¡ã‚¤ãƒ«ID: $('M4Aãƒ•ã‚¡ã‚¤ãƒ«æ¤œçŸ¥').first().json.id\n- ç§»å‹•å…ˆ: processedãƒ•ã‚©ãƒ«ãƒ€\n- ç›®çš„: å†å‡¦ç†é˜²æ­¢\n\n**6. Discordå®Œäº†é€šçŸ¥** (http_discord_g9_04)\n- ã‚¿ã‚¤ãƒ—: HTTP Request\n- å½¹å‰²: å‡¦ç†å®Œäº†ã‚’Discord Webhookã§é€šçŸ¥\n- URL: $env.DISCORD_WEBHOOK_URL\n- å½¢å¼: Embedï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã€ãƒªãƒ³ã‚¯ï¼‰\n- é€šçŸ¥å†…å®¹: ä¼šè­°åã€è­°é¡Œæ•°ã€å“è³ªã‚¹ã‚³ã‚¢ã€æ—¥æ™‚ã€ãƒªãƒ³ã‚¯\n\n**7. å‡¦ç†çµæœã¾ã¨ã‚** (set_summary_g9_05)\n- ã‚¿ã‚¤ãƒ—: Set\n- å½¹å‰²: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å…¨ä½“ã®å‡¦ç†çµæœã‚’é›†ç´„\n- è¨­å®š: status, meeting_name, original_file_id, saved_file_id, quality_score, processing_duration_seconds\n- å…ˆè¡Œãƒãƒ¼ãƒ‰å‚ç…§: M4Aãƒ•ã‚¡ã‚¤ãƒ«æ¤œçŸ¥ã€è­°äº‹éŒ²ä¿å­˜ã€AI Agent Step7\n\n**8. ç›£æŸ»ãƒ­ã‚°é€ä¿¡** (http_audit_g9_06)\n- ã‚¿ã‚¤ãƒ—: HTTP Request\n- å½¹å‰²: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Ÿè¡Œã®ç›£æŸ»ãƒ­ã‚°ã‚’å¤–éƒ¨APIã«é€ä¿¡ï¼ˆL10: Monitoringï¼‰\n- URL: $env.AUDIT_LOG_API_URL\n- èªè¨¼: httpHeaderAuth\n- è¨˜éŒ²é …ç›®: event_type, workflow_id, execution_id, meeting_name, file_ids, quality_score, duration, timestamp\n\n### ğŸ”— ãƒ•ãƒ­ãƒ¼\n**Group 8** â†’ ai_agent_step7_g9 â†’ drive_save_g9_02 â†’ drive_move_g9_03 â†’ http_discord_g9_04 â†’ set_summary_g9_05 â†’ http_audit_g9_06 â†’ **å®Œäº†**\n\nSub-nodes:\n- claude_step7_g9 â†’ (ai_languageModel) â†’ ai_agent_step7_g9\n- memory_step7_g9 â†’ (ai_memory) â†’ ai_agent_step7_g9\n\n### âš™ï¸ ä¾å­˜é–¢ä¿‚\n- **å…¥åŠ›**: Group 8ã‹ã‚‰ã®Markdownè­°äº‹éŒ²ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰\n- **å‡ºåŠ›**: Google Driveè­°äº‹éŒ²ã€Discordé€šçŸ¥ã€ç›£æŸ»ãƒ­ã‚°\n- **Sub-nodes**: Claude Sonnet 4.5 (Chat Model) + Simple Memory (Memory)\n- **å¤–éƒ¨é€£æº**: Google Driveã€Discord Webhookã€ç›£æŸ»ãƒ­ã‚°API\n\n### ğŸ“Š ä¸»è¦ãƒ‡ãƒ¼ã‚¿\n- **AI Agent Step7å‡ºåŠ›**:\n  - `$json.output`: JSONï¼ˆquality_score, issues_found, corrected_markdown, validation_statusï¼‰\n- **å‡¦ç†çµæœã¾ã¨ã‚å‡ºåŠ›**:\n  - `$json.status`: completed\n  - `$json.meeting_name`: ä¼šè­°å\n  - `$json.original_file_id`: å…ƒM4Aãƒ•ã‚¡ã‚¤ãƒ«ID\n  - `$json.saved_file_id`: ä¿å­˜è­°äº‹éŒ²ãƒ•ã‚¡ã‚¤ãƒ«ID\n  - `$json.quality_score`: å“è³ªã‚¹ã‚³ã‚¢\n  - `$json.processing_duration_seconds`: å‡¦ç†æ™‚é–“ï¼ˆç§’ï¼‰\n\n### ğŸ—ï¸ 12å±¤ãƒãƒƒãƒ”ãƒ³ã‚°\n- **L5 (Core Logic)**: ai_agent_step7_g9ï¼ˆå“è³ªä¿è¨¼AIï¼‰\n- **L6 (Integration)**: drive_save_g9_02, drive_move_g9_03, http_discord_g9_04, http_audit_g9_06ï¼ˆå¤–éƒ¨é€£æºï¼‰\n- **L7 (Output)**: drive_save_g9_02ï¼ˆè­°äº‹éŒ²å‡ºåŠ›ï¼‰ã€http_discord_g9_04ï¼ˆé€šçŸ¥ï¼‰\n- **L9 (Security)**: drive_move_g9_03ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«æ•´ç†ã€å†å‡¦ç†é˜²æ­¢ï¼‰\n- **L10 (Monitoring)**: http_audit_g9_06ï¼ˆç›£æŸ»ãƒ­ã‚°ã€ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ï¼‰\n\n### ğŸ”„ ãƒ‘ã‚¿ãƒ¼ãƒ³é©ç”¨\n\n**Pattern 1: Error-First Design**\n- maxTries: 3ï¼ˆAI Agent Step7ï¼‰\n- waitBetweenTries: 2000ms\n- onError: continueRegularOutput\n- retryOnFail: true\n\n**Pattern 2: AI Agent with Sub-Nodes and Tools**\n- AI Agent: @n8n/n8n-nodes-langchain.agent (typeVersion 3)\n- Chat Model: Claude Sonnet 4.5 (ai_languageModelæ¥ç¶š)\n- Memory: Buffer Window (ai_memoryæ¥ç¶šã€step7_memory)\n- Step020æº–æ‹ : æ–°è¦è¿½åŠ ï¼ˆæ¤œè¨¼ãƒ¬ãƒãƒ¼ãƒˆä¿®æ­£åæ˜ ï¼‰\n\n### ğŸ¯ å“è³ªä¿è¨¼ã®æµã‚Œ\n1. AI Agent Step7ãŒè­°äº‹éŒ²ã‚’æ¤œè¨¼\n2. å“è³ªã‚¹ã‚³ã‚¢ç®—å‡ºã€å•é¡Œç‰¹å®š\n3. ä¸è¶³é …ç›®ã‚’è£œå®Œã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¿®æ­£\n4. ä¿®æ­£æ¸ˆã¿Markdownã‚’å‡ºåŠ›\n5. Google Driveã«ä¿å­˜\n6. Discordé€šçŸ¥\n7. ç›£æŸ»ãƒ­ã‚°é€ä¿¡",
        "height": 740,
        "width": 840,
        "color": 2
      }
    }
  ],
  "connections": {
    "AI Agent Step7 - å“è³ªä¿è¨¼": {
      "main": [
        [
          {
            "node": "è­°äº‹éŒ²ä¿å­˜",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Claude Sonnet 4.5 (Step7)": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent Step7 - å“è³ªä¿è¨¼",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory (Step7)": {
      "ai_memory": [
        [
          {
            "node": "AI Agent Step7 - å“è³ªä¿è¨¼",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "è­°äº‹éŒ²ä¿å­˜": {
      "main": [
        [
          {
            "node": "M4Aå‡¦ç†æ¸ˆã¿ç§»å‹•",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "M4Aå‡¦ç†æ¸ˆã¿ç§»å‹•": {
      "main": [
        [
          {
            "node": "Discordå®Œäº†é€šçŸ¥",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Discordå®Œäº†é€šçŸ¥": {
      "main": [
        [
          {
            "node": "å‡¦ç†çµæœã¾ã¨ã‚",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å‡¦ç†çµæœã¾ã¨ã‚": {
      "main": [
        [
          {
            "node": "ç›£æŸ»ãƒ­ã‚°é€ä¿¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-11-13T00:00:00.000Z",
  "versionId": "v4.0"
}
