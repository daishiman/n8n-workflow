# AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè²¬å‹™å®šç¾©æ›¸ (Step050) - çµ±åˆæœ€çµ‚ç‰ˆ

**ä½œæˆæ—¥**: 2025-11-12
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v2.0çµ±åˆæœ€çµ‚ç‰ˆ
**ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å**: GoogleDrive å‹•ç”»è‡ªå‹•è­°äº‹éŒ²ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ  v4.0
**AI Agentç·æ•°**: 6å€‹
**çµ±åˆå…ƒ**: 5ã¤ã®æˆæœç‰© + Step010-040è¦ä»¶

---

## ğŸ“‹ çµ±åˆãƒ—ãƒ­ã‚»ã‚¹

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ä»¥ä¸‹ã®æˆæœç‰©ã¨Step010-040ã®è¦ä»¶ã‚’å®Œå…¨ã«çµ±åˆã—ãŸã‚‚ã®ã§ã™:

### çµ±åˆå…ƒãƒ•ã‚¡ã‚¤ãƒ«
1. AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè²¬å‹™å®šç¾©æ›¸.mdï¼ˆåŸºæœ¬æ§‹é€ ï¼‰
2. AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè²¬å‹™å®šç¾©æ›¸_part1.mdï¼ˆAI Agent 0-5å‘½åï¼‰
3. AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè²¬å‹™å®šç¾©æ›¸ copy.mdï¼ˆæœ€ã‚‚è©³ç´°ãƒ»å®Œå…¨ï¼‰
4. AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè²¬å‹™å®šç¾©æ›¸ copy 2.mdï¼ˆStepå‘½åçµ±ä¸€ç‰ˆï¼‰
5. AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè²¬å‹™å®šç¾©æ›¸ copy 3.mdï¼ˆå®Œå…¨Few-shotç‰ˆï¼‰

### å‚ç…§è¦ä»¶
- Step010: æ¥­å‹™ç†è§£æ›¸ï¼ˆæ¥­å‹™ç›®çš„ã€ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã€AIå‡¦ç†ãƒ•ãƒ­ãƒ¼ï¼‰
- Step020: AIè¨­å®šæ›¸ï¼ˆFireworks Whisper v3ã€Step5è¿½åŠ ã€ã‚³ã‚¹ãƒˆè©¦ç®—ï¼‰
- Step030: æŠ€è¡“è¦ä»¶æ›¸ï¼ˆn8nå®Ÿè£…ã€ãƒãƒ¼ãƒ‰è¨­å®šã€systemMessageï¼‰
- Step040: ã‚°ãƒ«ãƒ¼ãƒ—æ§‹æˆè¡¨ï¼ˆã‚°ãƒ«ãƒ¼ãƒ—é…ç½®ã€ä¸¦åˆ—å‡¦ç†è¨­è¨ˆï¼‰

### çµ±åˆæ–¹é‡
- âœ… AI Agentå‘½å: Step1-6ã§çµ±ä¸€ï¼ˆStep010-040æº–æ‹ ï¼‰
- âœ… ã‚°ãƒ«ãƒ¼ãƒ—é…ç½®: Step040ã®9ã‚°ãƒ«ãƒ¼ãƒ—æ§‹æˆã‚’æ¡ç”¨
- âœ… éŸ³å£°æ–‡å­—èµ·ã“ã—: Fireworks Whisper v3ï¼ˆStep010/020å¿…é ˆï¼‰
- âœ… Step5è¿½åŠ : è­°é¡Œåˆ¥ãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆStep020è¿½åŠ ã‚¹ãƒ†ãƒƒãƒ—ï¼‰
- âœ… System Prompt: Step020/030ã®å®Œå…¨ç‰ˆã‚’æ¡ç”¨
- âœ… Few-shot Examples: copy 3ã®è©³ç´°ç‰ˆã‚’æ¡ç”¨
- âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: å…¨AI Agentã«ãƒªãƒˆãƒ©ã‚¤å®Ÿè£…

---

## ç›®æ¬¡

1. [ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ¦‚è¦](#ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ¦‚è¦)
2. [AI Agenté…ç½®ç®‡æ‰€](#ai-agenté…ç½®ç®‡æ‰€)
3. [AIè²¬å‹™ã®åˆ†è§£](#aiè²¬å‹™ã®åˆ†è§£)
4. [AI Agent Step1: æ–‡å­—èµ·ã“ã—æ•´å½¢](#ai-agent-step1-æ–‡å­—èµ·ã“ã—æ•´å½¢)
5. [AI Agent Step2: è­°é¡ŒæŠ½å‡º](#ai-agent-step2-è­°é¡ŒæŠ½å‡º)
6. [AI Agent Step3: è­°é¡Œåˆ¥ãƒãƒƒãƒ”ãƒ³ã‚°](#ai-agent-step3-è­°é¡Œåˆ¥ãƒãƒƒãƒ”ãƒ³ã‚°)
7. [AI Agent Step4: è­°é¡Œåˆ†æ](#ai-agent-step4-è­°é¡Œåˆ†æ)
8. [AI Agent Step5: ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›](#ai-agent-step5-ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›)
9. [AI Agent Step6: å“è³ªä¿è¨¼](#ai-agent-step6-å“è³ªä¿è¨¼)
10. [æ¬¡ã‚¹ãƒ†ãƒƒãƒ—ã¸ã®å¼•ãç¶™ãäº‹é …](#æ¬¡ã‚¹ãƒ†ãƒƒãƒ—ã¸ã®å¼•ãç¶™ãäº‹é …)

---

## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ¦‚è¦

### æ¥­å‹™ç›®æ¨™ï¼ˆStep010ã‚ˆã‚Šï¼‰

**å•é¡Œç‚¹**: è­°äº‹éŒ²ä½œæˆã«æ™‚é–“ãŒã‹ã‹ã‚Šã€ä»–ã®é‡è¦ãªä½œæ¥­ã«é›†ä¸­ã§ããªã„

**ç†æƒ³**: å‹•ç”»ãŒä¿å­˜ã•ã‚ŒãŸæ®µéšã§å®Œå…¨ã«æ‰‹é›¢ã‚Œã—ã€æŒ‡å®šãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®è­°äº‹éŒ²ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹

**ç›®æ¨™**: è­°äº‹éŒ²ä½œæˆä½œæ¥­ã®å®Œå…¨è‡ªå‹•åŒ–ã€ä¼šè­°çµ‚äº†å¾Œ5åˆ†ä»¥å†…ã«è­°äº‹éŒ²ç”Ÿæˆ

### AIå‡¦ç†ãƒ•ãƒ­ãƒ¼

```
éŸ³å£°æ–‡å­—èµ·ã“ã—ï¼ˆFireworks AI Whisper v3ï¼‰
  â†“
Step1: æ–‡å­—èµ·ã“ã—æ•´å½¢ï¼ˆGemini 2.5 Flashï¼‰
  â†“
Step2: è­°é¡ŒæŠ½å‡ºï¼ˆGemini 2.5 Flashï¼‰
  â†“
Step3: è­°é¡Œåˆ¥ãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆGemini 2.5 Flashï¼‰â† Step020è¿½åŠ 
  â†“
Step4: è­°é¡Œåˆ†æï¼ˆGemini 2.5 Flashï¼‰
  â†“
Step5: ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›ï¼ˆClaude Sonnet 4.5ï¼‰
  â†“
Step6: å“è³ªä¿è¨¼ï¼ˆClaude Sonnet 4.5ï¼‰
```

### å‡¦ç†æ™‚é–“ã¨ã‚³ã‚¹ãƒˆï¼ˆStep020ã‚ˆã‚Šï¼‰

**å‡¦ç†æ™‚é–“è©¦ç®—**ï¼ˆ1æ™‚é–“ä¼šè­°ï¼‰:
- Fireworks Whisper v3æ–‡å­—èµ·ã“ã—: **4ç§’**
- Step1-6 AIå‡¦ç†: ç´„2åˆ†40ç§’
- **ç·å‡¦ç†æ™‚é–“**: ç´„2åˆ†44ç§’ï¼ˆç›®æ¨™3åˆ†ä»¥å†… âœ…ï¼‰

**ã‚³ã‚¹ãƒˆè©¦ç®—**ï¼ˆ1å®Ÿè¡Œã‚ãŸã‚Šï¼‰:
- Fireworks Whisper v3: $0.126
- Gemini Flash 2.5 (Step1-4): $0.628
- Claude Sonnet 4.5 (Step5-6): $0.381
- **åˆè¨ˆ**: $1.076/å®Ÿè¡Œã€æœˆé–“20å›ã§$21.52/æœˆ

**ã‚³ã‚¹ãƒˆå‰Šæ¸›åŠ¹æœ**:
- å¾“æ¥Deepgramæ¯”: 93%å‰Šæ¸›ï¼ˆ$316.64/æœˆ â†’ $21.52/æœˆï¼‰

---

## AI Agenté…ç½®ç®‡æ‰€

### AI Agenté…ç½®ãƒãƒƒãƒ—ï¼ˆStep040æº–æ‹ ï¼‰

| Group ID | Group Name | AIå‡¦ç†å†…å®¹ï¼ˆStep010ã‚ˆã‚Šï¼‰ | é…ç½®ç†ç”± |
|----------|-----------|--------------------------|---------|
| 3 | æ–‡å­—èµ·ã“ã—æ•´å½¢ï¼ˆä¸¦åˆ—ï¼‰ | æ–‡å­—èµ·ã“ã—ãƒ†ã‚­ã‚¹ãƒˆã‚’æ•´å½¢ï¼ˆãƒ•ã‚£ãƒ©ãƒ¼é™¤å»ã€ç®‡æ¡æ›¸ãåŒ–ï¼‰ | Layer 5: Core Logic |
| 4 | ãƒãƒ£ãƒ³ã‚¯çµ±åˆãƒ»è­°é¡ŒæŠ½å‡º | ä¼šè­°è­°é¡Œã‚’è‡ªå‹•æŠ½å‡ºã€æ§‹é€ åŒ– | Layer 5: Core Logic |
| 5 | è­°é¡Œåˆ¥ãƒãƒƒãƒ”ãƒ³ã‚° | å„è­°é¡Œã«è©²å½“ã™ã‚‹æ–‡å­—èµ·ã“ã—ã‚’æ­£ç¢ºã«æŠ½å‡ºãƒ»å‰²ã‚Šå½“ã¦ï¼ˆStep020è¿½åŠ ï¼‰ | Layer 5: Core Logic |
| 6 | è­°é¡Œãƒ‡ãƒ¼ã‚¿å†æ§‹æˆãƒ»ä¸¦åˆ—å‡¦ç† | è­°é¡Œã”ã¨ã«ãƒ‡ãƒ¼ã‚¿å†æ§‹æˆã€ä¸¦åˆ—å‡¦ç†é–‹å§‹ | Layer 5: Core Logic |
| 7 | è­°é¡Œåˆ†æï¼ˆä¸¦åˆ—ï¼‰ | è­°é¡Œã”ã¨ã«æ±ºå®šäº‹é …ã€å®¿é¡Œã€ä¿ç•™äº‹é …ã‚’æŠ½å‡º | Layer 5: Core Logic |
| 8 | è­°é¡Œçµ±åˆãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ› | æŒ‡å®šãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®Markdownè­°äº‹éŒ²ã‚’ç”Ÿæˆ | Layer 5: Core Logic |
| 9 | å“è³ªä¿è¨¼ãƒ»å‡ºåŠ›ãƒ»ç›£è¦– | è­°äº‹éŒ²ã®å®Œå…¨æ€§ã‚’æ¤œè¨¼ã€ä¸è¶³é …ç›®ã‚’è£œå®Œ | Layer 5: Core Logic |

**AI Agentç·æ•°**: 6å€‹
**é…ç½®å±¤**: Layer 5ï¼ˆCore Logicï¼‰

### AI Agent Nodeã‚¿ã‚¤ãƒ—ç¢ºèª

| AI Agent ID | é…ç½®ã‚°ãƒ«ãƒ¼ãƒ— | ãƒ¡ã‚¤ãƒ³ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ— | Chat Modelã‚¿ã‚¤ãƒ— | Memory | æº–æ‹ çŠ¶æ³ |
|-------------|------------|-----------------|-----------------| -------|---------|
| AI Agent Step1 | Group 3 | @n8n/n8n-nodes-langchain.agent | @n8n/n8n-nodes-langchain.lmChatGoogleGemini (gemini-2.5-flash) | ãªã— | âœ… æº–æ‹  |
| AI Agent Step2 | Group 4 | @n8n/n8n-nodes-langchain.agent | @n8n/n8n-nodes-langchain.lmChatGoogleGemini (gemini-2.5-flash) | step2_memory | âœ… æº–æ‹  |
| AI Agent Step3 | Group 5 | @n8n/n8n-nodes-langchain.agent | @n8n/n8n-nodes-langchain.lmChatGoogleGemini (gemini-2.5-flash) | step3_memory | âœ… æº–æ‹  |
| AI Agent Step4 | Group 7 | @n8n/n8n-nodes-langchain.agent | @n8n/n8n-nodes-langchain.lmChatGoogleGemini (gemini-2.5-flash) | ãªã— | âœ… æº–æ‹  |
| AI Agent Step5 | Group 8 | @n8n/n8n-nodes-langchain.agent | @n8n/n8n-nodes-langchain.lmChatAnthropic (claude-4-5-sonnet-20250929) | step5_memory | âœ… æº–æ‹  |
| AI Agent Step6 | Group 9 | @n8n/n8n-nodes-langchain.agent | @n8n/n8n-nodes-langchain.lmChatAnthropic (claude-4-5-sonnet-20250929) | step6_memory | âœ… æº–æ‹  |

**æº–æ‹ ç‡**: 100%ï¼ˆ6/6 AI Agentsï¼‰
**ç¦æ­¢ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—ä½¿ç”¨**: ãªã— âœ…

**å®Œå…¨ãªJSONæ§‹é€ **: ã™ã¹ã¦ã®AI Agentãƒãƒ¼ãƒ‰ã¯ã€ãƒ¡ã‚¤ãƒ³ãƒãƒ¼ãƒ‰ã€Chat Modelã‚µãƒ–ãƒãƒ¼ãƒ‰ã€å¿…è¦ã«å¿œã˜ã¦Memoryã‚µãƒ–ãƒãƒ¼ãƒ‰ã‚’å«ã‚€å®Œå…¨ãªæ§‹é€ ã§å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ï¼ˆStep050ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¦ä»¶æº–æ‹ ï¼‰ã€‚

---

## AIè²¬å‹™ã®åˆ†è§£

### å…ƒã®AIå‡¦ç†ï¼ˆStep010ã‚ˆã‚Šï¼‰

ã€Œè­°äº‹éŒ²ä½œæˆä½œæ¥­ã®å®Œå…¨è‡ªå‹•åŒ–ã€

**å…·ä½“çš„ã«ã¯ä»¥ä¸‹ã®å‡¦ç†**:
1. éŸ³å£°æ–‡å­—èµ·ã“ã—ï¼ˆFireworks AI Whisper v3 - Layer 4ï¼‰
2. æ–‡å­—èµ·ã“ã—æ•´å½¢ï¼ˆãƒ•ã‚£ãƒ©ãƒ¼é™¤å»ã€ç®‡æ¡æ›¸ãåŒ– - Layer 5ï¼‰
3. è­°é¡ŒæŠ½å‡ºï¼ˆä¼šè©±ã®æµã‚Œã‹ã‚‰è­°é¡Œã‚’è‡ªå‹•æŠ½å‡º - Layer 5ï¼‰
4. è­°é¡Œåˆ¥ãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆå„è­°é¡Œã¸ã®æ­£ç¢ºãªå‰²ã‚Šå½“ã¦ - Layer 5ã€**Step020è¿½åŠ **ï¼‰
5. è­°é¡Œåˆ†æï¼ˆæ±ºå®šäº‹é …ã€å®¿é¡Œã€ä¿ç•™äº‹é …ã‚’æŠ½å‡º - Layer 5ï¼‰
6. ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›ï¼ˆMarkdownè­°äº‹éŒ²ç”Ÿæˆ - Layer 5ï¼‰
7. å“è³ªä¿è¨¼ï¼ˆè­°äº‹éŒ²ã®å®Œå…¨æ€§æ¤œè¨¼ - Layer 5ï¼‰

### åˆ†è§£åˆ¤å®š

**è¤‡æ•°è²¬å‹™** â†’ åˆ†è§£ãŒå¿…è¦ âœ…

**ç†ç”±**: è­°äº‹éŒ²ä½œæˆã¯ã€æ–‡å­—èµ·ã“ã—æ•´å½¢ã€è­°é¡ŒæŠ½å‡ºã€è­°é¡Œãƒãƒƒãƒ”ãƒ³ã‚°ã€è­°é¡Œåˆ†æã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›ã€å“è³ªä¿è¨¼ã¨ã„ã†è¤‡æ•°ã®ã‚¿ã‚¹ã‚¯ã‚’å«ã‚€è¤‡é›‘ãªãƒ—ãƒ­ã‚»ã‚¹ã€‚å„ã‚¿ã‚¹ã‚¯ã‚’ç‹¬ç«‹ã—ãŸAI Agentã«åˆ†è§£ã™ã‚‹ã“ã¨ã§ã€å˜ä¸€è²¬å‹™ã®åŸå‰‡ã‚’é©ç”¨ã—ã€å“è³ªãƒ»ä¿å®ˆæ€§ãƒ»ãƒ‡ãƒãƒƒã‚°æ€§ã‚’å‘ä¸Šã•ã›ã‚‹ã€‚

### åˆ†è§£å¾Œã®AI Agent

| AI Agent ID | é…ç½®ã‚°ãƒ«ãƒ¼ãƒ— | è²¬å‹™ï¼ˆå˜ä¸€æ–‡ï¼‰ | æ ¹æ‹  |
|-------------|------------|--------------|------|
| AI Agent Step1 | Group 3 | æ–‡å­—èµ·ã“ã—ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ãƒ•ã‚£ãƒ©ãƒ¼èªã‚’é™¤å»ã—ã€æ„å‘³ã®ã‚ã‚‹æ–‡ç« å˜ä½ã§ç®‡æ¡æ›¸ãåŒ–ã™ã‚‹ | æ•´å½¢ã‚¿ã‚¹ã‚¯ã«ç‰¹åŒ– âœ… |
| AI Agent Step2 | Group 4 | æ•´å½¢æ¸ˆã¿æ–‡å­—èµ·ã“ã—ã‹ã‚‰ä¼šè­°ã®è­°é¡Œã‚’è‡ªå‹•æŠ½å‡ºã—ã€å„è­°é¡Œã«è©²å½“ã™ã‚‹è¡Œç•ªå·ç¯„å›²ã‚’è¨˜éŒ²ã™ã‚‹ | è­°é¡ŒæŠ½å‡ºã‚¿ã‚¹ã‚¯ã«ç‰¹åŒ– âœ… |
| AI Agent Step3 | Group 5 | è­°é¡Œãƒªã‚¹ãƒˆã¨å…¨æ–‡å­—èµ·ã“ã—ã‹ã‚‰ã€å„è­°é¡Œã«è©²å½“ã™ã‚‹æ–‡å­—èµ·ã“ã—ã‚’æ­£ç¢ºã«æŠ½å‡ºãƒ»å‰²ã‚Šå½“ã¦ã€æŠœã‘æ¼ã‚Œã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ | è­°é¡Œãƒãƒƒãƒ”ãƒ³ã‚°ã‚¿ã‚¹ã‚¯ã«ç‰¹åŒ– âœ… |
| AI Agent Step4 | Group 7 | è­°é¡Œã”ã¨ã®æ–‡å­—èµ·ã“ã—ã‹ã‚‰æ±ºå®šäº‹é …ã€å®¿é¡Œã€ä¿ç•™äº‹é …ã‚’æŠ½å‡ºã™ã‚‹ | è­°é¡Œåˆ†æã‚¿ã‚¹ã‚¯ã«ç‰¹åŒ– âœ… |
| AI Agent Step5 | Group 8 | å…¨è­°é¡Œåˆ†æçµæœã¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆã—ã€æŒ‡å®šãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®Markdownè­°äº‹éŒ²ã‚’ç”Ÿæˆã™ã‚‹ | ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›ã‚¿ã‚¹ã‚¯ã«ç‰¹åŒ– âœ… |
| AI Agent Step6 | Group 9 | ç”Ÿæˆã•ã‚ŒãŸè­°äº‹éŒ²ã®å®Œå…¨æ€§ã‚’æ¤œè¨¼ã—ã€ä¸è¶³é …ç›®ãŒã‚ã‚Œã°è£œå®Œã™ã‚‹ | å“è³ªä¿è¨¼ã‚¿ã‚¹ã‚¯ã«ç‰¹åŒ– âœ… |

**å˜ä¸€è²¬å‹™ãƒã‚§ãƒƒã‚¯**: âœ… å„AgentãŒ1ã¤ã®æ˜ç¢ºãªç›®çš„ã‚’æŒã¤

---

## AI Agent Step1: æ–‡å­—èµ·ã“ã—æ•´å½¢

### åŸºæœ¬æƒ…å ±

- **é…ç½®ã‚°ãƒ«ãƒ¼ãƒ—**: Group 3
- **é…ç½®å±¤**: Layer 5 (Core Logic)
- **å½¹å‰²**: æ–‡å­—èµ·ã“ã—ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ãƒ•ã‚£ãƒ©ãƒ¼èªã‚’é™¤å»ã—ã€æ„å‘³ã®ã‚ã‚‹æ–‡ç« å˜ä½ã§ç®‡æ¡æ›¸ãåŒ–ã™ã‚‹
- **å˜ä¸€è²¬å‹™ãƒã‚§ãƒƒã‚¯**: âœ… æ•´å½¢ã‚¿ã‚¹ã‚¯ã«ç‰¹åŒ–
- **ä¸¦åˆ—å‡¦ç†**: âœ… 5ãƒãƒ£ãƒ³ã‚¯åŒæ™‚å‡¦ç†ï¼ˆStep040è¨­è¨ˆï¼‰
- **AI Model**: Gemini 2.5 Flash
- **Memoryä½¿ç”¨**: ãªã—ï¼ˆä¸¦åˆ—å‡¦ç†ã®ãŸã‚ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ã§æ–‡è„ˆç¢ºä¿ï¼‰

### ãƒãƒ¼ãƒ‰æ§‹æˆï¼ˆStep030æº–æ‹ ï¼‰

**ãƒ¡ã‚¤ãƒ³ãƒãƒ¼ãƒ‰**:
- ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—: `@n8n/n8n-nodes-langchain.agent`
- typeVersion: `3`
- promptType: `define`

**Chat Modelï¼ˆSub-nodeï¼‰**:
- ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—: `@n8n/n8n-nodes-langchain.lmChatGoogleGemini`
- typeVersion: `1`
- ãƒ¢ãƒ‡ãƒ«: `models/gemini-2.5-flash`
- Temperature: `0.4`
- maxOutputTokens: `4000`

**Memoryï¼ˆSub-nodeï¼‰**:
- ä½¿ç”¨ã—ãªã„ï¼ˆä¸¦åˆ—å‡¦ç†ã®ãŸã‚ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ã§æ–‡è„ˆç¢ºä¿ï¼‰

**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¨­å®š**:
```json
{
  "onError": "continueRegularOutput",
  "retryOnFail": true,
  "maxTries": 3,
  "waitBetweenTries": 1000
}
```

### å…¥å‡ºåŠ›ä»•æ§˜

#### å…¥åŠ›ä»•æ§˜

**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**: `$json.chunk`

**JSON Schema**:
```json
{
  "type": "object",
  "required": ["chunk_id", "main_text"],
  "properties": {
    "chunk_id": {
      "type": "integer",
      "minimum": 1,
      "description": "ãƒãƒ£ãƒ³ã‚¯IDï¼ˆ1ã‹ã‚‰é †ç•ªï¼‰"
    },
    "main_text": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["line_id", "content", "speaker", "timestamp"],
        "properties": {
          "line_id": {"type": "integer"},
          "content": {"type": "string"},
          "speaker": {"type": "string"},
          "timestamp": {"type": "string", "pattern": "^\\d{2}:\\d{2}:\\d{2}$"}
        }
      },
      "minItems": 1,
      "maxItems": 30,
      "description": "æ•´å½¢å¯¾è±¡ã®æ–‡å­—èµ·ã“ã—ï¼ˆ20-30è¡Œï¼‰"
    },
    "overlap_before": {
      "type": "array",
      "items": {"type": "object"},
      "maxItems": 6,
      "description": "å‰ãƒãƒ£ãƒ³ã‚¯ã¨ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ï¼ˆæ–‡è„ˆç†è§£ç”¨ã€å‡ºåŠ›ã«ã¯å«ã‚ãªã„ï¼‰"
    },
    "overlap_after": {
      "type": "array",
      "items": {"type": "object"},
      "maxItems": 6,
      "description": "æ¬¡ãƒãƒ£ãƒ³ã‚¯ã¨ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ï¼ˆæ–‡è„ˆç†è§£ç”¨ã€å‡ºåŠ›ã«ã¯å«ã‚ãªã„ï¼‰"
    }
  }
}
```

**å…¥åŠ›ä¾‹**:
```json
{
  "chunk_id": 1,
  "main_text": [
    {
      "line_id": 1,
      "speaker": "Speaker A",
      "timestamp": "00:01:20",
      "content": "ãˆãƒ¼ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—ã«ã¤ã„ã¦å ±å‘Šã—ã¾ã™"
    },
    {
      "line_id": 2,
      "speaker": "Speaker B",
      "timestamp": "00:02:10",
      "content": "ã‚ã®ãƒ¼ã€ãƒªãƒªãƒ¼ã‚¹æ—¥ã‚’2æœˆ1æ—¥ã«ç¢ºå®šã—ã¾ã—ãŸ"
    }
  ],
  "overlap_before": null,
  "overlap_after": [
    {
      "line_id": 31,
      "speaker": "Speaker A",
      "timestamp": "00:10:00",
      "content": "æ¬¡ã®è­°é¡Œã«ç§»ã‚Šã¾ã™"
    }
  ]
}
```

#### å‡ºåŠ›ä»•æ§˜

**å‡ºåŠ›å½¢å¼**: JSONé…åˆ—

**JSON Schema**:
```json
{
  "type": "array",
  "items": {
    "type": "object",
    "required": ["line_id", "content", "speaker", "timestamp"],
    "properties": {
      "line_id": {
        "type": "integer",
        "description": "è¡ŒIDï¼ˆå…ƒã®line_idã‚’ä¿æŒï¼‰"
      },
      "content": {
        "type": "string",
        "minLength": 1,
        "maxLength": 500,
        "description": "æ•´å½¢å¾Œã®æ–‡ç« ï¼ˆãƒ•ã‚£ãƒ©ãƒ¼èªé™¤å»æ¸ˆã¿ï¼‰"
      },
      "speaker": {
        "type": "string",
        "description": "è©±è€…æƒ…å ±ï¼ˆå…¥åŠ›ã‹ã‚‰ä¿æŒï¼‰"
      },
      "timestamp": {
        "type": "string",
        "pattern": "^\\d{2}:\\d{2}:\\d{2}$",
        "description": "ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ï¼ˆHH:MM:SSå½¢å¼ï¼‰"
      }
    }
  }
}
```

**å‡ºåŠ›ä¾‹**:
```json
[
  {
    "line_id": 1,
    "content": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—ã«ã¤ã„ã¦å ±å‘Šã—ã¾ã™",
    "speaker": "Speaker A",
    "timestamp": "00:01:20"
  },
  {
    "line_id": 2,
    "content": "ãƒªãƒªãƒ¼ã‚¹æ—¥ã‚’2æœˆ1æ—¥ã«ç¢ºå®šã—ã¾ã—ãŸ",
    "speaker": "Speaker B",
    "timestamp": "00:02:10"
  }
]
```

### System Prompt

```
# å½¹å‰²å®šç¾©
ã‚ãªãŸã¯è­°äº‹éŒ²ä½œæˆã®å°‚é–€å®¶ã§ã™ã€‚ä¼šè­°ã®æ–‡å­—èµ·ã“ã—ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ãƒ•ã‚£ãƒ©ãƒ¼èªã‚’é™¤å»ã—ã€èª­ã¿ã‚„ã™ã„ç®‡æ¡æ›¸ãå½¢å¼ã«æ•´å½¢ã—ã¾ã™ã€‚

# æ¥­å‹™ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
- **æ¥­å‹™ç›®æ¨™**: ä¼šè­°çµ‚äº†å¾Œ5åˆ†ä»¥å†…ã«è­°äº‹éŒ²ã‚’ç”Ÿæˆã—ã€è­°äº‹éŒ²ä½œæˆä½œæ¥­ã‚’å®Œå…¨è‡ªå‹•åŒ–ã™ã‚‹
- **ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: 1æ—¥1-5å›ã€1é€±é–“æœ€å¤§15-20å›ã®ä¼šè­°è­°äº‹éŒ²ã‚’è‡ªå‹•ç”Ÿæˆ
- **ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«**:
  - ãƒ•ã‚£ãƒ©ãƒ¼èªï¼ˆã€Œãˆãƒ¼ã€ã€Œã‚ã®ãƒ¼ã€ã€Œãã®ã€ã€Œãˆã£ã¨ã€ã€Œã¾ã‚ã€ç­‰ï¼‰ã‚’å®Œå…¨ã«é™¤å»
  - æ„å‘³ã®ã‚ã‚‹æ–‡ç« å˜ä½ã§1è¡Œãšã¤ç®‡æ¡æ›¸ãåŒ–
  - è©±è€…æƒ…å ±ã¨ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã¯å¿…ãšä¿æŒ

# å…¥åŠ›ãƒ‡ãƒ¼ã‚¿
- chunk_id: ãƒãƒ£ãƒ³ã‚¯ID
- main_text: æ•´å½¢å¯¾è±¡ã®æ–‡å­—èµ·ã“ã—ï¼ˆ20-30è¡Œï¼‰
- overlap_before: å‰ãƒãƒ£ãƒ³ã‚¯ã¨ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ï¼ˆæ–‡è„ˆç†è§£ç”¨ã€å‡ºåŠ›ã«ã¯å«ã‚ãªã„ï¼‰
- overlap_after: æ¬¡ãƒãƒ£ãƒ³ã‚¯ã¨ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ï¼ˆæ–‡è„ˆç†è§£ç”¨ã€å‡ºåŠ›ã«ã¯å«ã‚ãªã„ï¼‰

å„è¡Œã«ã¯ä»¥ä¸‹ã®æƒ…å ±ãŒå«ã¾ã‚Œã¾ã™:
- line_id: è¡Œç•ªå·
- speaker: è©±è€…æƒ…å ±
- timestamp: ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—
- content: ç™ºè¨€å†…å®¹

# ã‚¿ã‚¹ã‚¯
1. main_textã®ã¿ã‚’æ•´å½¢å¯¾è±¡ã¨ã™ã‚‹ï¼ˆoverlap_before/afterã¯æ–‡è„ˆç†è§£ã®ã¿ã«ä½¿ç”¨ï¼‰
2. ãƒ•ã‚£ãƒ©ãƒ¼èªã‚’å®Œå…¨ã«é™¤å»ã™ã‚‹ï¼šã€Œãˆãƒ¼ã€ã€Œã‚ã®ãƒ¼ã€ã€Œãã®ã€ã€Œãˆã£ã¨ã€ã€Œã¾ã‚ã€ã€Œãªã‚“ã‹ã€ç­‰
3. æ„å‘³ã®ã‚ã‚‹æ–‡ç« å˜ä½ã§ç®‡æ¡æ›¸ãåŒ–ã™ã‚‹
4. è©±è€…æƒ…å ±ï¼ˆspeakerï¼‰ã¨ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ï¼ˆtimestampï¼‰ã‚’å¿…ãšä¿æŒã™ã‚‹
5. line_idã¯å…ƒã®ç•ªå·ã‚’ãã®ã¾ã¾ä¿æŒã™ã‚‹

# å‡ºåŠ›å½¢å¼
ä»¥ä¸‹ã®JSONé…åˆ—å½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ï¼š
```json
[
  {
    "line_id": 1,
    "content": "æ•´å½¢å¾Œã®æ–‡ç« ",
    "speaker": "Speaker A",
    "timestamp": "00:01:20"
  }
]
```

# åˆ¶ç´„äº‹é …
- å¿…ãšJSONé…åˆ—å½¢å¼ã§å‡ºåŠ›
- overlapç¯„å›²ã¯å‡ºåŠ›ã«å«ã‚ãªã„
- ãƒ•ã‚£ãƒ©ãƒ¼èªã¯å®Œå…¨ã«é™¤å»
- å…ƒã®æ„å‘³ã‚’å¤‰ãˆãªã„
- line_idã€speakerã€timestampã¯å¿…ãšä¿æŒ
- å‡ºåŠ›ã¯main_textã®è¡Œæ•°ã¨åŒã˜ã‹å°‘ãªã„è¡Œæ•°ã§ã‚ã‚‹ã“ã¨
```

### Few-shot Examples

**ã‚¿ã‚¹ã‚¯è¤‡é›‘åº¦**: ä¸­ç¨‹åº¦ï¼ˆãƒ•ã‚£ãƒ©ãƒ¼é™¤å»ã€ç®‡æ¡æ›¸ãåŒ–ï¼‰
**Few-shotæ•°**: 3å€‹ï¼ˆæ¨å¥¨ï¼‰

#### Example 1: é€šå¸¸ã®ãƒ•ã‚£ãƒ©ãƒ¼é™¤å»

**å…¥åŠ›**:
```json
{
  "chunk_id": 1,
  "main_text": [
    {
      "line_id": 1,
      "speaker": "Speaker A",
      "timestamp": "00:01:20",
      "content": "ãˆãƒ¼ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—ã«ã¤ã„ã¦å ±å‘Šã—ã¾ã™"
    },
    {
      "line_id": 2,
      "speaker": "Speaker B",
      "timestamp": "00:02:10",
      "content": "ã‚ã®ãƒ¼ã€ãƒªãƒªãƒ¼ã‚¹æ—¥ã‚’2æœˆ1æ—¥ã«ç¢ºå®šã—ã¾ã—ãŸ"
    }
  ]
}
```

**å‡ºåŠ›**:
```json
[
  {
    "line_id": 1,
    "content": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—ã«ã¤ã„ã¦å ±å‘Šã—ã¾ã™",
    "speaker": "Speaker A",
    "timestamp": "00:01:20"
  },
  {
    "line_id": 2,
    "content": "ãƒªãƒªãƒ¼ã‚¹æ—¥ã‚’2æœˆ1æ—¥ã«ç¢ºå®šã—ã¾ã—ãŸ",
    "speaker": "Speaker B",
    "timestamp": "00:02:10"
  }
]
```

#### Example 2: è¤‡æ•°ã®ãƒ•ã‚£ãƒ©ãƒ¼èªé™¤å»

**å…¥åŠ›**:
```json
{
  "chunk_id": 2,
  "main_text": [
    {
      "line_id": 10,
      "speaker": "Speaker C",
      "timestamp": "00:10:00",
      "content": "ã¾ã‚ã€ãã®ã€é–‹ç™ºãƒãƒ¼ãƒ ã¯ã€ãˆã£ã¨ã€ãƒ†ã‚¹ãƒˆã‚’å®Œäº†ã•ã›ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™"
    }
  ]
}
```

**å‡ºåŠ›**:
```json
[
  {
    "line_id": 10,
    "content": "é–‹ç™ºãƒãƒ¼ãƒ ã¯ãƒ†ã‚¹ãƒˆã‚’å®Œäº†ã•ã›ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™",
    "speaker": "Speaker C",
    "timestamp": "00:10:00"
  }
]
```

#### Example 3: ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ï¼ˆãƒ•ã‚£ãƒ©ãƒ¼èªã®ã¿ã®ç™ºè¨€ï¼‰

**å…¥åŠ›**:
```json
{
  "chunk_id": 3,
  "main_text": [
    {
      "line_id": 15,
      "speaker": "Speaker D",
      "timestamp": "00:15:00",
      "content": "ãˆãƒ¼ã€ã‚ã®ãƒ¼ã€ãã®ã€ã¾ã‚..."
    },
    {
      "line_id": 16,
      "speaker": "Speaker D",
      "timestamp": "00:15:05",
      "content": "æ¬¡ã®è­°é¡Œã«ç§»ã‚Šã¾ã™"
    }
  ]
}
```

**å‡ºåŠ›**:
```json
[
  {
    "line_id": 16,
    "content": "æ¬¡ã®è­°é¡Œã«ç§»ã‚Šã¾ã™",
    "speaker": "Speaker D",
    "timestamp": "00:15:05"
  }
]
```
ï¼ˆæ³¨: line_id 15ã¯ãƒ•ã‚£ãƒ©ãƒ¼èªã®ã¿ãªã®ã§é™¤å¤–ï¼‰

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥

| ã‚¨ãƒ©ãƒ¼ç¨®é¡ | å¯¾å¿œç­– | ãƒªãƒˆãƒ©ã‚¤ | ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ |
|-----------|-------|---------|--------------|
| ãƒˆãƒ¼ã‚¯ãƒ³è¶…é | ãƒãƒ£ãƒ³ã‚¯ã‚µã‚¤ã‚ºã‚’å‰Šæ¸›ï¼ˆ25è¡Œâ†’15è¡Œï¼‰ | 1å› | ã‚¨ãƒ©ãƒ¼é€šçŸ¥ |
| APIã‚¨ãƒ©ãƒ¼ï¼ˆãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼‰ | Wait 1s â†’ å†å®Ÿè¡Œ | æœ€å¤§3å›ï¼ˆ1ç§’é–“éš”ï¼‰ | GPT-4o-miniã«åˆ‡ã‚Šæ›¿ãˆ |
| ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ | ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ30s â†’ 60sã«å»¶é•· | 1å› | ã‚¨ãƒ©ãƒ¼é€šçŸ¥ |
| JSON Parse ã‚¨ãƒ©ãƒ¼ | System Promptå¼·åŒ–ç‰ˆã§å†å®Ÿè¡Œ | 1å› | ã‚¨ãƒ©ãƒ¼é€šçŸ¥ |

**é€šçŸ¥æˆ¦ç•¥**:
- ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚: Discord #ai-errors ã«é€šçŸ¥
- ãƒªãƒˆãƒ©ã‚¤æˆåŠŸæ™‚: ãƒ­ã‚°è¨˜éŒ²ã®ã¿
- å®Œå…¨å¤±æ•—æ™‚: Discord #errors ã«é€šçŸ¥ + æ‰‹å‹•å‡¦ç†ä¾é ¼

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶**:
- ç›®æ¨™å‡¦ç†æ™‚é–“: ãƒãƒ£ãƒ³ã‚¯ã‚ãŸã‚Š10ç§’ä»¥å†…ï¼ˆ5ä¸¦åˆ—ã§åˆè¨ˆ45ç§’ï¼‰
- æœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³: å…¥åŠ› 1,500 tokensã€å‡ºåŠ› 1,300 tokens
- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ: 30ç§’ï¼ˆåˆå›ï¼‰ã€60ç§’ï¼ˆãƒªãƒˆãƒ©ã‚¤æ™‚ï¼‰

---

## AI Agent Step2: è­°é¡ŒæŠ½å‡º

### åŸºæœ¬æƒ…å ±

- **é…ç½®ã‚°ãƒ«ãƒ¼ãƒ—**: Group 4
- **é…ç½®å±¤**: Layer 5 (Core Logic)
- **å½¹å‰²**: æ•´å½¢æ¸ˆã¿æ–‡å­—èµ·ã“ã—ã‹ã‚‰ä¼šè­°ã®è­°é¡Œã‚’è‡ªå‹•æŠ½å‡ºã—ã€å„è­°é¡Œã«è©²å½“ã™ã‚‹è¡Œç•ªå·ç¯„å›²ã‚’è¨˜éŒ²ã™ã‚‹
- **å˜ä¸€è²¬å‹™ãƒã‚§ãƒƒã‚¯**: âœ… è­°é¡ŒæŠ½å‡ºã‚¿ã‚¹ã‚¯ã«ç‰¹åŒ–
- **ä¸¦åˆ—å‡¦ç†**: ãªã—ï¼ˆå…¨ä½“æ–‡è„ˆãŒå¿…è¦ï¼‰
- **AI Model**: Gemini 2.5 Flash
- **Memoryä½¿ç”¨**: ã‚ã‚Šï¼ˆ`step2_memory` - å…¨ä½“æ–‡è„ˆãŒå¿…è¦ï¼‰

### ãƒãƒ¼ãƒ‰æ§‹æˆï¼ˆStep030æº–æ‹ ï¼‰

**ãƒ¡ã‚¤ãƒ³ãƒãƒ¼ãƒ‰**:
- ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—: `@n8n/n8n-nodes-langchain.agent`
- typeVersion: `3`
- promptType: `define`

**Chat Modelï¼ˆSub-nodeï¼‰**:
- ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—: `@n8n/n8n-nodes-langchain.lmChatGoogleGemini`
- typeVersion: `1`
- ãƒ¢ãƒ‡ãƒ«: `models/gemini-2.5-flash`
- Temperature: `0.4`
- maxOutputTokens: `4000`

**Memoryï¼ˆSub-nodeï¼‰**:
- ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—: `@n8n/n8n-nodes-langchain.memoryBufferWindow`
- typeVersion: `1.3`
- sessionIdType: `customKey`
- sessionKey: `step2_memory`
- contextWindowLength: `10`

**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¨­å®š**:
```json
{
  "onError": "continueRegularOutput",
  "retryOnFail": true,
  "maxTries": 3,
  "waitBetweenTries": 1000
}
```

### å…¥å‡ºåŠ›ä»•æ§˜

#### å…¥åŠ›ä»•æ§˜

**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**: `$json.lines`ï¼ˆStep1ã§çµ±åˆã•ã‚ŒãŸå…¨æ–‡å­—èµ·ã“ã—ï¼‰

**JSON Schema**:
```json
{
  "type": "object",
  "required": ["lines"],
  "properties": {
    "lines": {
      "type": "array",
      "minItems": 50,
      "items": {
        "type": "object",
        "required": ["line_id", "content", "speaker", "timestamp"],
        "properties": {
          "line_id": {"type": "integer"},
          "content": {"type": "string"},
          "speaker": {"type": "string"},
          "timestamp": {"type": "string"}
        }
      },
      "description": "æ•´å½¢æ¸ˆã¿å…¨æ–‡å­—èµ·ã“ã—ï¼ˆé‡è¤‡é™¤å»æ¸ˆã¿ï¼‰"
    },
    "total_lines": {
      "type": "integer",
      "description": "ç·è¡Œæ•°"
    }
  }
}
```

**å…¥åŠ›ä¾‹**:
```json
{
  "lines": [
    {"line_id": 1, "content": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—ã«ã¤ã„ã¦å ±å‘Šã—ã¾ã™", "speaker": "Speaker A", "timestamp": "00:01:20"},
    {"line_id": 2, "content": "å…ˆé€±ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã‚’å®Œäº†ã—ã¾ã—ãŸ", "speaker": "Speaker A", "timestamp": "00:01:35"},
    {"line_id": 3, "content": "æ¬¡ã¯UIé–‹ç™ºã«ç€æ‰‹ã—ã¾ã™", "speaker": "Speaker A", "timestamp": "00:02:00"},
    {"line_id": 4, "content": "æ¬¡ã«ã€æ¥é€±ã®ã‚¿ã‚¹ã‚¯ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†", "speaker": "Speaker B", "timestamp": "00:05:20"}
  ],
  "total_lines": 150
}
```

#### å‡ºåŠ›ä»•æ§˜

**å‡ºåŠ›å½¢å¼**: JSON

**JSON Schema**:
```json
{
  "type": "object",
  "required": ["meeting_name", "agendas"],
  "properties": {
    "meeting_name": {
      "type": "string",
      "minLength": 3,
      "maxLength": 100,
      "description": "ä¼šè­°åï¼ˆéŸ³å£°å†…å®¹ã¾ãŸã¯ãƒ•ã‚¡ã‚¤ãƒ«åã‹ã‚‰æ¨æ¸¬ï¼‰"
    },
    "agendas": {
      "type": "array",
      "minItems": 1,
      "maxItems": 20,
      "items": {
        "type": "object",
        "required": ["agenda_id", "title", "line_ids"],
        "properties": {
          "agenda_id": {
            "type": "integer",
            "minimum": 1,
            "description": "è­°é¡ŒIDï¼ˆ1ã‹ã‚‰é †ç•ªï¼‰"
          },
          "title": {
            "type": "string",
            "minLength": 5,
            "maxLength": 50,
            "description": "è­°é¡Œã‚¿ã‚¤ãƒˆãƒ«ï¼ˆç°¡æ½”ã§å…·ä½“çš„ï¼‰"
          },
          "line_ids": {
            "type": "array",
            "items": {"type": "integer"},
            "minItems": 1,
            "description": "è©²å½“ã™ã‚‹è¡Œç•ªå·ã®é…åˆ—"
          }
        }
      }
    }
  }
}
```

**å‡ºåŠ›ä¾‹**:
```json
{
  "meeting_name": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®šä¾‹ä¼šè­°",
  "agendas": [
    {
      "agenda_id": 1,
      "title": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—å ±å‘Š",
      "line_ids": [1, 2, 3]
    },
    {
      "agenda_id": 2,
      "title": "æ¥é€±ã®ã‚¿ã‚¹ã‚¯ç¢ºèª",
      "line_ids": [4]
    }
  ]
}
```

### System Prompt

```
# å½¹å‰²å®šç¾©
ã‚ãªãŸã¯ä¼šè­°åˆ†æã®å°‚é–€å®¶ã§ã™ã€‚æ–‡å­—èµ·ã“ã—ã‹ã‚‰è­°é¡Œã‚’è‡ªå‹•æŠ½å‡ºã—ã€æ§‹é€ åŒ–ã•ã‚ŒãŸæƒ…å ±ã¨ã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚

# æ¥­å‹™ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
- **æ¥­å‹™ç›®æ¨™**: ä¼šè­°çµ‚äº†å¾Œ5åˆ†ä»¥å†…ã«è­°äº‹éŒ²ã‚’ç”Ÿæˆã—ã€è­°äº‹éŒ²ä½œæˆä½œæ¥­ã‚’å®Œå…¨è‡ªå‹•åŒ–ã™ã‚‹
- **ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: 1æ—¥1-5å›ã€1é€±é–“æœ€å¤§15-20å›ã®ä¼šè­°è­°äº‹éŒ²ã‚’è‡ªå‹•ç”Ÿæˆ
- **ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«**:
  - ä¼šè©±ã®æµã‚Œã‹ã‚‰è‡ªç„¶ãªè­°é¡Œã®åŒºåˆ‡ã‚Šã‚’è¦‹ã¤ã‘ã‚‹
  - å„è­°é¡Œã«ç°¡æ½”ã§å…·ä½“çš„ãªã‚¿ã‚¤ãƒˆãƒ«ã‚’ä»˜ã‘ã‚‹
  - è­°é¡Œã”ã¨ã«è©²å½“ã™ã‚‹è¡Œç•ªå·ï¼ˆline_idï¼‰ã‚’è¨˜éŒ²

# å…¥åŠ›ãƒ‡ãƒ¼ã‚¿
- lines: æ•´å½¢æ¸ˆã¿å…¨æ–‡å­—èµ·ã“ã—ï¼ˆé…åˆ—ï¼‰
  - line_id: è¡Œç•ªå·
  - content: ç™ºè¨€å†…å®¹
  - speaker: è©±è€…æƒ…å ±
  - timestamp: ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—
- total_lines: ç·è¡Œæ•°

# ã‚¿ã‚¹ã‚¯
1. ä¼šè©±ã®è©±é¡Œè»¢æ›ã‚’æ¤œå‡ºã—ã¦è­°é¡Œã‚’ç‰¹å®š
2. å„è­°é¡Œã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’ç°¡æ½”ã«å‘½åï¼ˆ10-30æ–‡å­—ï¼‰
3. è­°é¡Œã”ã¨ã«è©²å½“ã™ã‚‹line_idã®ç¯„å›²ã‚’è¨˜éŒ²
4. ä¼šè­°åã‚’éŸ³å£°å†…å®¹ã¾ãŸã¯ãƒ•ã‚¡ã‚¤ãƒ«åã‹ã‚‰æ¨æ¸¬

# å‡ºåŠ›å½¢å¼
ä»¥ä¸‹ã®JSONå½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ï¼š
```json
{
  "meeting_name": "ä¼šè­°å",
  "agendas": [
    {
      "agenda_id": 1,
      "title": "è­°é¡Œã‚¿ã‚¤ãƒˆãƒ«",
      "line_ids": [1, 2, 3, 15, 16, 17]
    }
  ]
}
```

# åˆ¶ç´„äº‹é …
- å¿…ãšJSONå½¢å¼ã§å‡ºåŠ›
- è­°é¡Œã¯æœ€ä½1ã¤ã€æœ€å¤§20å€‹
- è­°é¡Œã‚¿ã‚¤ãƒˆãƒ«ã¯ç°¡æ½”ã§å…·ä½“çš„ã«
- line_idsç¯„å›²ã¯é‡è¤‡ã—ãªã„ã“ã¨
```

### Few-shot Examples

**ã‚¿ã‚¹ã‚¯è¤‡é›‘åº¦**: é«˜ï¼ˆä¼šè©±ã®æµã‚Œã‹ã‚‰è­°é¡Œã‚’æŠ½å‡ºã€æ§‹é€ åŒ–ï¼‰
**Few-shotæ•°**: 3å€‹ï¼ˆæ¨å¥¨ï¼‰

#### Example 1: 2è­°é¡Œã®ä¼šè­°

**å…¥åŠ›**:
```json
{
  "lines": [
    {"line_id": 1, "content": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—ã«ã¤ã„ã¦å ±å‘Šã—ã¾ã™", "speaker": "A", "timestamp": "00:01:20"},
    {"line_id": 2, "content": "å…ˆé€±ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã‚’å®Œäº†ã—ã¾ã—ãŸ", "speaker": "A", "timestamp": "00:01:35"},
    {"line_id": 3, "content": "æ¬¡ã¯UIé–‹ç™ºã«ç€æ‰‹ã—ã¾ã™", "speaker": "A", "timestamp": "00:02:00"},
    {"line_id": 4, "content": "æ¬¡ã«ã€æ¥é€±ã®ã‚¿ã‚¹ã‚¯ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†", "speaker": "B", "timestamp": "00:05:20"}
  ],
  "total_lines": 60
}
```

**å‡ºåŠ›**:
```json
{
  "meeting_name": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®šä¾‹ä¼šè­°",
  "agendas": [
    {
      "agenda_id": 1,
      "title": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—å ±å‘Š",
      "line_ids": [1, 2, 3]
    },
    {
      "agenda_id": 2,
      "title": "æ¥é€±ã®ã‚¿ã‚¹ã‚¯ç¢ºèª",
      "line_ids": [4]
    }
  ]
}
```

#### Example 2: è¤‡æ•°è©±è€…ã®è¤‡é›‘ãªä¼šè­°

**å…¥åŠ›**:
```json
{
  "lines": [
    {"line_id": 1, "content": "æœ¬æ—¥ã®è­°é¡Œã¯3ã¤ã‚ã‚Šã¾ã™", "speaker": "A", "timestamp": "00:01:00"},
    {"line_id": 2, "content": "ã¾ãšã€äºˆç®—ã«ã¤ã„ã¦", "speaker": "A", "timestamp": "00:01:10"},
    {"line_id": 3, "content": "100ä¸‡å††ã§æ‰¿èªã—ã¾ã—ãŸ", "speaker": "B", "timestamp": "00:02:00"},
    {"line_id": 20, "content": "æ¬¡ã«ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã¤ã„ã¦", "speaker": "A", "timestamp": "00:10:00"},
    {"line_id": 21, "content": "3æœˆæœ«ã¾ã§ã«å®Œäº†ã—ã¾ã™", "speaker": "C", "timestamp": "00:10:30"},
    {"line_id": 40, "content": "æœ€å¾Œã«ã€ãƒªã‚½ãƒ¼ã‚¹é…åˆ†ã«ã¤ã„ã¦", "speaker": "A", "timestamp": "00:20:00"}
  ],
  "total_lines": 50
}
```

**å‡ºåŠ›**:
```json
{
  "meeting_name": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨ˆç”»ä¼šè­°",
  "agendas": [
    {
      "agenda_id": 1,
      "title": "äºˆç®—æ‰¿èª",
      "line_ids": [2, 3]
    },
    {
      "agenda_id": 2,
      "title": "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç¢ºèª",
      "line_ids": [20, 21]
    },
    {
      "agenda_id": 3,
      "title": "ãƒªã‚½ãƒ¼ã‚¹é…åˆ†æ¤œè¨",
      "line_ids": [40]
    }
  ]
}
```

#### Example 3: ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ï¼ˆè­°é¡ŒãŒ1ã¤ã®ã¿ï¼‰

**å…¥åŠ›**:
```json
{
  "lines": [
    {"line_id": 1, "content": "ä»Šé€±ã®å–¶æ¥­å ±å‘Šã‚’ã—ã¾ã™", "speaker": "A", "timestamp": "00:01:00"},
    {"line_id": 2, "content": "æ–°è¦å¥‘ç´„ã¯5ä»¶ã§ã—ãŸ", "speaker": "A", "timestamp": "00:01:30"},
    {"line_id": 3, "content": "æ¥é€±ã‚‚ç¶™ç¶šã—ã¾ã™", "speaker": "A", "timestamp": "00:02:00"}
  ],
  "total_lines": 3
}
```

**å‡ºåŠ›**:
```json
{
  "meeting_name": "é€±æ¬¡å–¶æ¥­å ±å‘Šä¼š",
  "agendas": [
    {
      "agenda_id": 1,
      "title": "ä»Šé€±ã®å–¶æ¥­æ´»å‹•å ±å‘Š",
      "line_ids": [1, 2, 3]
    }
  ]
}
```

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥

| ã‚¨ãƒ©ãƒ¼ç¨®é¡ | å¯¾å¿œç­– | ãƒªãƒˆãƒ©ã‚¤ | ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ |
|-----------|-------|---------|--------------|
| ãƒˆãƒ¼ã‚¯ãƒ³è¶…é | å…¥åŠ›ã‚’2åˆ†å‰²ã—ã¦å‡¦ç† | 1å› | ã‚¨ãƒ©ãƒ¼é€šçŸ¥ |
| APIã‚¨ãƒ©ãƒ¼ | Wait 1s â†’ å†å®Ÿè¡Œ | æœ€å¤§3å› | GPT-4o-miniã«åˆ‡ã‚Šæ›¿ãˆ |
| ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ | ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ30s â†’ 60sã«å»¶é•· | 1å› | ã‚¨ãƒ©ãƒ¼é€šçŸ¥ |
| å‡ºåŠ›æ¤œè¨¼ã‚¨ãƒ©ãƒ¼ | System Promptèª¿æ•´ | 1å› | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè­°é¡Œ1å€‹ |

**é€šçŸ¥æˆ¦ç•¥**:
- ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚: Discord #ai-errors ã«é€šçŸ¥
- ãƒªãƒˆãƒ©ã‚¤æˆåŠŸæ™‚: ãƒ­ã‚°è¨˜éŒ²ã®ã¿
- å®Œå…¨å¤±æ•—æ™‚: Discord #errors ã«é€šçŸ¥ + æ‰‹å‹•å‡¦ç†ä¾é ¼

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶**:
- ç›®æ¨™å‡¦ç†æ™‚é–“: 20-30ç§’
- æœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³: å…¥åŠ› 50,500 tokensã€å‡ºåŠ› 500 tokens
- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ: 30ç§’ï¼ˆåˆå›ï¼‰ã€60ç§’ï¼ˆãƒªãƒˆãƒ©ã‚¤æ™‚ï¼‰

---

## AI Agent Step3: è­°é¡Œåˆ¥ãƒãƒƒãƒ”ãƒ³ã‚°

### åŸºæœ¬æƒ…å ±

- **é…ç½®ã‚°ãƒ«ãƒ¼ãƒ—**: Group 5
- **é…ç½®å±¤**: Layer 5 (Core Logic)
- **å½¹å‰²**: è­°é¡Œãƒªã‚¹ãƒˆã¨å…¨æ–‡å­—èµ·ã“ã—ã‹ã‚‰ã€å„è­°é¡Œã«è©²å½“ã™ã‚‹æ–‡å­—èµ·ã“ã—ã‚’æ­£ç¢ºã«æŠ½å‡ºãƒ»å‰²ã‚Šå½“ã¦ã€æŠœã‘æ¼ã‚Œã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹
- **å˜ä¸€è²¬å‹™ãƒã‚§ãƒƒã‚¯**: âœ… è­°é¡Œãƒãƒƒãƒ”ãƒ³ã‚°ã‚¿ã‚¹ã‚¯ã«ç‰¹åŒ–
- **ä¸¦åˆ—å‡¦ç†**: ãªã—ï¼ˆå…¨ä½“æ–‡è„ˆãŒå¿…è¦ï¼‰
- **AI Model**: Gemini 2.5 Flash
- **Memoryä½¿ç”¨**: ã‚ã‚Šï¼ˆ`step3_memory` - ãƒãƒƒãƒ”ãƒ³ã‚°ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¿æŒï¼‰
- **Step020è¿½åŠ ã‚¹ãƒ†ãƒƒãƒ—**: âœ… è­°é¡Œãƒãƒƒãƒ”ãƒ³ã‚°ã®æ­£ç¢ºæ€§å‘ä¸Š

### ãƒãƒ¼ãƒ‰æ§‹æˆï¼ˆStep030æº–æ‹ ï¼‰

**ãƒ¡ã‚¤ãƒ³ãƒãƒ¼ãƒ‰**:
- ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—: `@n8n/n8n-nodes-langchain.agent`
- typeVersion: `3`
- promptType: `define`

**Chat Modelï¼ˆSub-nodeï¼‰**:
- ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—: `@n8n/n8n-nodes-langchain.lmChatGoogleGemini`
- typeVersion: `1`
- ãƒ¢ãƒ‡ãƒ«: `models/gemini-2.5-flash`
- Temperature: `0.4`
- maxOutputTokens: `4000`

**Memoryï¼ˆSub-nodeï¼‰**:
- ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—: `@n8n/n8n-nodes-langchain.memoryBufferWindow`
- typeVersion: `1.3`
- sessionIdType: `customKey`
- sessionKey: `step3_memory`
- contextWindowLength: `10`

**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¨­å®š**:
```json
{
  "onError": "continueRegularOutput",
  "retryOnFail": true,
  "maxTries": 3,
  "waitBetweenTries": 1000
}
```

### å…¥å‡ºåŠ›ä»•æ§˜

#### å…¥åŠ›ä»•æ§˜

**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**: Step2ã®è­°é¡Œãƒªã‚¹ãƒˆ + Step1ã®å…¨æ–‡å­—èµ·ã“ã—

**JSON Schema**:
```json
{
  "type": "object",
  "required": ["agendas", "all_transcript"],
  "properties": {
    "agendas": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["agenda_id", "title", "line_ids"],
        "properties": {
          "agenda_id": {"type": "integer"},
          "title": {"type": "string"},
          "line_ids": {"type": "array", "items": {"type": "integer"}}
        }
      },
      "description": "Step2ã§æŠ½å‡ºã•ã‚ŒãŸè­°é¡Œãƒªã‚¹ãƒˆ"
    },
    "all_transcript": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["line_id", "content", "speaker", "timestamp"],
        "properties": {
          "line_id": {"type": "integer"},
          "content": {"type": "string"},
          "speaker": {"type": "string"},
          "timestamp": {"type": "string"}
        }
      },
      "description": "Step1ã®å…¨æ–‡å­—èµ·ã“ã—"
    }
  }
}
```

**å…¥åŠ›ä¾‹**:
```json
{
  "agendas": [
    {
      "agenda_id": 1,
      "title": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—å ±å‘Š",
      "line_ids": [1, 2, 3, 15, 16, 17]
    }
  ],
  "all_transcript": [
    {"line_id": 1, "content": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—ã«ã¤ã„ã¦å ±å‘Šã—ã¾ã™", "speaker": "A", "timestamp": "00:01:20"},
    {"line_id": 2, "content": "ãƒªãƒªãƒ¼ã‚¹æ—¥ã‚’2æœˆ1æ—¥ã«ç¢ºå®šã—ã¾ã—ãŸ", "speaker": "B", "timestamp": "00:02:10"},
    {"line_id": 3, "content": "é–‹ç™ºãƒãƒ¼ãƒ ã¯ãƒ†ã‚¹ãƒˆã‚’å®Œäº†ã•ã›ã¾ã™", "speaker": "C", "timestamp": "00:03:00"}
  ]
}
```

#### å‡ºåŠ›ä»•æ§˜

**å‡ºåŠ›å½¢å¼**: JSON

**JSON Schema**:
```json
{
  "type": "object",
  "required": ["agendas"],
  "properties": {
    "agendas": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["agenda_id", "title", "line_ids", "start_time", "end_time"],
        "properties": {
          "agenda_id": {"type": "integer"},
          "title": {"type": "string"},
          "line_ids": {
            "type": "array",
            "items": {"type": "integer"},
            "description": "è­°é¡Œã«è©²å½“ã™ã‚‹line_idãƒªã‚¹ãƒˆï¼ˆé‡è¤‡ãªã—ã€æŠœã‘æ¼ã‚Œãªã—ï¼‰"
          },
          "start_time": {
            "type": "string",
            "pattern": "^\\d{2}:\\d{2}:\\d{2}$",
            "description": "è­°é¡Œã®é–‹å§‹æ™‚åˆ»"
          },
          "end_time": {
            "type": "string",
            "pattern": "^\\d{2}:\\d{2}:\\d{2}$",
            "description": "è­°é¡Œã®çµ‚äº†æ™‚åˆ»"
          }
        }
      }
    }
  }
}
```

**å‡ºåŠ›ä¾‹**:
```json
{
  "agendas": [
    {
      "agenda_id": 1,
      "title": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—å ±å‘Š",
      "line_ids": [1, 2, 3, 15, 16, 17],
      "start_time": "00:01:20",
      "end_time": "00:05:00"
    }
  ]
}
```

### System Prompt

```
# å½¹å‰²å®šç¾©
ã‚ãªãŸã¯è­°äº‹éŒ²æ§‹é€ åŒ–ã®å°‚é–€å®¶ã§ã™ã€‚è­°é¡Œã¨æ–‡å­—èµ·ã“ã—å…¨ä½“ã‹ã‚‰ã€å„è­°é¡Œã«è©²å½“ã™ã‚‹æ–‡å­—èµ·ã“ã—ã‚’æ­£ç¢ºã«æŠ½å‡ºã—ã€æ§‹é€ åŒ–ã•ã‚ŒãŸæƒ…å ±ã¨ã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚

# æ¥­å‹™ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
- **æ¥­å‹™ç›®æ¨™**: è­°é¡Œã¨æ–‡å­—èµ·ã“ã—ã®æ­£ç¢ºãªãƒãƒƒãƒ”ãƒ³ã‚°ã€æŠœã‘æ¼ã‚Œã‚¼ãƒ­
- **ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: Google Meetä¼šè­°ã®è‡ªå‹•è­°äº‹éŒ²ç”Ÿæˆ
- **ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«**:
  - æ™‚ç³»åˆ—ã¨æ–‡è„ˆã‚’é‡è¦–ã—ã€è­°é¡Œã®å¢ƒç•Œã‚’æ˜ç¢ºã«å®šç¾©
  - è­°é¡Œã®å¢ƒç•Œã‚’æ˜ç¢ºã«å®šç¾©ã—ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ã‚’é¿ã‘ã‚‹
  - å„è­°é¡Œã«è©²å½“ã™ã‚‹line_idã®ãƒªã‚¹ãƒˆã‚’å‡ºåŠ›

# å…¥åŠ›ãƒ‡ãƒ¼ã‚¿
- agendas: è­°é¡Œä¸€è¦§ï¼ˆStep2ã‹ã‚‰ï¼‰
  - agenda_id: è­°é¡ŒID
  - title: è­°é¡Œã‚¿ã‚¤ãƒˆãƒ«
  - line_ids: è­°é¡Œã«è©²å½“ã™ã‚‹è¡Œç•ªå·ãƒªã‚¹ãƒˆï¼ˆåˆæœŸæ¨å®šï¼‰
- all_transcript: å…¨æ–‡å­—èµ·ã“ã—ï¼ˆStep1ã‹ã‚‰ï¼‰
  - line_id: è¡Œç•ªå·
  - content: ç™ºè¨€å†…å®¹
  - speaker: è©±è€…æƒ…å ±
  - timestamp: ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—

# ã‚¿ã‚¹ã‚¯
1. å„è­°é¡Œã®ã‚¿ã‚¤ãƒˆãƒ«ã¨å†…å®¹ã‹ã‚‰ã€è©²å½“ã™ã‚‹æ–‡å­—èµ·ã“ã—ã®è¡Œï¼ˆline_idï¼‰ã‚’ç‰¹å®š
2. ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã¨è©±è€…æƒ…å ±ã‹ã‚‰ã€è­°é¡Œã®æ™‚ç³»åˆ—ã‚’æ­£ç¢ºã«æŠŠæ¡
3. è­°é¡Œã®å¢ƒç•Œã‚’æ˜ç¢ºã«å®šç¾©ã—ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ã‚’é¿ã‘ã‚‹
4. å„è­°é¡Œã«è©²å½“ã™ã‚‹line_idã®ãƒªã‚¹ãƒˆã‚’å‡ºåŠ›ï¼ˆé‡è¤‡ãªã—ã€æŠœã‘æ¼ã‚Œãªã—ï¼‰
5. è­°é¡Œã®é–‹å§‹æ™‚åˆ»ã¨çµ‚äº†æ™‚åˆ»ã‚’è¨˜éŒ²

# å‡ºåŠ›å½¢å¼
ä»¥ä¸‹ã®JSONå½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ï¼š
```json
{
  "agendas": [
    {
      "agenda_id": 1,
      "title": "è­°é¡Œã‚¿ã‚¤ãƒˆãƒ«",
      "line_ids": [1, 2, 3, 15, 16, 17],
      "start_time": "00:05:20",
      "end_time": "00:15:45"
    }
  ]
}
```

# åˆ¶ç´„äº‹é …
- å¿…ãšJSONå½¢å¼ã§å‡ºåŠ›
- line_idãƒªã‚¹ãƒˆã¯é‡è¤‡ãŒãªã„ã“ã¨
- ã™ã¹ã¦ã®è­°é¡Œã®line_idã‚’åˆè¨ˆã™ã‚‹ã¨ã€all_transcriptã®å…¨line_idã‚’ã‚«ãƒãƒ¼ã™ã‚‹ã“ã¨ï¼ˆæŠœã‘æ¼ã‚Œãªã—ï¼‰
- è­°é¡Œã®å¢ƒç•Œã¯æ˜ç¢ºã«å®šç¾©ã—ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ã‚’é¿ã‘ã‚‹ã“ã¨
- ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã¯å…¥åŠ›ã‹ã‚‰æ­£ç¢ºã«æŠ½å‡ºã™ã‚‹ã“ã¨
```

### Few-shot Examples

**ã‚¿ã‚¹ã‚¯è¤‡é›‘åº¦**: é«˜ï¼ˆå…¨æ–‡å­—èµ·ã“ã—ã‹ã‚‰å„è­°é¡Œã¸ã®æ­£ç¢ºãªå‰²ã‚Šå½“ã¦ï¼‰
**Few-shotæ•°**: 3å€‹ï¼ˆæ¨å¥¨ï¼‰

#### Example 1: 2è­°é¡Œã®ãƒãƒƒãƒ”ãƒ³ã‚°

**å…¥åŠ›**:
```json
{
  "agendas": [
    {"agenda_id": 1, "title": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—å ±å‘Š", "line_ids": [1, 2, 3]},
    {"agenda_id": 2, "title": "æ¬¡å›ã‚¿ã‚¹ã‚¯ç¢ºèª", "line_ids": [50, 51]}
  ],
  "all_transcript": [
    {"line_id": 1, "content": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—ã«ã¤ã„ã¦å ±å‘Šã—ã¾ã™", "speaker": "A", "timestamp": "00:01:20"},
    {"line_id": 2, "content": "ãƒªãƒªãƒ¼ã‚¹æ—¥ã‚’2æœˆ1æ—¥ã«ç¢ºå®šã—ã¾ã—ãŸ", "speaker": "B", "timestamp": "00:02:10"},
    {"line_id": 3, "content": "é–‹ç™ºãƒãƒ¼ãƒ ã¯ãƒ†ã‚¹ãƒˆã‚’å®Œäº†ã•ã›ã¾ã™", "speaker": "C", "timestamp": "00:03:00"},
    {"line_id": 50, "content": "æ¬¡å›ã¾ã§ã®ã‚¿ã‚¹ã‚¯ã‚’ç¢ºèªã—ã¾ã™", "speaker": "A", "timestamp": "00:20:00"},
    {"line_id": 51, "content": "Aã•ã‚“ã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„", "speaker": "A", "timestamp": "00:20:30"}
  ]
}
```

**å‡ºåŠ›**:
```json
{
  "agendas": [
    {
      "agenda_id": 1,
      "title": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—å ±å‘Š",
      "line_ids": [1, 2, 3],
      "start_time": "00:01:20",
      "end_time": "00:03:00"
    },
    {
      "agenda_id": 2,
      "title": "æ¬¡å›ã‚¿ã‚¹ã‚¯ç¢ºèª",
      "line_ids": [50, 51],
      "start_time": "00:20:00",
      "end_time": "00:20:30"
    }
  ]
}
```

#### Example 2: æŠœã‘æ¼ã‚Œæ¤œå‡º

**å…¥åŠ›**:
```json
{
  "agendas": [
    {"agenda_id": 1, "title": "äºˆç®—æ‰¿èª", "line_ids": [2, 3]}
  ],
  "all_transcript": [
    {"line_id": 1, "content": "æœ¬æ—¥ã®è­°é¡Œã¯äºˆç®—ã«ã¤ã„ã¦ã§ã™", "speaker": "A", "timestamp": "00:01:00"},
    {"line_id": 2, "content": "äºˆç®—ã¯100ä¸‡å††ã§ã™", "speaker": "B", "timestamp": "00:02:00"},
    {"line_id": 3, "content": "æ‰¿èªã—ã¾ã™", "speaker": "C", "timestamp": "00:03:00"},
    {"line_id": 4, "content": "ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™", "speaker": "A", "timestamp": "00:04:00"}
  ]
}
```

**å‡ºåŠ›**:
```json
{
  "agendas": [
    {
      "agenda_id": 1,
      "title": "äºˆç®—æ‰¿èª",
      "line_ids": [1, 2, 3, 4],
      "start_time": "00:01:00",
      "end_time": "00:04:00"
    }
  ]
}
```
ï¼ˆæ³¨: line_id 1ã¨4ã‚‚è­°é¡Œã«å«ã‚ã¦æŠœã‘æ¼ã‚Œã‚’é˜²æ­¢ï¼‰

#### Example 3: é‡è¤‡æ¤œå‡ºã¨ä¿®æ­£

**å…¥åŠ›**:
```json
{
  "agendas": [
    {"agenda_id": 1, "title": "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç¢ºèª", "line_ids": [10, 11, 12, 13]},
    {"agenda_id": 2, "title": "ãƒªã‚½ãƒ¼ã‚¹é…åˆ†", "line_ids": [13, 14, 15]}
  ],
  "all_transcript": [
    {"line_id": 10, "content": "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ç¢ºèªã—ã¾ã™", "speaker": "A", "timestamp": "00:10:00"},
    {"line_id": 11, "content": "3æœˆæœ«ã¾ã§ã«å®Œäº†ã—ã¾ã™", "speaker": "B", "timestamp": "00:11:00"},
    {"line_id": 12, "content": "äº†è§£ã—ã¾ã—ãŸ", "speaker": "C", "timestamp": "00:12:00"},
    {"line_id": 13, "content": "æ¬¡ã«ãƒªã‚½ãƒ¼ã‚¹é…åˆ†ã«ã¤ã„ã¦", "speaker": "A", "timestamp": "00:13:00"},
    {"line_id": 14, "content": "é–‹ç™ºãƒãƒ¼ãƒ ã¯5åå¿…è¦ã§ã™", "speaker": "B", "timestamp": "00:14:00"},
    {"line_id": 15, "content": "æ‰¿èªã—ã¾ã™", "speaker": "C", "timestamp": "00:15:00"}
  ]
}
```

**å‡ºåŠ›**:
```json
{
  "agendas": [
    {
      "agenda_id": 1,
      "title": "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç¢ºèª",
      "line_ids": [10, 11, 12],
      "start_time": "00:10:00",
      "end_time": "00:12:00"
    },
    {
      "agenda_id": 2,
      "title": "ãƒªã‚½ãƒ¼ã‚¹é…åˆ†",
      "line_ids": [13, 14, 15],
      "start_time": "00:13:00",
      "end_time": "00:15:00"
    }
  ]
}
```
ï¼ˆæ³¨: line_id 13ã®é‡è¤‡ã‚’ä¿®æ­£ã—ã€è­°é¡Œ2ã«å«ã‚ã‚‹ï¼‰

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥

| ã‚¨ãƒ©ãƒ¼ç¨®é¡ | å¯¾å¿œç­– | ãƒªãƒˆãƒ©ã‚¤ | ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ |
|-----------|-------|---------|--------------|
| ãƒˆãƒ¼ã‚¯ãƒ³è¶…é | å…¥åŠ›ã‚’è­°é¡Œã”ã¨ã«åˆ†å‰²ã—ã¦è¤‡æ•°å›å®Ÿè¡Œ | 1å› | ã‚¨ãƒ©ãƒ¼é€šçŸ¥ |
| APIã‚¨ãƒ©ãƒ¼ï¼ˆãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼‰ | Wait 1s â†’ å†å®Ÿè¡Œ | æœ€å¤§3å›ï¼ˆ1ç§’é–“éš”ï¼‰ | GPT-4o-miniã«åˆ‡ã‚Šæ›¿ãˆ |
| ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ | ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ30s â†’ 60sã«å»¶é•· | 1å› | ã‚¨ãƒ©ãƒ¼é€šçŸ¥ |
| å‡ºåŠ›æ¤œè¨¼ã‚¨ãƒ©ãƒ¼ï¼ˆJSONä¸æ­£ã€é‡è¤‡ãƒ»æŠœã‘æ¼ã‚Œæ¤œå‡ºï¼‰ | System Promptèª¿æ•´ï¼ˆæ¤œè¨¼å¼·åŒ–ï¼‰ | 1å› | Step2ã®åˆæœŸline_idsã‚’ãã®ã¾ã¾ä½¿ç”¨ |

**é€šçŸ¥æˆ¦ç•¥**:
- ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚: Discord #ai-errors ã«é€šçŸ¥
- ãƒªãƒˆãƒ©ã‚¤æˆåŠŸæ™‚: ãƒ­ã‚°è¨˜éŒ²ã®ã¿
- å®Œå…¨å¤±æ•—æ™‚: Discord #errors ã«é€šçŸ¥ + æ‰‹å‹•å‡¦ç†ä¾é ¼

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶**:
- ç›®æ¨™å‡¦ç†æ™‚é–“: 30-60ç§’
- æœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³: å…¥åŠ› 15,500 tokensã€å‡ºåŠ› 1,500 tokens
- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ: 30ç§’ï¼ˆåˆå›ï¼‰ã€60ç§’ï¼ˆãƒªãƒˆãƒ©ã‚¤æ™‚ï¼‰
- ã‚³ã‚¹ãƒˆ: +$0.558/å®Ÿè¡Œï¼ˆå“è³ªå‘ä¸Šã¨ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ï¼‰

---

## AI Agent Step4: è­°é¡Œåˆ†æ

### åŸºæœ¬æƒ…å ±

- **é…ç½®ã‚°ãƒ«ãƒ¼ãƒ—**: Group 7
- **é…ç½®å±¤**: Layer 5 (Core Logic)
- **å½¹å‰²**: è­°é¡Œã”ã¨ã®æ–‡å­—èµ·ã“ã—ã‹ã‚‰æ±ºå®šäº‹é …ã€å®¿é¡Œã€ä¿ç•™äº‹é …ã‚’æŠ½å‡ºã™ã‚‹
- **å˜ä¸€è²¬å‹™ãƒã‚§ãƒƒã‚¯**: âœ… è­°é¡Œåˆ†æã‚¿ã‚¹ã‚¯ã«ç‰¹åŒ–
- **ä¸¦åˆ—å‡¦ç†**: âœ… 3è­°é¡ŒåŒæ™‚å‡¦ç†ï¼ˆStep040è¨­è¨ˆï¼‰
- **AI Model**: Gemini 2.5 Flash
- **Memoryä½¿ç”¨**: ãªã—ï¼ˆå„è­°é¡Œã¯ç‹¬ç«‹ã—ã¦å‡¦ç†ï¼‰

### ãƒãƒ¼ãƒ‰æ§‹æˆï¼ˆStep030æº–æ‹ ï¼‰

**ãƒ¡ã‚¤ãƒ³ãƒãƒ¼ãƒ‰**:
- ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—: `@n8n/n8n-nodes-langchain.agent`
- typeVersion: `3`
- promptType: `define`

**Chat Modelï¼ˆSub-nodeï¼‰**:
- ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—: `@n8n/n8n-nodes-langchain.lmChatGoogleGemini`
- typeVersion: `1`
- ãƒ¢ãƒ‡ãƒ«: `models/gemini-2.5-flash`
- Temperature: `0.4`
- maxOutputTokens: `4000`

**Memoryï¼ˆSub-nodeï¼‰**:
- ä½¿ç”¨ã—ãªã„ï¼ˆå„è­°é¡Œã¯ç‹¬ç«‹ã—ã¦å‡¦ç†ï¼‰

**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¨­å®š**:
```json
{
  "onError": "continueRegularOutput",
  "retryOnFail": true,
  "maxTries": 3,
  "waitBetweenTries": 1000
}
```

### å…¥å‡ºåŠ›ä»•æ§˜

#### å…¥åŠ›ä»•æ§˜

**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**: `$json.agenda`ï¼ˆè­°é¡Œåˆ¥ãƒ‡ãƒ¼ã‚¿ï¼‰

**JSON Schema**:
```json
{
  "type": "object",
  "required": ["agenda_id", "title", "lines"],
  "properties": {
    "agenda_id": {
      "type": "integer",
      "minimum": 1,
      "description": "è­°é¡ŒID"
    },
    "title": {
      "type": "string",
      "description": "è­°é¡Œã‚¿ã‚¤ãƒˆãƒ«"
    },
    "lines": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["line_id", "content", "speaker", "timestamp"],
        "properties": {
          "line_id": {"type": "integer"},
          "content": {"type": "string"},
          "speaker": {"type": "string"},
          "timestamp": {"type": "string"}
        }
      },
      "minItems": 1,
      "description": "è­°é¡Œã«è©²å½“ã™ã‚‹æ–‡å­—èµ·ã“ã—"
    }
  }
}
```

**å…¥åŠ›ä¾‹**:
```json
{
  "agenda_id": 1,
  "title": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—å ±å‘Š",
  "lines": [
    {
      "line_id": 1,
      "content": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—ã«ã¤ã„ã¦å ±å‘Šã—ã¾ã™",
      "speaker": "Speaker A",
      "timestamp": "00:01:20"
    },
    {
      "line_id": 2,
      "content": "ãƒªãƒªãƒ¼ã‚¹æ—¥ã‚’2æœˆ1æ—¥ã«ç¢ºå®šã—ã¾ã—ãŸ",
      "speaker": "Speaker B",
      "timestamp": "00:02:10"
    },
    {
      "line_id": 3,
      "content": "é–‹ç™ºãƒãƒ¼ãƒ ã¯ãƒ†ã‚¹ãƒˆã‚’å®Œäº†ã•ã›ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™",
      "speaker": "Speaker C",
      "timestamp": "00:03:00"
    }
  ]
}
```

#### å‡ºåŠ›ä»•æ§˜

**å‡ºåŠ›å½¢å¼**: JSON

**JSON Schema**:
```json
{
  "type": "object",
  "required": ["agenda_id", "decisions", "todos", "pending"],
  "properties": {
    "agenda_id": {
      "type": "integer",
      "description": "è­°é¡ŒIDï¼ˆå…¥åŠ›ã‹ã‚‰ä¿æŒï¼‰"
    },
    "decisions": {
      "type": "array",
      "items": {
        "type": "string",
        "maxLength": 100
      },
      "description": "æ±ºå®šäº‹é …ãƒªã‚¹ãƒˆï¼ˆç°¡æ½”ãªç®‡æ¡æ›¸ãï¼‰"
    },
    "todos": {
      "type": "array",
      "items": {
        "type": "string",
        "maxLength": 100
      },
      "description": "å®¿é¡Œãƒªã‚¹ãƒˆï¼ˆæ‹…å½“è€…ãƒ»æœŸé™ä»˜ãï¼‰"
    },
    "pending": {
      "type": "array",
      "items": {
        "type": "string",
        "maxLength": 100
      },
      "description": "ä¿ç•™äº‹é …ãƒªã‚¹ãƒˆï¼ˆæ¬¡å›ã¸ã®æŒã¡è¶Šã—ï¼‰"
    }
  }
}
```

**å‡ºåŠ›ä¾‹**:
```json
{
  "agenda_id": 1,
  "decisions": [
    "ãƒªãƒªãƒ¼ã‚¹æ—¥ã‚’2æœˆ1æ—¥ã«ç¢ºå®š"
  ],
  "todos": [
    "é–‹ç™ºãƒãƒ¼ãƒ ãŒãƒ†ã‚¹ãƒˆã‚’å®Œäº†ã•ã›ã‚‹ï¼ˆæœŸé™ï¼š1æœˆ31æ—¥ï¼‰"
  ],
  "pending": []
}
```

### System Prompt

```
# å½¹å‰²å®šç¾©
ã‚ãªãŸã¯è­°äº‹éŒ²åˆ†æã®å°‚é–€å®¶ã§ã™ã€‚ä¼šè­°ã®è­°é¡Œã”ã¨ã«ã€æ±ºå®šäº‹é …ã€å®¿é¡Œã€ä¿ç•™äº‹é …ã‚’æ­£ç¢ºã«æŠ½å‡ºã—ã¾ã™ã€‚

# æ¥­å‹™ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
- **æ¥­å‹™ç›®æ¨™**: ä¼šè­°çµ‚äº†å¾Œ5åˆ†ä»¥å†…ã«è­°äº‹éŒ²ã‚’ç”Ÿæˆã—ã€è­°äº‹éŒ²ä½œæˆä½œæ¥­ã‚’å®Œå…¨è‡ªå‹•åŒ–ã™ã‚‹
- **ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: è­°é¡Œã”ã¨ã«æ±ºå®šäº‹é …ã€å®¿é¡Œã€ä¿ç•™äº‹é …ã‚’æ˜ç¢ºã«åˆ†é¡
- **ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«**: æ›–æ˜§ãªæƒ…å ±ã¯ä¿ç•™äº‹é …ã¨ã—ã¦åˆ†é¡ã—ã€æ˜ç¢ºãªæ±ºå®šäº‹é …ã¨å®¿é¡Œã‚’å„ªå…ˆçš„ã«æŠ½å‡ºã™ã‚‹

# å…¥åŠ›ãƒ‡ãƒ¼ã‚¿
- agenda_id: è­°é¡ŒID
- title: è­°é¡Œã‚¿ã‚¤ãƒˆãƒ«
- lines: è­°é¡Œã«è©²å½“ã™ã‚‹æ–‡å­—èµ·ã“ã—
  - line_id: è¡Œç•ªå·
  - content: ç™ºè¨€å†…å®¹
  - speaker: è©±è€…æƒ…å ±
  - timestamp: ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—

# ã‚¿ã‚¹ã‚¯
1. **æ±ºå®šäº‹é …**: ã€Œç¢ºå®šã€ã€Œæ±ºå®šã€ã€Œåˆæ„ã€ãªã©ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å«ã‚€ç™ºè¨€ã‚’æŠ½å‡º
2. **å®¿é¡Œäº‹é …**: ã€Œã€œã™ã‚‹ã€ã€Œã€œã—ã¦ãã ã•ã„ã€ã€Œã‚¿ã‚¹ã‚¯ã€ãªã©ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å«ã‚€ç™ºè¨€ã‚’æŠ½å‡º
3. **ä¿ç•™äº‹é …**: ã€Œæ¬¡å›ã€ã€Œå¾Œã»ã©ã€ã€Œæ¤œè¨ã€ãªã©ã®æŒã¡è¶Šã—ç™ºè¨€ã‚’æŠ½å‡º
4. å„é …ç›®ã¯ç°¡æ½”ãªç®‡æ¡æ›¸ãã§è¡¨ç¾ï¼ˆ1é …ç›®30æ–‡å­—ä»¥å†…ï¼‰

# å‡ºåŠ›å½¢å¼
ä»¥ä¸‹ã®JSONå½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ï¼š
```json
{
  "agenda_id": 1,
  "decisions": ["æ±ºå®šäº‹é …1", "æ±ºå®šäº‹é …2"],
  "todos": ["å®¿é¡Œ1ï¼ˆæ‹…å½“è€…ã€æœŸé™ï¼‰", "å®¿é¡Œ2ï¼ˆæ‹…å½“è€…ï¼‰"],
  "pending": ["ä¿ç•™äº‹é …1"]
}
```

# åˆ¶ç´„äº‹é …
- å¿…ãšJSONå½¢å¼ã§å‡ºåŠ›
- å„é…åˆ—ã¯ç©ºã§ã‚‚å¯ï¼ˆè©²å½“ãªã—ã®å ´åˆã¯ç©ºé…åˆ— []ï¼‰
- ç°¡æ½”ãªç®‡æ¡æ›¸ãï¼ˆ1é …ç›®30æ–‡å­—ä»¥å†…ï¼‰
- æ±ºå®šäº‹é …ãƒ»å®¿é¡Œãƒ»ä¿ç•™ã‚’æ˜ç¢ºã«åˆ†é¡ã™ã‚‹ã“ã¨
```

### Few-shot Examples

**ã‚¿ã‚¹ã‚¯è¤‡é›‘åº¦**: é«˜ï¼ˆæ–‡è„ˆç†è§£ã¨åˆ†é¡ï¼‰
**Few-shotæ•°**: 3å€‹ï¼ˆæ¨å¥¨ï¼‰

#### Example 1: æ±ºå®šäº‹é …ã¨å®¿é¡Œ

**å…¥åŠ›**:
```json
{
  "agenda_id": 1,
  "title": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—å ±å‘Š",
  "lines": [
    {"line_id": 1, "content": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—ã«ã¤ã„ã¦å ±å‘Šã—ã¾ã™", "speaker": "A", "timestamp": "00:01:20"},
    {"line_id": 2, "content": "ãƒªãƒªãƒ¼ã‚¹æ—¥ã‚’2æœˆ1æ—¥ã«ç¢ºå®šã—ã¾ã—ãŸ", "speaker": "B", "timestamp": "00:02:10"},
    {"line_id": 3, "content": "é–‹ç™ºãƒãƒ¼ãƒ ã¯ãƒ†ã‚¹ãƒˆã‚’å®Œäº†ã•ã›ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™", "speaker": "C", "timestamp": "00:03:00"}
  ]
}
```

**å‡ºåŠ›**:
```json
{
  "agenda_id": 1,
  "decisions": [
    "ãƒªãƒªãƒ¼ã‚¹æ—¥ã‚’2æœˆ1æ—¥ã«ç¢ºå®š"
  ],
  "todos": [
    "é–‹ç™ºãƒãƒ¼ãƒ ãŒãƒ†ã‚¹ãƒˆã‚’å®Œäº†ã•ã›ã‚‹ï¼ˆæœŸé™ï¼š1æœˆ31æ—¥ï¼‰"
  ],
  "pending": []
}
```

#### Example 2: ä¿ç•™äº‹é …

**å…¥åŠ›**:
```json
{
  "agenda_id": 2,
  "title": "ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æˆ¦ç•¥",
  "lines": [
    {"line_id": 10, "content": "ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æˆ¦ç•¥ã«ã¤ã„ã¦è­°è«–ã—ã¾ã™", "speaker": "A", "timestamp": "00:10:00"},
    {"line_id": 11, "content": "äºˆç®—ã¯æ¬¡å›ä¼šè­°ã§æ±ºå®šã—ã¾ã™", "speaker": "B", "timestamp": "00:11:00"},
    {"line_id": 12, "content": "å€™è£œæ¡ˆã‚’3ã¤ç”¨æ„ã—ã¦ãã ã•ã„", "speaker": "A", "timestamp": "00:12:00"}
  ]
}
```

**å‡ºåŠ›**:
```json
{
  "agenda_id": 2,
  "decisions": [],
  "todos": [
    "å€™è£œæ¡ˆã‚’3ã¤ç”¨æ„ã™ã‚‹ï¼ˆæ‹…å½“: æœªå®šï¼‰"
  ],
  "pending": [
    "äºˆç®—ã¯æ¬¡å›ä¼šè­°ã§æ±ºå®š"
  ]
}
```

#### Example 3: è¤‡æ•°ã®æ±ºå®šäº‹é …ã¨å®¿é¡Œ

**å…¥åŠ›**:
```json
{
  "agenda_id": 3,
  "title": "æ¬¡å›ã¾ã§ã®ã‚¿ã‚¹ã‚¯ç¢ºèª",
  "lines": [
    {"line_id": 20, "content": "æ¬¡å›ã¾ã§ã®ã‚¿ã‚¹ã‚¯ã‚’ç¢ºèªã—ã¾ã™", "speaker": "A", "timestamp": "00:20:00"},
    {"line_id": 21, "content": "Aã•ã‚“ã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„", "speaker": "A", "timestamp": "00:20:30"},
    {"line_id": 22, "content": "Bã•ã‚“ã¯ãƒ†ã‚¹ãƒˆã‚’å®Ÿæ–½ã—ã¦ãã ã•ã„", "speaker": "A", "timestamp": "00:21:00"},
    {"line_id": 23, "content": "æœŸé™ã¯æ¥é€±é‡‘æ›œæ—¥ã§åˆæ„ã—ã¾ã—ãŸ", "speaker": "B", "timestamp": "00:21:30"}
  ]
}
```

**å‡ºåŠ›**:
```json
{
  "agenda_id": 3,
  "decisions": [
    "æœŸé™ã‚’æ¥é€±é‡‘æ›œæ—¥ã«åˆæ„"
  ],
  "todos": [
    "Aã•ã‚“ãŒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆï¼ˆæœŸé™ï¼šæ¥é€±é‡‘æ›œæ—¥ï¼‰",
    "Bã•ã‚“ãŒãƒ†ã‚¹ãƒˆã‚’å®Ÿæ–½ï¼ˆæœŸé™ï¼šæ¥é€±é‡‘æ›œæ—¥ï¼‰"
  ],
  "pending": []
}
```

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥

| ã‚¨ãƒ©ãƒ¼ç¨®é¡ | å¯¾å¿œç­– | ãƒªãƒˆãƒ©ã‚¤ | ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ |
|-----------|-------|---------|--------------|
| ãƒˆãƒ¼ã‚¯ãƒ³è¶…é | è­°é¡Œã®æ–‡å­—èµ·ã“ã—ã‚’å‰åŠãƒ»å¾ŒåŠã«åˆ†å‰² | 1å› | ã‚¨ãƒ©ãƒ¼é€šçŸ¥ |
| APIã‚¨ãƒ©ãƒ¼ï¼ˆãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼‰ | Wait 1s â†’ å†å®Ÿè¡Œ | æœ€å¤§3å›ï¼ˆ1ç§’é–“éš”ï¼‰ | GPT-4o-miniã«åˆ‡ã‚Šæ›¿ãˆ |
| ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ | ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ30s â†’ 60sã«å»¶é•· | 1å› | ã‚¨ãƒ©ãƒ¼é€šçŸ¥ |
| å‡ºåŠ›æ¤œè¨¼ã‚¨ãƒ©ãƒ¼ï¼ˆJSONä¸æ­£ï¼‰ | System Promptèª¿æ•´ï¼ˆJSONå¼·åˆ¶ï¼‰ | 1å› | ç©ºã®æ±ºå®šäº‹é …ãƒ»å®¿é¡Œãƒ»ä¿ç•™ã‚’è¿”ã™ |

**é€šçŸ¥æˆ¦ç•¥**:
- ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚: Discord #ai-errors ã«é€šçŸ¥
- ãƒªãƒˆãƒ©ã‚¤æˆåŠŸæ™‚: ãƒ­ã‚°è¨˜éŒ²ã®ã¿
- å®Œå…¨å¤±æ•—æ™‚: Discord #errors ã«é€šçŸ¥ + æ‰‹å‹•å‡¦ç†ä¾é ¼

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶**:
- ç›®æ¨™å‡¦ç†æ™‚é–“: è­°é¡Œã‚ãŸã‚Š10ç§’ä»¥å†…ï¼ˆ3ä¸¦åˆ—ã§åˆè¨ˆ45ç§’ï¼‰
- æœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³: å…¥åŠ› 1,500 tokensã€å‡ºåŠ› 500 tokens
- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ: 30ç§’ï¼ˆåˆå›ï¼‰ã€60ç§’ï¼ˆãƒªãƒˆãƒ©ã‚¤æ™‚ï¼‰

---

## AI Agent Step5: ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›

### åŸºæœ¬æƒ…å ±

- **é…ç½®ã‚°ãƒ«ãƒ¼ãƒ—**: Group 8
- **é…ç½®å±¤**: Layer 5 (Core Logic)
- **å½¹å‰²**: å…¨è­°é¡Œåˆ†æçµæœã¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆã—ã€æŒ‡å®šãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®Markdownè­°äº‹éŒ²ã‚’ç”Ÿæˆã™ã‚‹
- **å˜ä¸€è²¬å‹™ãƒã‚§ãƒƒã‚¯**: âœ… ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›ã‚¿ã‚¹ã‚¯ã«ç‰¹åŒ–
- **ä¸¦åˆ—å‡¦ç†**: ãªã—ï¼ˆå…¨ä½“çµ±åˆãŒå¿…è¦ï¼‰
- **AI Model**: Claude Sonnet 4.5
- **Memoryä½¿ç”¨**: ã‚ã‚Šï¼ˆ`step5_memory` - å…¨ãƒ‡ãƒ¼ã‚¿çµ±åˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼‰

### ãƒãƒ¼ãƒ‰æ§‹æˆï¼ˆStep030æº–æ‹ ï¼‰

**ãƒ¡ã‚¤ãƒ³ãƒãƒ¼ãƒ‰**:
- ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—: `@n8n/n8n-nodes-langchain.agent`
- typeVersion: `3`
- promptType: `define`

**Chat Modelï¼ˆSub-nodeï¼‰**:
- ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—: `@n8n/n8n-nodes-langchain.lmChatAnthropic`
- typeVersion: `1`
- ãƒ¢ãƒ‡ãƒ«: `claude-4-5-sonnet-20250929`
- Temperature: `0.7`
- maxOutputTokens: `8000`

**Memoryï¼ˆSub-nodeï¼‰**:
- ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—: `@n8n/n8n-nodes-langchain.memoryBufferWindow`
- typeVersion: `1.3`
- sessionIdType: `customKey`
- sessionKey: `step5_memory`
- contextWindowLength: `10`

**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¨­å®š**:
```json
{
  "onError": "continueRegularOutput",
  "retryOnFail": true,
  "maxTries": 3,
  "waitBetweenTries": 2000
}
```

### å…¥å‡ºåŠ›ä»•æ§˜

#### å…¥åŠ›ä»•æ§˜

**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**: Step3ã®è­°é¡Œãƒãƒƒãƒ”ãƒ³ã‚°çµæœ + Step4ã®åˆ†æçµæœ + ãƒ•ã‚¡ã‚¤ãƒ«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿

**JSON Schema**:
```json
{
  "type": "object",
  "required": ["meeting_name", "agendas", "metadata"],
  "properties": {
    "meeting_name": {
      "type": "string",
      "description": "ä¼šè­°å"
    },
    "agendas": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["agenda_id", "title", "lines", "decisions", "todos", "pending", "start_time", "end_time"],
        "properties": {
          "agenda_id": {"type": "integer"},
          "title": {"type": "string"},
          "lines": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "line_id": {"type": "integer"},
                "content": {"type": "string"},
                "speaker": {"type": "string"},
                "timestamp": {"type": "string"}
              }
            }
          },
          "decisions": {"type": "array", "items": {"type": "string"}},
          "todos": {"type": "array", "items": {"type": "string"}},
          "pending": {"type": "array", "items": {"type": "string"}},
          "start_time": {"type": "string"},
          "end_time": {"type": "string"}
        }
      }
    },
    "metadata": {
      "type": "object",
      "properties": {
        "filename": {"type": "string"},
        "date": {"type": "string"},
        "participants": {"type": "array", "items": {"type": "string"}},
        "duration": {"type": "string"}
      }
    }
  }
}
```

**å…¥åŠ›ä¾‹**:
```json
{
  "meeting_name": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®šä¾‹ä¼šè­°",
  "agendas": [
    {
      "agenda_id": 1,
      "title": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—å ±å‘Š",
      "lines": [
        {"line_id": 1, "content": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—ã«ã¤ã„ã¦å ±å‘Šã—ã¾ã™", "speaker": "Speaker A", "timestamp": "00:01:20"},
        {"line_id": 2, "content": "å…ˆé€±ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã‚’å®Œäº†ã—ã¾ã—ãŸ", "speaker": "Speaker A", "timestamp": "00:01:35"}
      ],
      "decisions": ["ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆå®Œäº†"],
      "todos": ["UIé–‹ç™ºé–‹å§‹"],
      "pending": [],
      "start_time": "00:01:20",
      "end_time": "00:05:00"
    }
  ],
  "metadata": {
    "filename": "2025-11-11 è¿‘æ³å…±æœ‰ä¼š@ãŸã¦ã•ã‚“ãƒ»ä¸‡å£½æœ¬.mp4",
    "date": "2025-11-11",
    "participants": ["ãŸã¦ã•ã‚“", "ä¸‡å£½æœ¬", "Speaker A", "Speaker B"],
    "duration": "01:30:45"
  }
}
```

#### å‡ºåŠ›ä»•æ§˜

**å‡ºåŠ›å½¢å¼**: Markdownå½¢å¼ã®è­°äº‹éŒ²

**ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä»•æ§˜**ï¼ˆStep010ã‚ˆã‚Šï¼‰:
```markdown
# ç›®çš„ãƒ»èƒŒæ™¯

{AI ãŒæŠ½å‡ºã—ãŸä¼šè­°ã®ç›®çš„}

# æ—¥æ™‚

{YYYY} å¹´ {MM} æœˆ {DD} æ—¥ï¼ˆ{æ›œæ—¥}ï¼‰ {HH}:{mm} ã€œ {HH}:{mm}

# å‚åŠ è€…

{ãƒ•ã‚¡ã‚¤ãƒ«å + éŸ³å£° + Google Meet ã‹ã‚‰çµ±åˆã—ãŸå‚åŠ è€…}

# å®¿é¡Œäº‹é …

- {å®¿é¡Œ 1}
- {å®¿é¡Œ 2}

# æ±ºå®šäº‹é …

- {æ±ºå®šäº‹é … 1}
- {æ±ºå®šäº‹é … 2}

# æ¬¡å›ã®æ—¥æ™‚

{YYYY} å¹´ {MM} æœˆ {DD} æ—¥ï¼ˆ{æ›œæ—¥}ï¼‰ {HH}:{mm} ã€œ {HH}:{mm}

# è­°äº‹å†…å®¹

## æœ¬æ—¥ã®è­°é¡Œ

- [ ] è­°é¡Œ 1ï¼š{è­°é¡Œã‚¿ã‚¤ãƒˆãƒ« 1}
- [ ] è­°é¡Œ 2ï¼š{è­°é¡Œã‚¿ã‚¤ãƒˆãƒ« 2}

## è­°é¡Œ 1ï¼š{è­°é¡Œã‚¿ã‚¤ãƒˆãƒ« 1}

- {ç®‡æ¡æ›¸ãå†…å®¹ 1}
- {ç®‡æ¡æ›¸ãå†…å®¹ 2}

## è­°é¡Œ 2ï¼š{è­°é¡Œã‚¿ã‚¤ãƒˆãƒ« 2}

- {ç®‡æ¡æ›¸ãå†…å®¹ 1}
- {ç®‡æ¡æ›¸ãå†…å®¹ 2}
```

**å‡ºåŠ›ä¾‹**:
```markdown
# ç›®çš„ãƒ»èƒŒæ™¯

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—çŠ¶æ³ã‚’å…±æœ‰ã—ã€æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ±ºå®šã™ã‚‹å®šä¾‹ä¼šè­°

# æ—¥æ™‚

2025 å¹´ 11 æœˆ 11 æ—¥ï¼ˆæœˆï¼‰ 10:00 ã€œ 11:30

# å‚åŠ è€…

ãŸã¦ã•ã‚“ã€ä¸‡å£½æœ¬

# å®¿é¡Œäº‹é …

- UIé–‹ç™ºé–‹å§‹

# æ±ºå®šäº‹é …

- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆå®Œäº†

# æ¬¡å›ã®æ—¥æ™‚

æœªå®š

# è­°äº‹å†…å®¹

## æœ¬æ—¥ã®è­°é¡Œ

- [ ] è­°é¡Œ 1ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—å ±å‘Š

## è­°é¡Œ 1ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—å ±å‘Š

- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—ã«ã¤ã„ã¦å ±å‘Šã—ã¾ã™
- å…ˆé€±ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã‚’å®Œäº†ã—ã¾ã—ãŸ
```

### System Prompt

```
# å½¹å‰²å®šç¾©
ã‚ãªãŸã¯è­°äº‹éŒ²ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›ã®å°‚é–€å®¶ã§ã™ã€‚ä¼šè­°ã®å…¨ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ã€æŒ‡å®šã•ã‚ŒãŸMarkdownãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«å¾“ã£ã¦è­°äº‹éŒ²ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

# æ¥­å‹™ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
- **æ¥­å‹™ç›®æ¨™**: ä¼šè­°ã®å…¨æƒ…å ±ã‚’çµ±åˆã—ã€æ±ºã‚ã‚‰ã‚ŒãŸãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®è­°äº‹éŒ²ã‚’ç”Ÿæˆ
- **ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: Google Meetä¼šè­°ã®è‡ªå‹•è­°äº‹éŒ²ç”Ÿæˆ
- **ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«**:
  - ä¼šè­°ã®ç›®çš„ãƒ»èƒŒæ™¯ã¯ä¼šè©±ã®æµã‚Œã‹ã‚‰æ¨æ¸¬
  - å‚åŠ è€…æƒ…å ±ã¯ãƒ•ã‚¡ã‚¤ãƒ«åã€éŸ³å£°ã€Google Meetã‹ã‚‰çµ±åˆ
  - æ±ºå®šäº‹é …ã¨å®¿é¡Œäº‹é …ã¯å…¨è­°é¡Œã‹ã‚‰çµ±åˆ
  - æ¬¡å›ã®æ—¥æ™‚ã¯ä¼šè©±å†…ã§è¨€åŠãŒã‚ã‚Œã°è¨˜è¼‰

# å…¥åŠ›ãƒ‡ãƒ¼ã‚¿
- meeting_name: ä¼šè­°å
- agendas: è­°é¡Œåˆ¥ã®è©³ç´°æƒ…å ±ï¼ˆæ–‡å­—èµ·ã“ã—ã€åˆ†æçµæœï¼‰
  - agenda_id: è­°é¡ŒID
  - title: è­°é¡Œã‚¿ã‚¤ãƒˆãƒ«
  - lines: è©²å½“ã™ã‚‹æ–‡å­—èµ·ã“ã—
  - decisions: æ±ºå®šäº‹é …ãƒªã‚¹ãƒˆ
  - todos: å®¿é¡Œãƒªã‚¹ãƒˆ
  - pending: ä¿ç•™äº‹é …ãƒªã‚¹ãƒˆ
  - start_time: è­°é¡Œé–‹å§‹æ™‚åˆ»
  - end_time: è­°é¡Œçµ‚äº†æ™‚åˆ»
- metadata: ãƒ•ã‚¡ã‚¤ãƒ«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆæ—¥æ™‚ã€å‚åŠ è€…ã€ãƒ•ã‚¡ã‚¤ãƒ«åï¼‰

# ã‚¿ã‚¹ã‚¯
1. ä¼šè­°ã®ç›®çš„ãƒ»èƒŒæ™¯ã‚’ä¼šè©±ã‹ã‚‰æ¨æ¸¬
2. æ—¥æ™‚æƒ…å ±ã‚’ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰æŠ½å‡ºãƒ»æ•´å½¢
3. å‚åŠ è€…æƒ…å ±ã‚’çµ±åˆï¼ˆãƒ•ã‚¡ã‚¤ãƒ«å + éŸ³å£° + Google Meetï¼‰
4. å…¨è­°é¡Œã‹ã‚‰å®¿é¡Œäº‹é …ã‚’çµ±åˆ
5. å…¨è­°é¡Œã‹ã‚‰æ±ºå®šäº‹é …ã‚’çµ±åˆ
6. æ¬¡å›ã®æ—¥æ™‚ã‚’ä¼šè©±ã‹ã‚‰æŠ½å‡ºï¼ˆè¨€åŠãŒã‚ã‚Œã°ï¼‰
7. è­°é¡Œã”ã¨ã«å†…å®¹ã‚’ç®‡æ¡æ›¸ãæ•´ç†
8. æŒ‡å®šãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«å¾“ã£ã¦Markdownã‚’ç”Ÿæˆ

# å‡ºåŠ›å½¢å¼
ä»¥ä¸‹ã®Markdownãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§å‡ºåŠ›ã—ã¦ãã ã•ã„ï¼š

```markdown
# ç›®çš„ãƒ»èƒŒæ™¯

{AI ãŒæŠ½å‡ºã—ãŸä¼šè­°ã®ç›®çš„}

# æ—¥æ™‚

{YYYY} å¹´ {MM} æœˆ {DD} æ—¥ï¼ˆ{æ›œæ—¥}ï¼‰ {HH}:{mm} ã€œ {HH}:{mm}

# å‚åŠ è€…

{ãƒ•ã‚¡ã‚¤ãƒ«å + éŸ³å£° + Google Meet ã‹ã‚‰çµ±åˆã—ãŸå‚åŠ è€…}

# å®¿é¡Œäº‹é …

- {å®¿é¡Œ 1}
- {å®¿é¡Œ 2}

# æ±ºå®šäº‹é …

- {æ±ºå®šäº‹é … 1}
- {æ±ºå®šäº‹é … 2}

# æ¬¡å›ã®æ—¥æ™‚

{YYYY} å¹´ {MM} æœˆ {DD} æ—¥ï¼ˆ{æ›œæ—¥}ï¼‰ {HH}:{mm} ã€œ {HH}:{mm}

# è­°äº‹å†…å®¹

## æœ¬æ—¥ã®è­°é¡Œ

- [ ] è­°é¡Œ 1ï¼š{è­°é¡Œã‚¿ã‚¤ãƒˆãƒ« 1}
- [ ] è­°é¡Œ 2ï¼š{è­°é¡Œã‚¿ã‚¤ãƒˆãƒ« 2}

## è­°é¡Œ 1ï¼š{è­°é¡Œã‚¿ã‚¤ãƒˆãƒ« 1}

- {ç®‡æ¡æ›¸ãå†…å®¹ 1}
- {ç®‡æ¡æ›¸ãå†…å®¹ 2}

## è­°é¡Œ 2ï¼š{è­°é¡Œã‚¿ã‚¤ãƒˆãƒ« 2}

- {ç®‡æ¡æ›¸ãå†…å®¹ 1}
- {ç®‡æ¡æ›¸ãå†…å®¹ 2}
```

# åˆ¶ç´„äº‹é …
- å¿…ãšä¸Šè¨˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’å³å®ˆ
- Markdownè¨˜æ³•ã‚’æ­£ã—ãä½¿ç”¨
- ç®‡æ¡æ›¸ãã¯ç°¡æ½”ã«ï¼ˆ1é …ç›®50æ–‡å­—ä»¥å†…æ¨å¥¨ï¼‰
- æ¬¡å›ã®æ—¥æ™‚ãŒãªã„å ´åˆã¯ã€Œæœªå®šã€ã¨è¨˜è¼‰
```

### Few-shot Examples

**ã‚¿ã‚¹ã‚¯è¤‡é›‘åº¦**: é«˜ï¼ˆå…¨ãƒ‡ãƒ¼ã‚¿çµ±åˆã€Markdownãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›ï¼‰
**Few-shotæ•°**: 2å€‹ï¼ˆæ¨å¥¨ï¼‰

#### Example 1: å®Œå…¨ãªè­°äº‹éŒ²ç”Ÿæˆ

**å…¥åŠ›**:
```json
{
  "meeting_name": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®šä¾‹ä¼šè­°",
  "agendas": [
    {
      "agenda_id": 1,
      "title": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—å ±å‘Š",
      "lines": [
        {"line_id": 1, "content": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—ã«ã¤ã„ã¦å ±å‘Šã—ã¾ã™", "speaker": "Speaker A", "timestamp": "00:01:20"},
        {"line_id": 2, "content": "å…ˆé€±ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã‚’å®Œäº†ã—ã¾ã—ãŸ", "speaker": "Speaker A", "timestamp": "00:01:35"}
      ],
      "decisions": ["ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆå®Œäº†"],
      "todos": ["UIé–‹ç™ºé–‹å§‹"],
      "pending": [],
      "start_time": "00:01:20",
      "end_time": "00:05:00"
    }
  ],
  "metadata": {
    "filename": "2025-11-11 è¿‘æ³å…±æœ‰ä¼š@ãŸã¦ã•ã‚“ãƒ»ä¸‡å£½æœ¬.mp4",
    "date": "2025-11-11",
    "participants": ["ãŸã¦ã•ã‚“", "ä¸‡å£½æœ¬"],
    "duration": "01:30:45"
  }
}
```

**å‡ºåŠ›**:
```markdown
# ç›®çš„ãƒ»èƒŒæ™¯

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—çŠ¶æ³ã‚’å…±æœ‰ã—ã€æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ±ºå®šã™ã‚‹å®šä¾‹ä¼šè­°

# æ—¥æ™‚

2025 å¹´ 11 æœˆ 11 æ—¥ï¼ˆæœˆï¼‰ 10:00 ã€œ 11:30

# å‚åŠ è€…

ãŸã¦ã•ã‚“ã€ä¸‡å£½æœ¬

# å®¿é¡Œäº‹é …

- UIé–‹ç™ºé–‹å§‹

# æ±ºå®šäº‹é …

- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆå®Œäº†

# æ¬¡å›ã®æ—¥æ™‚

æœªå®š

# è­°äº‹å†…å®¹

## æœ¬æ—¥ã®è­°é¡Œ

- [ ] è­°é¡Œ 1ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—å ±å‘Š

## è­°é¡Œ 1ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—å ±å‘Š

- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—ã«ã¤ã„ã¦å ±å‘Šã—ã¾ã™
- å…ˆé€±ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã‚’å®Œäº†ã—ã¾ã—ãŸ
```

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥

| ã‚¨ãƒ©ãƒ¼ç¨®é¡ | å¯¾å¿œç­– | ãƒªãƒˆãƒ©ã‚¤ | ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ |
|-----------|-------|---------|--------------|
| ãƒˆãƒ¼ã‚¯ãƒ³è¶…é | è­°é¡Œã‚’åˆ†å‰²ã—ã¦æ®µéšç”Ÿæˆ | 1å› | ã‚¨ãƒ©ãƒ¼é€šçŸ¥ |
| APIã‚¨ãƒ©ãƒ¼ | Wait 2s â†’ å†å®Ÿè¡Œ | æœ€å¤§3å› | Claude 3.7 Opusã«åˆ‡ã‚Šæ›¿ãˆ |
| ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ | ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ60s â†’ 120sã«å»¶é•· | 1å› | ã‚¨ãƒ©ãƒ¼é€šçŸ¥ |
| ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚¨ãƒ©ãƒ¼ | System Promptå¼·åŒ–ç‰ˆã§å†å®Ÿè¡Œ | 1å› | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ |

**é€šçŸ¥æˆ¦ç•¥**:
- ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚: Discord #ai-errors ã«é€šçŸ¥
- ãƒªãƒˆãƒ©ã‚¤æˆåŠŸæ™‚: ãƒ­ã‚°è¨˜éŒ²ã®ã¿
- å®Œå…¨å¤±æ•—æ™‚: Discord #errors ã«é€šçŸ¥

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶**:
- ç›®æ¨™å‡¦ç†æ™‚é–“: 30-60ç§’
- æœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³: å…¥åŠ› 10,000 tokensã€å‡ºåŠ› 5,000 tokens
- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ: 60ç§’ï¼ˆåˆå›ï¼‰ã€120ç§’ï¼ˆãƒªãƒˆãƒ©ã‚¤æ™‚ï¼‰

---

## AI Agent Step6: å“è³ªä¿è¨¼

### åŸºæœ¬æƒ…å ±

- **é…ç½®ã‚°ãƒ«ãƒ¼ãƒ—**: Group 9
- **é…ç½®å±¤**: Layer 5 (Core Logic)
- **å½¹å‰²**: ç”Ÿæˆã•ã‚ŒãŸè­°äº‹éŒ²ã®å®Œå…¨æ€§ã‚’æ¤œè¨¼ã—ã€ä¸è¶³é …ç›®ãŒã‚ã‚Œã°è£œå®Œã™ã‚‹
- **å˜ä¸€è²¬å‹™ãƒã‚§ãƒƒã‚¯**: âœ… å“è³ªä¿è¨¼ã‚¿ã‚¹ã‚¯ã«ç‰¹åŒ–
- **ä¸¦åˆ—å‡¦ç†**: ãªã—ï¼ˆå…¨ä½“æ¤œè¨¼ãŒå¿…è¦ï¼‰
- **AI Model**: Claude Sonnet 4.5
- **Memoryä½¿ç”¨**: ã‚ã‚Šï¼ˆ`step6_memory` - æ¤œè¨¼ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¿æŒï¼‰

### ãƒãƒ¼ãƒ‰æ§‹æˆï¼ˆStep030æº–æ‹ ï¼‰

**ãƒ¡ã‚¤ãƒ³ãƒãƒ¼ãƒ‰**:
- ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—: `@n8n/n8n-nodes-langchain.agent`
- typeVersion: `3`
- promptType: `define`

**Chat Modelï¼ˆSub-nodeï¼‰**:
- ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—: `@n8n/n8n-nodes-langchain.lmChatAnthropic`
- typeVersion: `1`
- ãƒ¢ãƒ‡ãƒ«: `claude-4-5-sonnet-20250929`
- Temperature: `0.4`
- maxOutputTokens: `8000`

**Memoryï¼ˆSub-nodeï¼‰**:
- ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—: `@n8n/n8n-nodes-langchain.memoryBufferWindow`
- typeVersion: `1.3`
- sessionIdType: `customKey`
- sessionKey: `step6_memory`
- contextWindowLength: `10`

**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¨­å®š**:
```json
{
  "onError": "continueRegularOutput",
  "retryOnFail": true,
  "maxTries": 3,
  "waitBetweenTries": 2000
}
```

### å…¥å‡ºåŠ›ä»•æ§˜

#### å…¥åŠ›ä»•æ§˜

**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**: Step5ã®Markdownè­°äº‹éŒ² + Step1-4ã®å…¨ãƒ‡ãƒ¼ã‚¿

**JSON Schema**:
```json
{
  "type": "object",
  "required": ["markdown", "source_data"],
  "properties": {
    "markdown": {
      "type": "string",
      "minLength": 100,
      "description": "Step5ã§ç”Ÿæˆã•ã‚ŒãŸMarkdownè­°äº‹éŒ²"
    },
    "source_data": {
      "type": "object",
      "description": "Step1-4ã®å…¨ãƒ‡ãƒ¼ã‚¿ï¼ˆæ¤œè¨¼ç”¨ï¼‰",
      "properties": {
        "agendas": {"type": "array"},
        "all_lines": {"type": "array"},
        "metadata": {"type": "object"}
      }
    }
  }
}
```

**å…¥åŠ›ä¾‹**:
```json
{
  "markdown": "# ç›®çš„ãƒ»èƒŒæ™¯\n\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—çŠ¶æ³ã‚’å…±æœ‰...",
  "source_data": {
    "agendas": [
      {
        "agenda_id": 1,
        "title": "é€²æ—å ±å‘Š",
        "decisions": ["ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆå®Œäº†"],
        "todos": ["UIé–‹ç™ºé–‹å§‹"]
      }
    ],
    "all_lines": [...],
    "metadata": {
      "participants": ["ãŸã¦ã•ã‚“", "ä¸‡å£½æœ¬", "Speaker C"]
    }
  }
}
```

#### å‡ºåŠ›ä»•æ§˜

**å‡ºåŠ›å½¢å¼**: æ¤œè¨¼æ¸ˆã¿Markdownè­°äº‹éŒ² + æ¤œè¨¼ãƒ¬ãƒãƒ¼ãƒˆ

**JSON Schema**:
```json
{
  "type": "object",
  "required": ["markdown", "validation_report"],
  "properties": {
    "markdown": {
      "type": "string",
      "description": "æ¤œè¨¼ãƒ»è£œå®Œæ¸ˆã¿ã®Markdownè­°äº‹éŒ²"
    },
    "validation_report": {
      "type": "object",
      "required": ["status", "checks", "fixes_applied"],
      "properties": {
        "status": {
          "type": "string",
          "enum": ["pass", "fixed", "warning"],
          "description": "æ¤œè¨¼çµæœã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"
        },
        "checks": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "check_name": {"type": "string"},
              "result": {"type": "string", "enum": ["pass", "fail", "fixed"]},
              "detail": {"type": "string"}
            }
          }
        },
        "fixes_applied": {
          "type": "array",
          "items": {"type": "string"},
          "description": "é©ç”¨ã•ã‚ŒãŸä¿®æ­£å†…å®¹"
        }
      }
    }
  }
}
```

**å‡ºåŠ›ä¾‹**:
```json
{
  "markdown": "# ç›®çš„ãƒ»èƒŒæ™¯\n\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²æ—çŠ¶æ³ã‚’å…±æœ‰ã—...",
  "validation_report": {
    "status": "fixed",
    "checks": [
      {"check_name": "ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ•´åˆæ€§", "result": "pass", "detail": "å…¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ­£å¸¸"},
      {"check_name": "æƒ…å ±å®Œå…¨æ€§", "result": "fixed", "detail": "å‚åŠ è€…1åè¿½åŠ "},
      {"check_name": "è«–ç†ä¸€è²«æ€§", "result": "pass", "detail": "æ±ºå®šäº‹é …ãƒ»å®¿é¡Œã®æ•´åˆæ€§ç¢ºèª"}
    ],
    "fixes_applied": [
      "å‚åŠ è€…ã«ã€ŒSpeaker Cã€ã‚’è¿½åŠ ",
      "è­°é¡Œ2ã®ç®‡æ¡æ›¸ãã‚’2é …ç›®è¿½åŠ "
    ]
  }
}
```

### System Prompt

```
# å½¹å‰²å®šç¾©
ã‚ãªãŸã¯è­°äº‹éŒ²å“è³ªä¿è¨¼ã®å°‚é–€å®¶ã§ã™ã€‚ç”Ÿæˆã•ã‚ŒãŸè­°äº‹éŒ²ã®å®Œå…¨æ€§ã‚’æ¤œè¨¼ã—ã€ä¸è¶³é …ç›®ãŒã‚ã‚Œã°è£œå®Œã—ã¾ã™ã€‚

# æ¥­å‹™ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
- **æ¥­å‹™ç›®æ¨™**: è­°äº‹éŒ²ã®å“è³ªã‚’ä¿è¨¼ã—ã€ãƒ“ã‚¸ãƒã‚¹è¦ä»¶ã‚’100%æº€ãŸã™
- **ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: Google Meetä¼šè­°ã®è‡ªå‹•è­°äº‹éŒ²ç”Ÿæˆ
- **ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«**:
  - ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ•´åˆæ€§: æŒ‡å®šãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’100%éµå®ˆ
  - æƒ…å ±å®Œå…¨æ€§: ã™ã¹ã¦ã®å‚åŠ è€…ã€æ±ºå®šäº‹é …ã€å®¿é¡ŒãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹
  - è«–ç†ä¸€è²«æ€§: è­°é¡Œã¨å†…å®¹ã€æ±ºå®šäº‹é …ã¨å®¿é¡Œã®æ•´åˆæ€§

# å…¥åŠ›ãƒ‡ãƒ¼ã‚¿
- markdown: Step5ã§ç”Ÿæˆã•ã‚ŒãŸMarkdownè­°äº‹éŒ²
- source_data: Step1-4ã®å…¨ãƒ‡ãƒ¼ã‚¿ï¼ˆæ¤œè¨¼ç”¨ï¼‰
  - agendas: å…¨è­°é¡Œåˆ†æçµæœ
  - all_lines: å…¨æ–‡å­—èµ·ã“ã—
  - metadata: ãƒ•ã‚¡ã‚¤ãƒ«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿

# ã‚¿ã‚¹ã‚¯
1. **ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ•´åˆæ€§ãƒã‚§ãƒƒã‚¯**:
   - å¿…é ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å­˜åœ¨ç¢ºèªï¼ˆç›®çš„ãƒ»èƒŒæ™¯ã€æ—¥æ™‚ã€å‚åŠ è€…ã€å®¿é¡Œäº‹é …ã€æ±ºå®šäº‹é …ã€è­°äº‹å†…å®¹ï¼‰
   - Markdownè¨˜æ³•ã®æ­£ã—ã•
   - ã‚»ã‚¯ã‚·ãƒ§ãƒ³é †åºã®ç¢ºèª

2. **æƒ…å ±å®Œå…¨æ€§ãƒã‚§ãƒƒã‚¯**:
   - å‚åŠ è€…æƒ…å ±ã®å®Œå…¨æ€§ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«å + éŸ³å£° + Google Meetã‹ã‚‰å…¨å“¡è¨˜è¼‰ï¼‰
   - æ±ºå®šäº‹é …ã®æ¼ã‚Œãƒã‚§ãƒƒã‚¯ï¼ˆå…¨è­°é¡Œã‹ã‚‰æŠ½å‡ºï¼‰
   - å®¿é¡Œäº‹é …ã®æ¼ã‚Œãƒã‚§ãƒƒã‚¯ï¼ˆå…¨è­°é¡Œã‹ã‚‰æŠ½å‡ºï¼‰
   - è­°é¡Œã®æ¼ã‚Œãƒã‚§ãƒƒã‚¯ï¼ˆå…¨è­°é¡ŒãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã‹ï¼‰

3. **è«–ç†ä¸€è²«æ€§ãƒã‚§ãƒƒã‚¯**:
   - è­°é¡Œã‚¿ã‚¤ãƒˆãƒ«ã¨å†…å®¹ã®æ•´åˆæ€§
   - æ±ºå®šäº‹é …ã¨è­°äº‹å†…å®¹ã®æ•´åˆæ€§
   - å®¿é¡Œäº‹é …ã¨è­°äº‹å†…å®¹ã®æ•´åˆæ€§

4. **ä¸è¶³é …ç›®ã®è£œå®Œ**:
   - source_dataã‹ã‚‰ä¸è¶³æƒ…å ±ã‚’æŠ½å‡º
   - Markdownã«è¿½åŠ ãƒ»ä¿®æ­£ã‚’é©ç”¨

5. **æ¤œè¨¼ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ**:
   - å„ãƒã‚§ãƒƒã‚¯é …ç›®ã®çµæœ
   - é©ç”¨ã—ãŸä¿®æ­£å†…å®¹

# å‡ºåŠ›å½¢å¼
ä»¥ä¸‹ã®JSONå½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ï¼š
```json
{
  "markdown": "æ¤œè¨¼ãƒ»è£œå®Œæ¸ˆã¿ã®Markdownè­°äº‹éŒ²",
  "validation_report": {
    "status": "pass|fixed|warning",
    "checks": [
      {"check_name": "ãƒã‚§ãƒƒã‚¯å", "result": "pass|fail|fixed", "detail": "è©³ç´°"}
    ],
    "fixes_applied": ["ä¿®æ­£å†…å®¹1", "ä¿®æ­£å†…å®¹2"]
  }
}
```

# åˆ¶ç´„äº‹é …
- å¿…ãšJSONå½¢å¼ã§å‡ºåŠ›
- markdownã¯æ¤œè¨¼ãƒ»è£œå®Œæ¸ˆã¿ã®æœ€çµ‚ç‰ˆ
- validation_reportã§å…¨ãƒã‚§ãƒƒã‚¯é …ç›®ã‚’å ±å‘Š
- fixes_appliedã§é©ç”¨ã—ãŸä¿®æ­£ã‚’æ˜è¨˜
```

### Few-shot Examples

**ã‚¿ã‚¹ã‚¯è¤‡é›‘åº¦**: é«˜ï¼ˆå¤šæ¬¡å…ƒæ¤œè¨¼ã€è‡ªå‹•è£œå®Œï¼‰
**Few-shotæ•°**: 2å€‹ï¼ˆæ¨å¥¨ï¼‰

#### Example 1ï¼ˆè£œå®Œã‚ã‚Šï¼‰

**å…¥åŠ›**:
```json
{
  "markdown": "# ç›®çš„ãƒ»èƒŒæ™¯\n\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—å…±æœ‰\n\n# æ—¥æ™‚\n\n2025å¹´11æœˆ11æ—¥\n\n# å‚åŠ è€…\n\nãŸã¦ã•ã‚“ã€ä¸‡å£½æœ¬\n\n# å®¿é¡Œäº‹é …\n\n- UIé–‹ç™ºé–‹å§‹\n\n# æ±ºå®šäº‹é …\n\nï¼ˆãªã—ï¼‰\n\n...",
  "source_data": {
    "agendas": [
      {
        "agenda_id": 1,
        "title": "é€²æ—å ±å‘Š",
        "decisions": ["ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆå®Œäº†"],
        "todos": ["UIé–‹ç™ºé–‹å§‹"]
      }
    ],
    "metadata": {
      "participants": ["ãŸã¦ã•ã‚“", "ä¸‡å£½æœ¬", "Speaker C"]
    }
  }
}
```

**å‡ºåŠ›**:
```json
{
  "markdown": "# ç›®çš„ãƒ»èƒŒæ™¯\n\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—å…±æœ‰\n\n# æ—¥æ™‚\n\n2025å¹´11æœˆ11æ—¥ï¼ˆæœˆï¼‰\n\n# å‚åŠ è€…\n\nãŸã¦ã•ã‚“ã€ä¸‡å£½æœ¬ã€Speaker C\n\n# å®¿é¡Œäº‹é …\n\n- UIé–‹ç™ºé–‹å§‹\n\n# æ±ºå®šäº‹é …\n\n- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆå®Œäº†\n\n...",
  "validation_report": {
    "status": "fixed",
    "checks": [
      {"check_name": "ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ•´åˆæ€§", "result": "fixed", "detail": "æ—¥æ™‚ã«æ›œæ—¥ã‚’è¿½åŠ "},
      {"check_name": "æƒ…å ±å®Œå…¨æ€§", "result": "fixed", "detail": "å‚åŠ è€…1åè¿½åŠ ã€æ±ºå®šäº‹é …1ä»¶è¿½åŠ "},
      {"check_name": "è«–ç†ä¸€è²«æ€§", "result": "pass", "detail": "æ•´åˆæ€§ç¢ºèª"}
    ],
    "fixes_applied": [
      "æ—¥æ™‚ã«æ›œæ—¥ï¼ˆæœˆï¼‰ã‚’è¿½åŠ ",
      "å‚åŠ è€…ã«ã€ŒSpeaker Cã€ã‚’è¿½åŠ ",
      "æ±ºå®šäº‹é …ã«ã€Œãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆå®Œäº†ã€ã‚’è¿½åŠ "
    ]
  }
}
```

#### Example 2ï¼ˆå•é¡Œãªã—ï¼‰

**å…¥åŠ›**:
```json
{
  "markdown": "ï¼ˆå®Œç’§ãªMarkdownè­°äº‹éŒ²ï¼‰",
  "source_data": {...}
}
```

**å‡ºåŠ›**:
```json
{
  "markdown": "ï¼ˆå…¥åŠ›ã¨åŒã˜ï¼‰",
  "validation_report": {
    "status": "pass",
    "checks": [
      {"check_name": "ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ•´åˆæ€§", "result": "pass", "detail": "å…¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ­£å¸¸"},
      {"check_name": "æƒ…å ±å®Œå…¨æ€§", "result": "pass", "detail": "æƒ…å ±æ¼ã‚Œãªã—"},
      {"check_name": "è«–ç†ä¸€è²«æ€§", "result": "pass", "detail": "æ•´åˆæ€§ç¢ºèª"}
    ],
    "fixes_applied": []
  }
}
```

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥

| ã‚¨ãƒ©ãƒ¼ç¨®é¡ | å¯¾å¿œç­– | ãƒªãƒˆãƒ©ã‚¤ | ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ |
|-----------|-------|---------|--------------|
| ãƒˆãƒ¼ã‚¯ãƒ³è¶…é | æ¤œè¨¼é …ç›®ã‚’åˆ†å‰²å‡¦ç† | 1å› | ã‚¨ãƒ©ãƒ¼é€šçŸ¥ |
| APIã‚¨ãƒ©ãƒ¼ | Wait 2s â†’ å†å®Ÿè¡Œ | æœ€å¤§3å› | Claude 3.7 Opusã«åˆ‡ã‚Šæ›¿ãˆ |
| ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ | ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ60s â†’ 120sã«å»¶é•· | 1å› | ã‚¨ãƒ©ãƒ¼é€šçŸ¥ |
| æ¤œè¨¼å¤±æ•— | è­¦å‘Šãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ | ãªã— | å…ƒã®Markdownã‚’ãã®ã¾ã¾å‡ºåŠ› |

**é€šçŸ¥æˆ¦ç•¥**:
- ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚: Discord #ai-errors ã«é€šçŸ¥
- æ¤œè¨¼å¤±æ•—æ™‚: Discord #warnings ã«é€šçŸ¥
- ãƒªãƒˆãƒ©ã‚¤æˆåŠŸæ™‚: ãƒ­ã‚°è¨˜éŒ²ã®ã¿
- å®Œå…¨å¤±æ•—æ™‚: Discord #errors ã«é€šçŸ¥

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶**:
- ç›®æ¨™å‡¦ç†æ™‚é–“: 30-50ç§’
- æœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³: å…¥åŠ› 12,000 tokensã€å‡ºåŠ› 6,000 tokens
- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ: 60ç§’ï¼ˆåˆå›ï¼‰ã€120ç§’ï¼ˆãƒªãƒˆãƒ©ã‚¤æ™‚ï¼‰

---

## æ¬¡ã‚¹ãƒ†ãƒƒãƒ—ã¸ã®å¼•ãç¶™ãäº‹é …

### AI Agentç·æ•°
- **6å€‹**: Step1ï¼ˆæ–‡å­—èµ·ã“ã—æ•´å½¢ï¼‰ã€Step2ï¼ˆè­°é¡ŒæŠ½å‡ºï¼‰ã€Step3ï¼ˆè­°é¡Œåˆ¥ãƒãƒƒãƒ”ãƒ³ã‚°ï¼‰ã€Step4ï¼ˆè­°é¡Œåˆ†æï¼‰ã€Step5ï¼ˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›ï¼‰ã€Step6ï¼ˆå“è³ªä¿è¨¼ï¼‰

### é…ç½®ã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆStep040æº–æ‹ ï¼‰
- Group 3: AI Agent Step1ï¼ˆæ–‡å­—èµ·ã“ã—æ•´å½¢ - Geminiã€5ä¸¦åˆ—ï¼‰
- Group 4: AI Agent Step2ï¼ˆè­°é¡ŒæŠ½å‡º - Gemini + Memoryï¼‰
- Group 5: AI Agent Step3ï¼ˆè­°é¡Œåˆ¥ãƒãƒƒãƒ”ãƒ³ã‚° - Gemini + Memoryã€**Step020è¿½åŠ **ï¼‰
- Group 6: è­°é¡Œãƒ‡ãƒ¼ã‚¿å†æ§‹æˆï¼ˆCode Node - AI Agentãªã—ï¼‰
- Group 7: AI Agent Step4ï¼ˆè­°é¡Œåˆ†æ - Geminiã€3ä¸¦åˆ—ï¼‰
- Group 8: AI Agent Step5ï¼ˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ› - Claude + Memoryï¼‰
- Group 9: AI Agent Step6ï¼ˆå“è³ªä¿è¨¼ - Claude + Memoryï¼‰

### å¿…è¦ãªCredentials
- **Google Gemini API**: `GOOGLE_API_KEY` (Step1-4)
- **Anthropic Claude API**: `ANTHROPIC_API_KEY` (Step5-6)
- **Discord Webhook**: `DISCORD_WEBHOOK_URL` (ã‚¨ãƒ©ãƒ¼é€šçŸ¥)

### Memoryä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³
- **Memoryä½¿ç”¨**: Step2ï¼ˆè­°é¡ŒæŠ½å‡ºï¼‰ã€Step3ï¼ˆè­°é¡Œåˆ¥ãƒãƒƒãƒ”ãƒ³ã‚°ï¼‰ã€Step5ï¼ˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›ï¼‰ã€Step6ï¼ˆå“è³ªä¿è¨¼ï¼‰
- **Memoryä¸ä½¿ç”¨**: Step1ï¼ˆä¸¦åˆ—å‡¦ç†ï¼‰ã€Step4ï¼ˆä¸¦åˆ—å‡¦ç†ï¼‰

### Memory Session Key
- Step2: `step2_memory`
- Step3: `step3_memory`
- Step5: `step5_memory`
- Step6: `step6_memory`

### ã‚³ã‚¹ãƒˆè©¦ç®—ï¼ˆæœˆé–“20å›å‡¦ç†ã€Step020ã‚ˆã‚Šï¼‰

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | ãƒ¢ãƒ‡ãƒ« | ã‚³ã‚¹ãƒˆï¼ˆæœˆé–“ï¼‰ |
|-------------|-------|------------|
| æ–‡å­—èµ·ã“ã—ï¼ˆGroup 2ï¼‰ | Fireworks Whisper v3 | $2.52 (20å®Ÿè¡Œ Ã— $0.126) |
| AI Agent Step1-4 | Gemini Flash 2.5 | $12.56 (20å®Ÿè¡Œ Ã— $0.628) |
| AI Agent Step5-6 | Claude Sonnet 4.5 | $7.62 (20å®Ÿè¡Œ Ã— $0.381) |
| **ç·AIå‡¦ç†ã‚³ã‚¹ãƒˆ** | - | **ç´„$21.52/æœˆï¼ˆâ‰ˆÂ¥3,161/æœˆï¼‰** |

**Fireworksæ¡ç”¨ã«ã‚ˆã‚‹å‰Šæ¸›åŠ¹æœ**: å¾“æ¥Deepgramæ¯”93%å‰Šæ¸›ï¼ˆ$316.64/æœˆ â†’ $21.52/æœˆï¼‰

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™ï¼ˆStep020ã‚ˆã‚Šï¼‰
- **Fireworks Whisper v3**: 1æ™‚é–“éŸ³å£° â†’ 4ç§’ï¼ˆå¾“æ¥45ç§’æ¯”91%å‰Šæ¸›ï¼‰
- **Step1**: ãƒãƒ£ãƒ³ã‚¯ã‚ãŸã‚Š10ç§’ä»¥å†…ï¼ˆ5ä¸¦åˆ—ï¼‰
- **Step2**: 20-30ç§’
- **Step3**: 30-60ç§’ï¼ˆStep020è¿½åŠ ã‚¹ãƒ†ãƒƒãƒ—ï¼‰
- **Step4**: è­°é¡Œã‚ãŸã‚Š10ç§’ä»¥å†…ï¼ˆ3ä¸¦åˆ—ï¼‰
- **Step5**: 30-60ç§’
- **Step6**: 30-50ç§’
- **ç·AIå‡¦ç†æ™‚é–“**: 2-3åˆ†ä»¥å†…ï¼ˆç›®æ¨™3åˆ†ä»¥å†… âœ…ï¼‰

### ç‰¹è¨˜äº‹é …

1. **å˜ä¸€è²¬å‹™ã®åŸå‰‡**: ã™ã¹ã¦ã®AI AgentãŒå˜ä¸€è²¬å‹™ã‚’å®ˆã‚Šã€1ã¤ã®æ˜ç¢ºãªç›®çš„ã‚’æŒã¤ âœ…

2. **ä¸¦åˆ—å‡¦ç†æˆ¦ç•¥**:
   - Step1ï¼ˆæ–‡å­—èµ·ã“ã—æ•´å½¢ï¼‰: 5ãƒãƒ£ãƒ³ã‚¯ä¸¦åˆ—ã€Memoryãªã—
   - Step4ï¼ˆè­°é¡Œåˆ†æï¼‰: 3è­°é¡Œä¸¦åˆ—ã€Memoryãªã—

3. **Memoryæˆ¦ç•¥**:
   - å…¨ä½“æ–‡è„ˆãŒå¿…è¦: Step2ã€Step3ã€Step5ã€Step6ã§Memoryä½¿ç”¨
   - ä¸¦åˆ—å‡¦ç†: Step1ã€Step4ã§ã¯Memoryä¸ä½¿ç”¨

4. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**:
   - ã™ã¹ã¦ã®AI Agentã§3å›ãƒªãƒˆãƒ©ã‚¤å®Ÿè£…ï¼ˆmaxTries=3ï¼‰
   - ã‚¨ãƒ©ãƒ¼æ™‚Discordé€šçŸ¥
   - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ¢ãƒ‡ãƒ«è¨­å®šï¼ˆGemini â†’ GPT-4o-miniã€Claude â†’ Opusï¼‰

5. **Step020è¿½åŠ ã‚¹ãƒ†ãƒƒãƒ—**:
   - Step3ï¼ˆè­°é¡Œåˆ¥ãƒãƒƒãƒ”ãƒ³ã‚°ï¼‰: è­°é¡Œã¨æ–‡å­—èµ·ã“ã—ã®æ­£ç¢ºãªãƒãƒƒãƒ”ãƒ³ã‚°
   - ã‚³ã‚¹ãƒˆå¢—: +$0.558/å®Ÿè¡Œ
   - å“è³ªå‘ä¸ŠåŠ¹æœ: è­°äº‹éŒ²ã®æ­£ç¢ºæ€§ã¨å®Œå…¨æ€§ãŒå¤§å¹…ã«å‘ä¸Š

6. **Fireworks Whisper v3æ¡ç”¨åŠ¹æœ**ï¼ˆStep010/020å¿…é ˆè¦ä»¶ï¼‰:
   - å‡¦ç†é€Ÿåº¦: 1æ™‚é–“éŸ³å£°ã‚’4ç§’ã§å‡¦ç†ï¼ˆGemini 45ç§’æ¯”91%å‰Šæ¸›ï¼‰
   - ã‚³ã‚¹ãƒˆ: $0.0021/åˆ†ï¼ˆDeepgramæ¯”99%å‰Šæ¸›ï¼‰
   - å“è³ª: æ¥­ç•Œæ¨™æº–Whisper v3ãƒ™ãƒ¼ã‚¹ã€è©±è€…åˆ†é›¢å¯¾å¿œã€æ—¥æœ¬èªæœ€é©åŒ–

---

**ä½œæˆæ‹…å½“**: Claude Code
**ä½œæˆæ—¥æ™‚**: 2025-11-12
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè²¬å‹™å®šç¾©æ›¸çµ±åˆæœ€çµ‚ç‰ˆå®Œæˆ - Step060æº–å‚™å®Œäº†
