{
  "name": "Group 1: ãƒ‡ãƒ¼ã‚¿å—ä¿¡ãƒ»æ¤œè¨¼",
  "nodes": [
    {
      "id": "trigger_g1_01",
      "type": "n8n-nodes-base.googleDriveTrigger",
      "name": "M4Aãƒ•ã‚¡ã‚¤ãƒ«æ¤œçŸ¥",
      "typeVersion": 1,
      "position": [200, 300],
      "parameters": {
        "triggerOn": "specificFolder",
        "folderToWatch": {
          "mode": "list",
          "value": "1Ddh7AFQooIcogKZeLNnWPqzrq2DX97QH"
        },
        "event": "fileCreated",
        "options": {
          "fileType": "audio/m4a"
        }
      },
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "google_drive_oauth2",
          "name": "Google Drive OAuth2"
        }
      },
      "_comment": "5åˆ†ã”ã¨ã«Google Driveã‚’ãƒãƒ¼ãƒªãƒ³ã‚°ã—ã€æ–°è¦M4Aãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œçŸ¥ã—ã¾ã™ã€‚ç›£è¦–ãƒ•ã‚©ãƒ«ãƒ€ã¯2ã¤ï¼ˆGoogle MeetéŒ²ç”»ä¿å­˜å…ˆã€æ‰‹å‹•ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¿å­˜å…ˆï¼‰ã€‚ãƒãƒ¼ãƒªãƒ³ã‚°é–“éš”ã¯ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­å®šã§5åˆ†ã«è¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚",
      "notes": "triggerOn: specificFolder | event: fileCreated | fileType filter: audio/m4a | ãƒãƒ¼ãƒªãƒ³ã‚°: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­å®šã§5åˆ†é–“éš” | ç›£è¦–ãƒ•ã‚©ãƒ«ãƒ€: 2å€‹ï¼ˆMeetéŒ²ç”»ä¿å­˜å…ˆ + æ‰‹å‹•ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¿å­˜å…ˆï¼‰"
    },
    {
      "id": "get_file_g1_02",
      "type": "n8n-nodes-base.googleDrive",
      "name": "ãƒ•ã‚¡ã‚¤ãƒ«æƒ…å ±å–å¾—",
      "typeVersion": 3,
      "position": [400, 300],
      "parameters": {
        "resource": "file",
        "operation": "get",
        "fileId": {
          "__rl": true,
          "value": "={{ $json.id }}",
          "mode": "id"
        }
      },
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "google_drive_oauth2",
          "name": "Google Drive OAuth2"
        }
      },
      "_comment": "ãƒˆãƒªã‚¬ãƒ¼ã§æ¤œçŸ¥ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«IDã‚’ä½¿ç”¨ã—ã¦ã€Google Driveã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆåå‰ã€MIME Typeã€ã‚µã‚¤ã‚ºã€ä½œæˆæ—¥æ™‚ã€æ‰€æœ‰è€…ãªã©ï¼‰ã‚’å–å¾—ã—ã¾ã™ã€‚ã“ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã¯å¾Œç¶šã®æ¤œè¨¼ã¨ãƒ¡ã‚¿æƒ…å ±åˆæœŸåŒ–ã§ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚",
      "notes": "resource: file | operation: get | fileId: ={{ $json.id }} | å–å¾—æƒ…å ±: name, mimeType, size, createdTime, owners"
    },
    {
      "id": "download_g1_03",
      "type": "n8n-nodes-base.googleDrive",
      "name": "M4Aãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰",
      "typeVersion": 3,
      "position": [600, 300],
      "parameters": {
        "resource": "file",
        "operation": "download",
        "fileId": {
          "__rl": true,
          "value": "={{ $json.id }}",
          "mode": "id"
        },
        "options": {
          "binaryPropertyName": "m4a_data"
        }
      },
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "google_drive_oauth2",
          "name": "Google Drive OAuth2"
        }
      },
      "_comment": "M4Aãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã€'m4a_data'ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã§ä¿å­˜ã—ã¾ã™ã€‚æœ€å¤§1GBã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚ã“ã®ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿ã¯Group 2ã®Fireworks Whisper v3æ–‡å­—èµ·ã“ã—APIã«é€ä¿¡ã•ã‚Œã¾ã™ã€‚",
      "notes": "resource: file | operation: download | binaryPropertyName: m4a_data | æœ€å¤§ã‚µã‚¤ã‚º: 1GB | æ¬¡å‡¦ç†: Group 2 Fireworks Whisper v3ã¸"
    },
    {
      "id": "set_meta_g1_04",
      "type": "n8n-nodes-base.set",
      "name": "åˆæœŸãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¨­å®š",
      "typeVersion": 3,
      "position": [800, 300],
      "parameters": {
        "mode": "manual",
        "duplicateItem": false,
        "assignments": {
          "assignments": [
            {
              "id": "meta_owner",
              "name": "owner",
              "type": "string",
              "value": "={{ $json.owners[0].emailAddress }}"
            },
            {
              "id": "meta_meeting_name",
              "name": "meeting_name",
              "type": "string",
              "value": "={{ $json.name.replace('.m4a', '') }}"
            },
            {
              "id": "meta_timestamp",
              "name": "timestamp",
              "type": "string",
              "value": "={{ $json.createdTime }}"
            },
            {
              "id": "meta_file_id",
              "name": "file_id",
              "type": "string",
              "value": "={{ $json.id }}"
            },
            {
              "id": "meta_file_size",
              "name": "file_size_bytes",
              "type": "number",
              "value": "={{ $json.size }}"
            }
          ]
        }
      },
      "_comment": "ãƒ•ã‚¡ã‚¤ãƒ«æ‰€æœ‰è€…ï¼ˆownerï¼‰ã€ä¼šè­°åï¼ˆmeeting_nameï¼‰ã€ä½œæˆã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ï¼ˆtimestampï¼‰ãªã©ã®åˆæœŸãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¨­å®šã—ã¾ã™ã€‚ã“ã‚Œã‚‰ã®æƒ…å ±ã¯ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å…¨ä½“ã§ä½¿ç”¨ã•ã‚Œã€æœ€çµ‚çš„ãªè­°äº‹éŒ²ã®ãƒ˜ãƒƒãƒ€ãƒ¼æƒ…å ±ã‚„ç›£æŸ»ãƒ­ã‚°ã«å«ã¾ã‚Œã¾ã™ã€‚",
      "notes": "mode: manual | assignments: 5å€‹ (owner, meeting_name, timestamp, file_id, file_size_bytes) | owner: æ‰€æœ‰è€…ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ | meeting_name: ãƒ•ã‚¡ã‚¤ãƒ«åã‹ã‚‰.m4aé™¤å»"
    },
    {
      "id": "filter_g1_05",
      "type": "n8n-nodes-base.filter",
      "name": "ãƒ•ã‚¡ã‚¤ãƒ«å¦¥å½“æ€§ãƒã‚§ãƒƒã‚¯",
      "typeVersion": 2.2,
      "position": [1000, 300],
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "condition_mime_type",
              "leftValue": "={{ $json.mimeType }}",
              "rightValue": "audio/m4a",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            },
            {
              "id": "condition_file_size",
              "leftValue": "={{ $json.file_size_bytes }}",
              "rightValue": "1073741824",
              "operator": {
                "type": "number",
                "operation": "lt"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "_comment": "MIME TypeãŒ'audio/m4a'ã§ã‚ã‚‹ã“ã¨ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒ1GBï¼ˆ1073741824ãƒã‚¤ãƒˆï¼‰æœªæº€ã§ã‚ã‚‹ã“ã¨ã‚’æ¤œè¨¼ã—ã¾ã™ã€‚æ¤œè¨¼ã«å¤±æ•—ã—ãŸå ´åˆã€ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã¯ã“ã“ã§åœæ­¢ã—ã€Error Group 1ï¼ˆå…¥åŠ›/æ¤œè¨¼ã‚¨ãƒ©ãƒ¼ï¼‰ãŒãƒˆãƒªã‚¬ãƒ¼ã•ã‚Œã¾ã™ã€‚",
      "notes": "typeVersion: 2.2 | combinator: and | æ¡ä»¶1: mimeType = audio/m4a | æ¡ä»¶2: file_size < 1GB | å¤±æ•—æ™‚: Error Group 1ãƒˆãƒªã‚¬ãƒ¼ï¼ˆåˆ¥ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰"
    },
    {
      "id": "code_normalize_g1_06",
      "type": "n8n-nodes-base.code",
      "name": "ãƒ•ã‚¡ã‚¤ãƒ«åæ­£è¦åŒ–",
      "typeVersion": 2,
      "position": [1200, 300],
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "// ãƒ•ã‚¡ã‚¤ãƒ«åæ­£è¦åŒ–ã¨ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãƒ‘ãƒ¼ã‚¹\nconst items = $input.all();\nconst normalizedItems = [];\n\nfor (const item of items) {\n  const meetingName = item.json.meeting_name;\n  const timestamp = item.json.timestamp;\n  \n  // ãƒ•ã‚¡ã‚¤ãƒ«åã‹ã‚‰æ—¥æ™‚æƒ…å ±ã‚’æŠ½å‡ºï¼ˆä¾‹: \"2024-01-15_14-30_å®šä¾‹ä¼šè­°.m4a\"ï¼‰\n  const datePattern = /(\\d{4})-(\\d{2})-(\\d{2})_(\\d{2})-(\\d{2})/;\n  const match = meetingName.match(datePattern);\n  \n  let parsedDate = null;\n  let cleanMeetingName = meetingName;\n  \n  if (match) {\n    const [_, year, month, day, hour, minute] = match;\n    parsedDate = `${year}-${month}-${day}T${hour}:${minute}:00Z`;\n    cleanMeetingName = meetingName.replace(datePattern, '').trim().replace(/^_+|_+$/g, '');\n  }\n  \n  normalizedItems.push({\n    json: {\n      ...item.json,\n      meeting_name: cleanMeetingName,\n      meeting_date: parsedDate || timestamp,\n      original_filename: meetingName\n    },\n    binary: item.binary\n  });\n}\n\nreturn normalizedItems;"
      },
      "_comment": "ãƒ•ã‚¡ã‚¤ãƒ«åã‚’æ­£è¦åŒ–ã—ã€ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—æƒ…å ±ã‚’æŠ½å‡ºã—ã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«åãŒã€ŒYYYY-MM-DD_HH-MM_ä¼šè­°åã€å½¢å¼ã®å ´åˆã€æ—¥æ™‚æƒ…å ±ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã¦ç‹¬ç«‹ã—ãŸãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆmeeting_dateï¼‰ã«æ ¼ç´ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€å¾Œç¶šã®AIå‡¦ç†ã§ä¼šè­°æ—¥æ™‚ã‚’æ­£ç¢ºã«èªè­˜ã§ãã¾ã™ã€‚",
      "notes": "mode: runOnceForAllItems | å‡¦ç†: ãƒ•ã‚¡ã‚¤ãƒ«åãƒ‘ãƒ¼ã‚¹ï¼ˆYYYY-MM-DD_HH-MMå½¢å¼ï¼‰ | å‡ºåŠ›: meeting_nameï¼ˆæ­£è¦åŒ–ï¼‰ã€meeting_dateï¼ˆãƒ‘ãƒ¼ã‚¹æ¸ˆæ—¥æ™‚ï¼‰ã€original_filename | ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿: ä¿æŒ"
    },
    {
      "id": "sticky_g1",
      "type": "n8n-nodes-base.stickyNote",
      "name": "Group 1: ãƒ‡ãƒ¼ã‚¿å—ä¿¡ãƒ»æ¤œè¨¼",
      "typeVersion": 1,
      "position": [140, 140],
      "parameters": {
        "content": "## Group 1: ãƒ‡ãƒ¼ã‚¿å—ä¿¡ãƒ»æ¤œè¨¼\n\n**ç›®çš„**: Google Driveã‹ã‚‰M4Aãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œçŸ¥ã—ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»æ¤œè¨¼ã‚’è¡Œã†\n\n### ğŸ¯ ã“ã®ã‚°ãƒ«ãƒ¼ãƒ—ã®å½¹å‰²\n- **L1 (Trigger)**: 5åˆ†é–“éš”ã§Google Driveã‚’ãƒãƒ¼ãƒªãƒ³ã‚°\n- **L2 (Input)**: ãƒ•ã‚¡ã‚¤ãƒ«æƒ…å ±å–å¾—ã¨ãƒã‚¤ãƒŠãƒªãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n- **L3 (Validation)**: MIME Typeãƒ»ã‚µã‚¤ã‚ºæ¤œè¨¼ã€ãƒ•ã‚¡ã‚¤ãƒ«åæ­£è¦åŒ–\n\n### ğŸ“¦ ã“ã®ã‚°ãƒ«ãƒ¼ãƒ—ã«å«ã¾ã‚Œã‚‹ãƒãƒ¼ãƒ‰\n\n**1. M4Aãƒ•ã‚¡ã‚¤ãƒ«æ¤œçŸ¥** (trigger_g1_01)\n- ã‚¿ã‚¤ãƒ—: Google Drive Trigger\n- å½¹å‰²: ç›£è¦–ãƒ•ã‚©ãƒ«ãƒ€ã§æ–°è¦M4Aãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œçŸ¥\n- è¨­å®š: specificFolderã€fileCreatedã€5åˆ†ãƒãƒ¼ãƒªãƒ³ã‚°\n\n**2. ãƒ•ã‚¡ã‚¤ãƒ«æƒ…å ±å–å¾—** (get_file_g1_02)\n- ã‚¿ã‚¤ãƒ—: Google Drive (Get File)\n- å½¹å‰²: ãƒ•ã‚¡ã‚¤ãƒ«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆåå‰ã€ã‚µã‚¤ã‚ºã€MIMEã€æ‰€æœ‰è€…ï¼‰\n- å‡ºåŠ›: name, mimeType, size, createdTime, owners\n\n**3. M4Aãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰** (download_g1_03)\n- ã‚¿ã‚¤ãƒ—: Google Drive (Download)\n- å½¹å‰²: M4Aãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\n- è¨­å®š: binaryPropertyName=m4a_dataã€æœ€å¤§1GB\n\n**4. åˆæœŸãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¨­å®š** (set_meta_g1_04)\n- ã‚¿ã‚¤ãƒ—: Set\n- å½¹å‰²: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å…¨ä½“ã§ä½¿ç”¨ã™ã‚‹åˆæœŸãƒ¡ã‚¿æƒ…å ±è¨­å®š\n- è¨­å®š: owner, meeting_name, timestamp, file_id, file_size_bytes\n\n**5. ãƒ•ã‚¡ã‚¤ãƒ«å¦¥å½“æ€§ãƒã‚§ãƒƒã‚¯** (filter_g1_05)\n- ã‚¿ã‚¤ãƒ—: Filter\n- å½¹å‰²: MIME Type=audio/m4aã€ã‚µã‚¤ã‚º<1GBã‚’æ¤œè¨¼\n- å¤±æ•—æ™‚: Error Group 1ãƒˆãƒªã‚¬ãƒ¼\n\n**6. ãƒ•ã‚¡ã‚¤ãƒ«åæ­£è¦åŒ–** (code_normalize_g1_06)\n- ã‚¿ã‚¤ãƒ—: Code\n- å½¹å‰²: ãƒ•ã‚¡ã‚¤ãƒ«åãƒ‘ãƒ¼ã‚¹ï¼ˆYYYY-MM-DD_HH-MMå½¢å¼ï¼‰ã€æ—¥æ™‚æŠ½å‡º\n- å‡ºåŠ›: meeting_name, meeting_date, original_filename\n\n### ğŸ”— ãƒ•ãƒ­ãƒ¼\ntrigger_g1_01 â†’ get_file_g1_02 â†’ download_g1_03 â†’ set_meta_g1_04 â†’ filter_g1_05 â†’ code_normalize_g1_06 â†’ **Group 2**\n\n### âš™ï¸ ä¾å­˜é–¢ä¿‚\n- **å…¥åŠ›**: Google Driveç›£è¦–ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆ2å€‹ï¼‰\n- **å‡ºåŠ›**: ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿ï¼ˆm4a_dataï¼‰+ ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ â†’ Group 2ã¸\n- **ã‚¨ãƒ©ãƒ¼å‡¦ç†**: Filterå¤±æ•—æ™‚ â†’ Error Group 1ï¼ˆåˆ¥WFï¼‰\n\n### ğŸ“Š ä¸»è¦ãƒ‡ãƒ¼ã‚¿\n- `$json.id`: ãƒ•ã‚¡ã‚¤ãƒ«ID\n- `$json.name`: ãƒ•ã‚¡ã‚¤ãƒ«å\n- `$json.mimeType`: MIME Typeï¼ˆaudio/m4aï¼‰\n- `$json.size`: ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºï¼ˆãƒã‚¤ãƒˆï¼‰\n- `$json.owner`: æ‰€æœ‰è€…ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹\n- `$json.meeting_name`: æ­£è¦åŒ–ã•ã‚ŒãŸä¼šè­°å\n- `$json.meeting_date`: ãƒ‘ãƒ¼ã‚¹æ¸ˆã¿ä¼šè­°æ—¥æ™‚\n- `$binary.m4a_data`: M4Aãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿\n\n### ğŸ—ï¸ 12å±¤ãƒãƒƒãƒ”ãƒ³ã‚°\n- **L1 (Trigger)**: trigger_g1_01\n- **L2 (Input)**: get_file_g1_02, download_g1_03\n- **L3 (Validation)**: set_meta_g1_04, filter_g1_05, code_normalize_g1_06",
        "height": 420,
        "width": 540,
        "color": 2
      }
    }
  ],
  "connections": {
    "M4Aãƒ•ã‚¡ã‚¤ãƒ«æ¤œçŸ¥": {
      "main": [
        [
          {
            "node": "ãƒ•ã‚¡ã‚¤ãƒ«æƒ…å ±å–å¾—",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ãƒ•ã‚¡ã‚¤ãƒ«æƒ…å ±å–å¾—": {
      "main": [
        [
          {
            "node": "M4Aãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "M4Aãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰": {
      "main": [
        [
          {
            "node": "åˆæœŸãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¨­å®š",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "åˆæœŸãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¨­å®š": {
      "main": [
        [
          {
            "node": "ãƒ•ã‚¡ã‚¤ãƒ«å¦¥å½“æ€§ãƒã‚§ãƒƒã‚¯",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ãƒ•ã‚¡ã‚¤ãƒ«å¦¥å½“æ€§ãƒã‚§ãƒƒã‚¯": {
      "main": [
        [
          {
            "node": "ãƒ•ã‚¡ã‚¤ãƒ«åæ­£è¦åŒ–",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 1,
  "updatedAt": "2025-11-13T00:00:00.000Z",
  "versionId": "v4.0"
}
