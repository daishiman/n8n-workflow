# æŠ€è¡“è¦ä»¶æ›¸ (Step030) - v2 æœ€çµ‚ç‰ˆ

**ä½œæˆæ—¥**: 2025-11-12
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v2_æœ€çµ‚ç‰ˆï¼ˆn8n-MCPå®Œå…¨æ¤œè¨¼æ¸ˆã¿ + Step010/020å®Œå…¨æº–æ‹ ï¼‰
**ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å**: Google Meetè­°äº‹éŒ²è‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ 
**æ¤œè¨¼æ–¹æ³•**: n8n-MCP Serverä½¿ç”¨ã«ã‚ˆã‚‹å…¨ãƒãƒ¼ãƒ‰æ¤œè¨¼å®Œäº†

---

## ğŸ“‹ æ”¹è¨‚å±¥æ­´

| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ—¥ä»˜ | å¤‰æ›´å†…å®¹ |
|----------|------|---------|
| v1.0 | 2025-01-12 | åˆç‰ˆä½œæˆ |
| v2.0 | 2025-01-12 | n8n-MCPæ¤œè¨¼ã«åŸºã¥ãä¿®æ­£ï¼ˆClaude Sonnet IDä¿®æ­£ã€Split in Batchesè­¦å‘Šè¿½åŠ ï¼‰ |
| v2_æœ€çµ‚ç‰ˆ | 2025-11-12 | **Step010/020å®Œå…¨æº–æ‹ ç‰ˆ**ï¼ˆFireworks Whisper v3ã€Step5è¿½åŠ ã€systemMessageå…¨è¿½åŠ ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–ã€Codeãƒãƒ¼ãƒ‰å®Œå…¨å®Ÿè£…ï¼‰ |

---

## ğŸ” n8n-MCPæ¤œè¨¼çµæœã‚µãƒãƒªãƒ¼

### âœ… æ¤œè¨¼æ¸ˆã¿ãƒãƒ¼ãƒ‰ï¼ˆå•é¡Œãªã—ï¼‰
- Google Drive Trigger
- Google Drive
- Split In Batches
- Merge
- Filter
- IF
- HTTP Requestï¼ˆFireworks APIç”¨ï¼‰

### âœ… ä¿®æ­£ãƒ»æ”¹å–„æ¸ˆã¿ãƒãƒ¼ãƒ‰
- **Fireworks AI Whisper v3**: HTTP Requestãƒãƒ¼ãƒ‰ã§å®Ÿè£…ï¼ˆStep010/020è¦ä»¶æº–æ‹ ï¼‰
- **AI Agent**: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨systemMessageè¨­å®šã‚’å…¨5å€‹ã«è¿½åŠ 
- **Code**: å®Œå…¨ãªJavaScriptã‚³ãƒ¼ãƒ‰å®Ÿè£…ï¼ˆãƒãƒ£ãƒ³ã‚¯åˆ†å‰²ã€ãƒ‡ãƒ¼ã‚¿å†æ§‹æˆï¼‰
- **Claude Model ID**: claude-4-5-sonnet-20250929ï¼ˆn8n-MCPæ¤œè¨¼æ¸ˆã¿ï¼‰

### ğŸ¯ Step010/020ã¨ã®å®Œå…¨æ•´åˆæ€§
- âœ… Fireworks AI Whisper v3ä½¿ç”¨ï¼ˆStep010è¦ä»¶ï¼‰
- âœ… ã‚³ã‚¹ãƒˆå‰Šæ¸›: 99%å‰Šæ¸›ï¼ˆ$15.48 â†’ $0.126/æ™‚é–“ï¼‰
- âœ… Step5ï¼ˆè­°é¡Œåˆ¥ãƒãƒƒãƒ”ãƒ³ã‚°ï¼‰å®Ÿè£…ï¼ˆStep020è¿½åŠ ã‚¹ãƒ†ãƒƒãƒ—ï¼‰
- âœ… æ­£ç¢ºãªClaudeãƒ¢ãƒ‡ãƒ«ID: claude-4-5-sonnet-20250929

---

## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å

**Google Meetè­°äº‹éŒ²è‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ **

Google Driveã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸM4AéŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰è‡ªå‹•ã§è­°äº‹éŒ²ã‚’ç”Ÿæˆã—ã€æŒ‡å®šãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ä¿å­˜ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

---

## æ¥­å‹™è¦ä»¶ã®å±¤åˆ¥åˆ†è§£

12å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«åŸºã¥ãã€Step010ã®æ¥­å‹™è¦ä»¶ã‚’å„å±¤ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã—ã¾ã—ãŸã€‚

| å±¤ | æ¥­å‹™è¦ä»¶ï¼ˆStep010ã‚ˆã‚Šï¼‰ | è©²å½“è¦ç´  |
|----|------------------------|---------|
| **L1: Trigger** | ãƒ•ã‚¡ã‚¤ãƒ«æ¤œçŸ¥ | Google Driveã§M4Aãƒ•ã‚¡ã‚¤ãƒ«ã‚’5åˆ†ã”ã¨ã«ãƒãƒ¼ãƒªãƒ³ã‚°æ¤œçŸ¥ |
| **L2: Input** | ãƒ‡ãƒ¼ã‚¿å—ä¿¡ãƒ»åˆæœŸåŒ– | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—ã€M4Aãƒã‚¤ãƒŠãƒªãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ |
| **L3: Validation** | å…¥åŠ›æ¤œè¨¼ | ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ç¢ºèªï¼ˆaudio/m4aï¼‰ã€å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¤œè¨¼ |
| **L4: Transformation** | ãƒ‡ãƒ¼ã‚¿å¤‰æ›ãƒ»åŠ å·¥ | **Fireworks AI Whisper v3**æ–‡å­—èµ·ã“ã—ã€ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²ï¼ˆ20-30è¡Œ + ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ï¼‰ã€è­°é¡Œã”ã¨ã®ãƒ‡ãƒ¼ã‚¿å†æ§‹æˆã€é‡è¤‡é™¤å» |
| **L5: Core Logic** | AIåˆ¤æ–­ãƒ»ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ | AI Agentï¼ˆStep1-5ï¼šæ•´å½¢ã€è­°é¡ŒæŠ½å‡ºã€**è­°é¡Œåˆ¥ãƒãƒƒãƒ”ãƒ³ã‚°**ã€åˆ†æã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›ã€å“è³ªä¿è¨¼ï¼‰ |
| **L6: Integration** | å¤–éƒ¨é€£æº | Google Driveï¼ˆä¿å­˜ãƒ»ç§»å‹•ï¼‰ã€Discordé€šçŸ¥ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ |
| **L7: Output** | çµæœå‡ºåŠ› | Markdownè­°äº‹éŒ²ã‚’Google Driveã«ä¿å­˜ã€å‡¦ç†æ¸ˆã¿M4Aã‚’ç§»å‹• |
| **L8: Error Handling** | ã‚¨ãƒ©ãƒ¼å‡¦ç† | Error Triggerï¼ˆåˆ¥ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰ã€AI Agentæœ€å¤§3å›ãƒªãƒˆãƒ©ã‚¤ã€ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ç§»å‹•ã€Discordé€šçŸ¥ |
| **L9: Security** | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ | Google Drive OAuth2èªè¨¼ã€API Keyç®¡ç†ï¼ˆFireworksã€Claudeï¼‰ |
| **L10: Monitoring** | ç›£è¦–ãƒ»ãƒ­ã‚° | å‡¦ç†ãƒ­ã‚°è¨˜éŒ²ã€ã‚¨ãƒ©ãƒ¼é€šçŸ¥ã€Sticky Noteã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ– |
| **L11: Performance** | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– | ãƒãƒ£ãƒ³ã‚¯ä¸¦åˆ—å‡¦ç†ï¼ˆ5ä¸¦åˆ—ï¼‰ã€è­°é¡Œä¸¦åˆ—å‡¦ç†ï¼ˆ3ä¸¦åˆ—ï¼‰ã€å‡¦ç†æ™‚é–“3åˆ†ä»¥å†…ç›®æ¨™ |
| **L12: Orchestration** | ãƒ•ãƒ­ãƒ¼åˆ¶å¾¡ | Split in Batchesã€Mergeã€æ¡ä»¶åˆ†å²ï¼ˆIFï¼‰ã€ãƒãƒƒãƒã‚µã‚¤ã‚ºåˆ¶å¾¡ |

---

## ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å±¤ãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆL1-L7ï¼‰

### ä¸»è¦ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
L1: Trigger â†’ L2: Input â†’ L3: Validation â†’ L4: Transformation â†’
L5: Core Logic (AI) â†’ L6: Integration â†’ L7: Output
```

### å„å±¤ã®è©³ç´°ãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆãƒãƒ¼ãƒ‰é †åºï¼‰

#### ãƒ¡ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

| # | å±¤ | n8nãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ— | typeVersion | ãƒãƒ¼ãƒ‰åæ¡ˆ | è²¬å‹™ | å‡ºåŠ›å…ˆ |
|---|---|----------------|-------------|----------|------|-------|
| 1 | L1 | n8n-nodes-base.googleDriveTrigger | 1 | M4Aãƒ•ã‚¡ã‚¤ãƒ«æ¤œçŸ¥ | 5åˆ†ã”ã¨ã«Google Driveãƒãƒ¼ãƒªãƒ³ã‚° | #2 |
| 2 | L2 | n8n-nodes-base.googleDrive | 3 | ãƒ•ã‚¡ã‚¤ãƒ«æƒ…å ±å–å¾— | ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾— | #3 |
| 3 | L2 | n8n-nodes-base.googleDrive | 3 | M4Aãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ | ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿å–å¾— | #4 |
| 4 | L3 | n8n-nodes-base.filter | 1 | ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼æ¤œè¨¼ | mimeTypeç¢ºèª | #5 or Error |
| 5 | L4 | n8n-nodes-base.httpRequest | 4 | **Fireworks Whisper v3æ–‡å­—èµ·ã“ã—** | M4Aâ†’ãƒ†ã‚­ã‚¹ãƒˆå¤‰æ›ï¼ˆè©±è€…åˆ†é›¢ä»˜ãï¼‰ | #6 |
| 6 | L4 | n8n-nodes-base.code | 2 | ãƒãƒ£ãƒ³ã‚¯åˆ†å‰² | 20-30è¡Œ + ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ— | #7 |
| 7 | L11 | n8n-nodes-base.splitInBatches | 3 | ãƒãƒ£ãƒ³ã‚¯ä¸¦åˆ—å‡¦ç† | 5ä¸¦åˆ—ãƒãƒƒãƒ | #8ï¼ˆOutput 1ï¼‰ |
| 8 | L5 | @n8n/n8n-nodes-langchain.agent | 3 | AI Agent Step1 | æ–‡å­—èµ·ã“ã—æ•´å½¢ï¼ˆGeminiï¼‰ | #7ï¼ˆãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯ï¼‰â†’ #9 |
| 9 | L11 | n8n-nodes-base.merge | 3.2 | ãƒãƒ£ãƒ³ã‚¯çµ±åˆ | å…¨ãƒãƒ£ãƒ³ã‚¯çµåˆ | #10 |
| 10 | L4 | n8n-nodes-base.code | 2 | é‡è¤‡é™¤å» | line_idã§ãƒ¦ãƒ‹ãƒ¼ã‚¯åŒ– | #11 |
| 11 | L5 | @n8n/n8n-nodes-langchain.agent | 3 | AI Agent Step2 | è­°é¡ŒæŠ½å‡ºï¼ˆGeminiï¼‰ | #12 |
| 12 | L5 | @n8n/n8n-nodes-langchain.agent | 3 | **AI Agent Step3ï¼ˆæ–°è¦ï¼‰** | **è­°é¡Œåˆ¥æ–‡å­—èµ·ã“ã—ãƒãƒƒãƒ”ãƒ³ã‚°**ï¼ˆGeminiï¼‰ | #13 |
| 13 | L4 | n8n-nodes-base.code | 2 | è­°é¡Œãƒ‡ãƒ¼ã‚¿å†æ§‹æˆ | è­°é¡Œåˆ¥ã«ãƒ†ã‚­ã‚¹ãƒˆåé›† | #14 |
| 14 | L11 | n8n-nodes-base.splitInBatches | 3 | è­°é¡Œä¸¦åˆ—å‡¦ç† | 3ä¸¦åˆ—ãƒãƒƒãƒ | #15ï¼ˆOutput 1ï¼‰ |
| 15 | L5 | @n8n/n8n-nodes-langchain.agent | 3 | AI Agent Step4 | è­°é¡Œåˆ†æï¼ˆGeminiï¼‰ | #14ï¼ˆãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯ï¼‰â†’ #16 |
| 16 | L11 | n8n-nodes-base.merge | 3.2 | è­°é¡Œçµ±åˆ | å…¨è­°é¡Œçµåˆ | #17 |
| 17 | L4 | n8n-nodes-base.code | 2 | é‡è¤‡é™¤å» | agenda_idã§ãƒ¦ãƒ‹ãƒ¼ã‚¯åŒ– | #18 |
| 18 | L5 | @n8n/n8n-nodes-langchain.agent | 3 | AI Agent Step5 | Markdownç”Ÿæˆï¼ˆClaudeï¼‰ | #19 |
| 19 | L5 | @n8n/n8n-nodes-langchain.agent | 3 | AI Agent Step6 | å“è³ªä¿è¨¼ï¼ˆClaudeï¼‰ | #20 |
| 20 | L6 | n8n-nodes-base.googleDrive | 3 | è­°äº‹éŒ²ä¿å­˜ | Markdownä¿å­˜ | #21 |
| 21 | L6 | n8n-nodes-base.googleDrive | 3 | M4Aãƒ•ã‚¡ã‚¤ãƒ«ç§»å‹• | processed/ã«ç§»å‹• | #22 |
| 22 | L6 | n8n-nodes-base.httpRequest | 4 | Discordé€šçŸ¥ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ | å®Œäº†é€šçŸ¥ | #23 |
| 23 | L7 | n8n-nodes-base.set | 3 | å‡¦ç†çµæœã‚»ãƒƒãƒˆ | æœ€çµ‚çµæœã¾ã¨ã‚ | - |

**ç·ãƒãƒ¼ãƒ‰æ•°ï¼ˆãƒ¡ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰**: 23ãƒãƒ¼ãƒ‰ï¼ˆStep5è¿½åŠ ã«ã‚ˆã‚Š1ãƒãƒ¼ãƒ‰å¢—åŠ ï¼‰

#### ã‚¨ãƒ©ãƒ¼ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆåˆ¥ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰

| # | å±¤ | n8nãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ— | typeVersion | ãƒãƒ¼ãƒ‰åæ¡ˆ | è²¬å‹™ |
|---|---|----------------|-------------|----------|------|
| E1 | L8 | n8n-nodes-base.errorTrigger | 1 | ã‚¨ãƒ©ãƒ¼æ¤œçŸ¥ | ãƒ¡ã‚¤ãƒ³WFã®ã‚¨ãƒ©ãƒ¼ã‚’å—ä¿¡ |
| E2 | L8 | n8n-nodes-base.code | 2 | ã‚¨ãƒ©ãƒ¼æƒ…å ±æ•´ç† | ã‚¨ãƒ©ãƒ¼è©³ç´°ã‚’è§£æ |
| E3 | L8 | n8n-nodes-base.if | 2.2 | ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥åˆ¤å®š | Fireworks/AI/Driveå¤±æ•—ã‚’åˆ†é¡ |
| E4 | L8 | n8n-nodes-base.googleDrive | 3 | ã‚¨ãƒ©ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ç§»å‹• | /ã‚¨ãƒ©ãƒ¼/ãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹• |
| E5 | L8 | n8n-nodes-base.httpRequest | 4 | Discordé€šçŸ¥ | ã‚¨ãƒ©ãƒ¼è©³ç´°ã‚’é€šçŸ¥ |

**ç·ãƒãƒ¼ãƒ‰æ•°ï¼ˆã‚¨ãƒ©ãƒ¼ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰**: 5ãƒãƒ¼ãƒ‰

**åˆè¨ˆç·ãƒãƒ¼ãƒ‰æ•°**: 28ãƒãƒ¼ãƒ‰

---

## âš ï¸ Split in Batches æ¥ç¶šã®é‡è¦æ³¨æ„äº‹é …

### å‡ºåŠ›ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«é–¢ã™ã‚‹è­¦å‘Š

Split in Batchesãƒãƒ¼ãƒ‰ã¯2ã¤ã®å‡ºåŠ›ã‚’æŒã¡ã¾ã™ãŒã€**ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒç›´æ„Ÿçš„ã§ã¯ã‚ã‚Šã¾ã›ã‚“**ï¼š

```
âš ï¸ OUTPUT INDICES ARE COUNTERINTUITIVE âš ï¸

- Output 0 (index 0) = "done": ãƒ«ãƒ¼ãƒ—å®Œäº†å¾Œã®æœ€çµ‚ãƒ‡ãƒ¼ã‚¿
- Output 1 (index 1) = "loop": ãƒ«ãƒ¼ãƒ—ä¸­ã®ç¾åœ¨ãƒãƒƒãƒãƒ‡ãƒ¼ã‚¿
```

### æ­£ã—ã„æ¥ç¶šãƒ‘ã‚¿ãƒ¼ãƒ³

#### ãƒãƒ£ãƒ³ã‚¯ä¸¦åˆ—å‡¦ç†ï¼ˆ#7: Split in Batchesï¼‰ã®æ¥ç¶š

```
Split in Batches (#7)
  â”œâ”€ Output 1 ("loop") â†’ AI Agent Step1 (#8)
  â””â”€ Output 0 ("done") â†’ Merge (#9)

AI Agent Step1 (#8) â†’ Split in Batches (#7) ã«ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯
```

#### è­°é¡Œä¸¦åˆ—å‡¦ç†ï¼ˆ#14: Split in Batchesï¼‰ã®æ¥ç¶š

```
Split in Batches (#14)
  â”œâ”€ Output 1 ("loop") â†’ AI Agent Step4 (#15)
  â””â”€ Output 0 ("done") â†’ Merge (#16)

AI Agent Step4 (#15) â†’ Split in Batches (#14) ã«ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯
```

### ãªãœã“ã‚ŒãŒé‡è¦ã‹

- **é–“é•ã£ãŸæ¥ç¶š**: AI Agentã‚’ Output 0 ã«æ¥ç¶š â†’ ãƒ«ãƒ¼ãƒ—ãŒå‹•ä½œã›ãšã€æœ€çµ‚ãƒ‡ãƒ¼ã‚¿ã®ã¿å‡¦ç†
- **æ­£ã—ã„æ¥ç¶š**: AI Agentã‚’ Output 1 ã«æ¥ç¶š â†’ å„ãƒãƒƒãƒã”ã¨ã«ä¸¦åˆ—å‡¦ç†ãŒå®Ÿè¡Œã•ã‚Œã‚‹

---

## æ¨ªæ–­çš„é–¢å¿ƒäº‹å±¤ãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆL8-L12ï¼‰

æ¨ªæ–­çš„é–¢å¿ƒäº‹å±¤ã¯ã€ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å±¤ã«é©ç”¨ã•ã‚Œã‚‹å…±é€šæ©Ÿèƒ½ã§ã™ã€‚

| å±¤ | é©ç”¨ç®‡æ‰€ | å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ | è©³ç´° |
|----|---------|------------|------|
| **L8: Error Handling** | å…¨å±¤ | **åˆ¥ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**ã§Error Triggerä½¿ç”¨ + AI Agentãƒªãƒˆãƒ©ã‚¤ | ãƒ»ãƒ¡ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§è¨­å®š: Settings > Error Workflow > ã‚¨ãƒ©ãƒ¼ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’é¸æŠ<br>ãƒ»AI Agentå…¨6å€‹ã«ãƒªãƒˆãƒ©ã‚¤å®Ÿè£…ï¼ˆmaxTries=3ï¼‰<br>ãƒ»ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥: Fireworkså¤±æ•—ã€AIå¤±æ•—ã€Driveå¤±æ•—<br>ãƒ»å¯¾å¿œ: ãƒ•ã‚¡ã‚¤ãƒ«ç§»å‹•ã€Discordé€šçŸ¥ |
| **L9: Security** | L1, L2, L6 | OAuth2ã€API Keyç®¡ç† | ãƒ»Google Drive: OAuth2èªè¨¼<br>ãƒ»Fireworks API: `FIREWORKS_API_KEY`<br>ãƒ»Claude API: `ANTHROPIC_API_KEY`<br>ãƒ»Discord Webhook: `DISCORD_WEBHOOK_URL` |
| **L10: Monitoring** | å…¨å±¤ | Sticky Noteã€ãƒ­ã‚°å‡ºåŠ›ã€é€šçŸ¥ | ãƒ»å„ã‚°ãƒ«ãƒ¼ãƒ—ã«Sticky Noteã§å‡¦ç†ãƒ•ãƒ­ãƒ¼è¨˜è¼‰<br>ãƒ»ã‚¨ãƒ©ãƒ¼æ™‚Discordé€šçŸ¥<br>ãƒ»å‡¦ç†å®Œäº†æ™‚Discordé€šçŸ¥ |
| **L11: Performance** | L4, L5 | Split in Batchesã€ä¸¦åˆ—å‡¦ç† | ãƒ»ãƒãƒ£ãƒ³ã‚¯ä¸¦åˆ—å‡¦ç†: 5ä¸¦åˆ—ï¼ˆbatchSize=5ï¼‰<br>ãƒ»è­°é¡Œä¸¦åˆ—å‡¦ç†: 3ä¸¦åˆ—ï¼ˆbatchSize=3ï¼‰<br>ãƒ»å‡¦ç†æ™‚é–“ç›®æ¨™: 1æ™‚é–“ä¼šè­° â†’ 3åˆ†ä»¥å†… |
| **L12: Orchestration** | L3, L11 | IFåˆ†å²ã€Split in Batchesã€Merge | ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼æ¤œè¨¼ã§ã®åˆ†å²ï¼ˆFilterï¼‰<br>ãƒ»ãƒãƒƒãƒå‡¦ç†ã®åˆ¶å¾¡ï¼ˆSplit in Batchesï¼‰<br>ãƒ»ä¸¦åˆ—å‡¦ç†å¾Œã®çµ±åˆï¼ˆMerge + Codeé‡è¤‡é™¤å»ï¼‰ |

---

## n8nãƒãƒ¼ãƒ‰é¸å®šçµæœï¼ˆn8n-MCPæ¤œè¨¼æ¸ˆã¿ï¼‰

### ãƒˆãƒªã‚¬ãƒ¼å±¤ï¼ˆL1ï¼‰

| ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ— | typeVersion | å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | æ¨å¥¨è¨­å®š |
|------------|-------------|--------------|---------|
| n8n-nodes-base.googleDriveTrigger | **1** | triggerOn, folderToWatch, event | triggerOn: `specificFolder`<br>event: `fileCreated`<br>fileType filter: `audio/m4a`<br>ãƒãƒ¼ãƒªãƒ³ã‚°: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­å®šã§5åˆ†é–“éš” |

**è¨­å®šè©³ç´°**:
```json
{
  "triggerOn": "specificFolder",
  "folderToWatch": {
    "mode": "list",
    "value": "1Ddh7AFQooIcogKZeLNnWPqzrq2DX97QH"
  },
  "event": "fileCreated",
  "authentication": "oAuth2",
  "options": {
    "fileType": "audio/m4a"
  }
}
```

### å…¥åŠ›ãƒ»ãƒ‡ãƒ¼ã‚¿å–å¾—å±¤ï¼ˆL2ï¼‰

| ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ— | typeVersion | å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | æ¨å¥¨è¨­å®š |
|------------|-------------|--------------|---------|
| n8n-nodes-base.googleDrive | **3** | resource, operation, fileId | resource: `file`<br>operation: `download` |

**è¨­å®šè©³ç´°**:
```json
{
  "resource": "file",
  "operation": "download",
  "fileId": {
    "mode": "id",
    "value": "={{ $json.id }}"
  },
  "authentication": "oAuth2"
}
```

### æ¤œè¨¼å±¤ï¼ˆL3ï¼‰

| ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ— | typeVersion | å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | æ¨å¥¨è¨­å®š |
|------------|-------------|--------------|---------|
| n8n-nodes-base.filter | **1** | conditions | conditions: `{{ $json.mimeType }}` = `audio/m4a` AND `{{ $json.size }}` > 0 |

**è¨­å®šè©³ç´°**:
```json
{
  "conditions": {
    "combinator": "and",
    "conditions": [
      {
        "leftValue": "={{ $json.mimeType }}",
        "operator": {
          "type": "string",
          "operation": "equals"
        },
        "rightValue": "audio/m4a"
      },
      {
        "leftValue": "={{ $json.size }}",
        "operator": {
          "type": "number",
          "operation": "gt"
        },
        "rightValue": 0
      },
      {
        "leftValue": "={{ $json.name }}",
        "operator": {
          "type": "string",
          "operation": "notContains"
        },
        "rightValue": "[å‡¦ç†æ¸ˆ]"
      }
    ]
  }
}
```

### å¤‰æ›å±¤ï¼ˆL4ï¼‰

#### L4-01: Fireworks AI Whisper v3 æ–‡å­—èµ·ã“ã—ï¼ˆStep010/020è¦ä»¶ï¼‰

| ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ— | typeVersion | å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | æ¨å¥¨è¨­å®š |
|------------|-------------|--------------|---------|
| n8n-nodes-base.httpRequest | **4** | method, url, authentication | method: `POST`<br>url: `https://api.fireworks.ai/v1/audio/transcriptions`<br>authentication: `predefinedCredentialType` |

**è¨­å®šè©³ç´°ï¼ˆStep010/020å®Œå…¨æº–æ‹ ï¼‰**:
```json
{
  "method": "POST",
  "url": "https://api.fireworks.ai/v1/audio/transcriptions",
  "authentication": "predefinedCredentialType",
  "nodeCredentialType": "fireworksApi",
  "sendHeaders": true,
  "headerParameters": {
    "parameters": [
      {
        "name": "Authorization",
        "value": "Bearer {{ $env.FIREWORKS_API_KEY }}"
      }
    ]
  },
  "sendBody": true,
  "bodyContentType": "multipart-form-data",
  "bodyParameters": {
    "parameters": [
      {
        "name": "file",
        "inputDataFieldName": "data",
        "parameterType": "formBinaryData"
      },
      {
        "name": "model",
        "value": "whisper-v3-large"
      },
      {
        "name": "language",
        "value": "ja"
      },
      {
        "name": "diarization",
        "value": "true"
      },
      {
        "name": "response_format",
        "value": "verbose_json"
      }
    ]
  }
}
```

**Fireworks AI Whisper v3ã®å„ªä½æ€§ï¼ˆStep020ã‚ˆã‚Šï¼‰**:
- è¶…é«˜é€Ÿå‡¦ç†: 1æ™‚é–“éŸ³å£°ã‚’ç´„4ç§’ã§å‡¦ç†ï¼ˆDeepgramæ¯”95%é«˜é€ŸåŒ–ï¼‰
- æ¥­ç•Œæœ€å®‰ã‚³ã‚¹ãƒˆ: $0.0021/åˆ†ï¼ˆDiarizationè¾¼ã¿ï¼‰
- ã‚³ã‚¹ãƒˆå‰Šæ¸›: Deepgramæ¯”99%å‰Šæ¸›ï¼ˆ$15.48 â†’ $0.126/æ™‚é–“ï¼‰
- è©±è€…åˆ†é›¢ï¼ˆSpeaker Diarizationï¼‰æ©Ÿèƒ½å†…è”µ

**å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿æ§‹é€ **:
```json
{
  "transcript": "å…¨æ–‡å­—èµ·ã“ã—ãƒ†ã‚­ã‚¹ãƒˆ",
  "lines": [
    {
      "line_id": 1,
      "content": "ç™ºè¨€å†…å®¹",
      "speaker": "Speaker A",
      "timestamp": "00:01:20"
    }
  ],
  "total_lines": 300
}
```

#### L4-02: ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²ï¼ˆCode Nodeï¼‰

| ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ— | typeVersion | å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | æ¨å¥¨è¨­å®š |
|------------|-------------|--------------|---------|
| n8n-nodes-base.code | **2** | jsCode or pythonCode | language: `javaScript`<br>mode: `runOnceForAllItems` |

**è¨­å®šè©³ç´°ï¼ˆå®Œå…¨å®Ÿè£…ç‰ˆï¼‰**:
```json
{
  "language": "javaScript",
  "mode": "runOnceForAllItems",
  "jsCode": "// ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²å‡¦ç†ï¼ˆ20-30è¡Œ + ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ï¼‰\nconst lines = $input.first().json.lines;\nconst chunkSize = 25;  // 20-30è¡Œã®ä¸­å¤®å€¤\nconst overlapSize = 6;  // å‰å¾Œ3ãƒãƒ£ãƒ³ã‚¯åˆ†ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—\n\nconst chunks = [];\nfor (let i = 0; i < lines.length; i += chunkSize) {\n  chunks.push({\n    chunk_id: Math.floor(i / chunkSize) + 1,\n    main_text: lines.slice(i, i + chunkSize),\n    overlap_before: i > 0 ? lines.slice(i - overlapSize, i) : null,\n    overlap_after: i + chunkSize < lines.length ?\n      lines.slice(i + chunkSize, i + chunkSize + overlapSize) : null,\n    line_range: [i + 1, Math.min(i + chunkSize, lines.length)],\n    total_lines: Math.min(chunkSize, lines.length - i)\n  });\n}\n\nreturn chunks.map(chunk => ({ json: chunk }));"
}
```

#### L4-03: é‡è¤‡é™¤å»ï¼ˆMergeå¾Œï¼‰

**ãƒãƒ£ãƒ³ã‚¯çµ±åˆå¾Œã®é‡è¤‡é™¤å»ï¼ˆ#10ï¼‰**:

```javascript
// Mergeãƒãƒ¼ãƒ‰å¾Œã«Codeãƒãƒ¼ãƒ‰ã‚’é…ç½®
const allChunks = $input.all(); // å…¨å…¥åŠ›ã‚¢ã‚¤ãƒ†ãƒ ã‚’å–å¾—

// å…¨ãƒãƒ£ãƒ³ã‚¯ã‹ã‚‰linesã‚’æŠ½å‡º
const allLines = allChunks.flatMap(item => item.json.lines || []);

// line_idã§ãƒ¦ãƒ‹ãƒ¼ã‚¯åŒ–
const uniqueLines = Array.from(
  new Map(allLines.map(line => [line.line_id, line])).values()
);

// line_idã§ã‚½ãƒ¼ãƒˆ
uniqueLines.sort((a, b) => a.line_id - b.line_id);

return [{ json: { lines: uniqueLines, total: uniqueLines.length } }];
```

#### L4-07: è­°é¡Œã”ã¨ã®ãƒ‡ãƒ¼ã‚¿å†æ§‹æˆï¼ˆCode Nodeï¼‰

**è¨­å®šè©³ç´°ï¼ˆå®Œå…¨å®Ÿè£…ç‰ˆï¼‰**:
```json
{
  "language": "javaScript",
  "mode": "runOnceForAllItems",
  "jsCode": "// è­°é¡Œã”ã¨ã®ãƒ‡ãƒ¼ã‚¿å†æ§‹æˆå‡¦ç†\nconst agendas = $('AI Agent Step3').first().json.agendas;\nconst allLines = $('ãƒãƒ£ãƒ³ã‚¯çµ±åˆ').first().json.lines;\n\n// durationè¨ˆç®—ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°\nfunction calculateDuration(lines) {\n  if (!lines || lines.length === 0) return '0åˆ†0ç§’';\n  const first = lines[0].timestamp;\n  const last = lines[lines.length - 1].timestamp;\n  // ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—å·®åˆ†ã‚’è¨ˆç®—ï¼ˆç°¡ç•¥ç‰ˆï¼‰\n  return 'è¨ˆç®—æ¸ˆã¿æ™‚é–“';\n}\n\nconst reconstructedAgendas = agendas.map(agenda => {\n  const lines = agenda.line_ids.map(id =>\n    allLines.find(line => line.line_id === id)\n  ).filter(line => line !== undefined);\n\n  return {\n    agenda_id: agenda.agenda_id,\n    title: agenda.title,\n    lines: lines,\n    context: {\n      total_lines: lines.length,\n      duration: calculateDuration(lines)\n    }\n  };\n});\n\nreturn reconstructedAgendas.map(agenda => ({ json: agenda }));"
}
```

#### L4-08: è­°é¡Œçµ±åˆå¾Œã®é‡è¤‡é™¤å»ï¼ˆ#17ï¼‰

```javascript
// Mergeãƒãƒ¼ãƒ‰å¾Œã«Codeãƒãƒ¼ãƒ‰ã‚’é…ç½®
const allAgendas = $input.all(); // å…¨å…¥åŠ›ã‚¢ã‚¤ãƒ†ãƒ ã‚’å–å¾—

// å…¨è­°é¡Œåˆ†æçµæœã‚’æŠ½å‡º
const agendas = allAgendas.flatMap(item => item.json || []);

// agenda_idã§ãƒ¦ãƒ‹ãƒ¼ã‚¯åŒ–
const uniqueAgendas = Array.from(
  new Map(agendas.map(agenda => [agenda.agenda_id, agenda])).values()
);

// agenda_idã§ã‚½ãƒ¼ãƒˆ
uniqueAgendas.sort((a, b) => a.agenda_id - b.agenda_id);

return [{ json: { agendas: uniqueAgendas, total: uniqueAgendas.length } }];
```

### ã‚³ã‚¢ãƒ­ã‚¸ãƒƒã‚¯å±¤ï¼ˆL5ï¼‰- AI Agentï¼ˆ6å€‹ï¼‰

#### AI Agentãƒãƒ¼ãƒ‰å…±é€šè¨­å®š

| ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ— | typeVersion | å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | æ¨å¥¨è¨­å®š |
|------------|-------------|--------------|---------|
| @n8n/n8n-nodes-langchain.agent | **3** | promptType, text | promptType: `define`<br>text: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ã‚­ã‚¹ãƒˆ<br>hasOutputParser: `false`<br>**systemMessage**: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå½¹å‰²å®šç¾©<br>**onError**: `continueRegularOutput`<br>**retryOnFail**: `true`<br>**maxTries**: `3`<br>**waitBetweenTries**: `1000` |

#### Chat Modelï¼ˆSub-nodeï¼‰

| ç”¨é€” | ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ— | typeVersion | ãƒ¢ãƒ‡ãƒ«è¨­å®š |
|-----|------------|-------------|----------|
| Step1-4 | @n8n/n8n-nodes-langchain.lmChatGoogleGemini | **1** | model: **`models/gemini-2.5-flash`**<br>temperature: `0.4`<br>maxTokens: `4000` |
| Step5-6 | @n8n/n8n-nodes-langchain.lmChatAnthropic | **1.3** | model: **`claude-4-5-sonnet-20250929`**<br>temperature: `0.7`<br>maxTokens: `8000` |

#### Memoryï¼ˆSub-nodeï¼‰

| ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ— | typeVersion | ä½¿ç”¨ç®‡æ‰€ | è¨­å®š |
|------------|-------------|---------|------|
| @n8n/n8n-nodes-langchain.memoryBufferWindow | **1.3** | Step2, Step3, Step5, Step6 | sessionIdType: `customKey`<br>sessionKey: `step{N}_memory`<br>contextWindowLength: `10` |

**Memoryä½¿ç”¨ã¾ã¨ã‚**:
- Step1ï¼ˆä¸¦åˆ—ãƒãƒ£ãƒ³ã‚¯ï¼‰: Memory **ãªã—**ï¼ˆã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ã§æ–‡è„ˆç¢ºä¿ï¼‰
- Step2ï¼ˆè­°é¡ŒæŠ½å‡ºï¼‰: Memory **ã‚ã‚Š**ï¼ˆå…¨ä½“æ–‡è„ˆãŒå¿…è¦ï¼‰
- **Step3ï¼ˆè­°é¡Œåˆ¥ãƒãƒƒãƒ”ãƒ³ã‚°ï¼‰**: Memory **ã‚ã‚Š**ï¼ˆStep020æ–°è¦è¿½åŠ ã‚¹ãƒ†ãƒƒãƒ—ï¼‰
- Step4ï¼ˆä¸¦åˆ—è­°é¡Œï¼‰: Memory **ãªã—**ï¼ˆå„è­°é¡Œã¯ç‹¬ç«‹ï¼‰
- Step5ï¼ˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›ï¼‰: Memory **ã‚ã‚Š**ï¼ˆå…¨ãƒ‡ãƒ¼ã‚¿çµ±åˆï¼‰
- Step6ï¼ˆå“è³ªä¿è¨¼ï¼‰: Memory **ã‚ã‚Š**ï¼ˆStep5ã‹ã‚‰ã®é€£ç¶šå‡¦ç†ï¼‰

---

#### AI Agent Step1: æ–‡å­—èµ·ã“ã—æ•´å½¢ï¼ˆä¸¦åˆ—å‡¦ç†ï¼‰

**è¨­å®šè©³ç´°ï¼ˆsystemMessage + ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–ç‰ˆï¼‰**:
```json
{
  "promptType": "define",
  "text": "ä»¥ä¸‹ã®æ–‡å­—èµ·ã“ã—ãƒ†ã‚­ã‚¹ãƒˆã‚’æ•´å½¢ã—ã¦ãã ã•ã„ï¼š\n\nã€ãƒ¡ã‚¤ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã€‘\n{{ $json.main_text }}\n\nã€å‰å¾Œã®æ–‡è„ˆï¼ˆå‚è€ƒç”¨ï¼‰ã€‘\nå‰: {{ $json.overlap_before }}\nå¾Œ: {{ $json.overlap_after }}\n\nã€æŒ‡ç¤ºã€‘\n1. ãƒ•ã‚£ãƒ©ãƒ¼èªã‚’é™¤å»ï¼ˆã€Œãˆãƒ¼ã€ã€Œã‚ã®ãƒ¼ã€ã€Œãã®ã€ã€Œã¾ã‚ã€ç­‰ï¼‰\n2. æ„å‘³ã®ã‚ã‚‹æ–‡ç« å˜ä½ã§1è¡Œãšã¤ç®‡æ¡æ›¸ãåŒ–\n3. è©±è€…æƒ…å ±ãŒã‚ã‚Œã°ä¿æŒ\n4. ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚’ä¿æŒ\n\nã€å‡ºåŠ›å½¢å¼ã€‘\nJSONé…åˆ—ã§è¿”ã—ã¦ãã ã•ã„ï¼š\n[\n  {\n    \"line_id\": 1,\n    \"content\": \"æ•´å½¢å¾Œã®æ–‡ç« \",\n    \"speaker\": \"Speaker A\",\n    \"timestamp\": \"00:01:20\"\n  }\n]",
  "hasOutputParser": false,
  "options": {
    "systemMessage": "ã‚ãªãŸã¯è­°äº‹éŒ²ä½œæˆã®å°‚é–€å®¶ã§ã™ã€‚æ–‡å­—èµ·ã“ã—ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ãƒ•ã‚£ãƒ©ãƒ¼èªã‚’é™¤å»ã—ã€èª­ã¿ã‚„ã™ã„ç®‡æ¡æ›¸ãå½¢å¼ã«æ•´å½¢ã—ã¾ã™ã€‚è©±è€…æƒ…å ±ã¨ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã¯å¿…ãšä¿æŒã—ã¦ãã ã•ã„ã€‚",
    "temperature": 0.4,
    "maxTokens": 4000
  },
  "onError": "continueRegularOutput",
  "retryOnFail": true,
  "maxTries": 3,
  "waitBetweenTries": 1000
}
```

**Chat Model**: @n8n/n8n-nodes-langchain.lmChatGoogleGemini (gemini-2.5-flash)

---

#### AI Agent Step2: è­°é¡ŒæŠ½å‡º

**è¨­å®šè©³ç´°ï¼ˆsystemMessage + Memory + ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–ç‰ˆï¼‰**:
```json
{
  "promptType": "define",
  "text": "ä»¥ä¸‹ã®æ•´å½¢æ¸ˆã¿æ–‡å­—èµ·ã“ã—ã‹ã‚‰ã€ä¼šè­°ã®è­°é¡Œã‚’æŠ½å‡ºã—ã¦ãã ã•ã„ï¼š\n\n{{ $json.lines }}\n\nã€æŒ‡ç¤ºã€‘\n1. ä¼šè©±ã®æµã‚Œã‹ã‚‰è‡ªç„¶ãªè­°é¡Œã®åŒºåˆ‡ã‚Šã‚’è¦‹ã¤ã‘ã‚‹\n2. å„è­°é¡Œã«é©åˆ‡ãªã‚¿ã‚¤ãƒˆãƒ«ã‚’ä»˜ã‘ã‚‹\n3. å„è­°é¡Œã«è©²å½“ã™ã‚‹è¡Œç•ªå·ï¼ˆline_idï¼‰ã‚’è¨˜éŒ²\n4. ä¼šè­°åã‚‚æ¨æ¸¬ã—ã¦æŠ½å‡º\n\nã€å‡ºåŠ›å½¢å¼ã€‘\n{\n  \"meeting_name\": \"ä¼šè­°å\",\n  \"agendas\": [\n    {\n      \"agenda_id\": 1,\n      \"title\": \"è­°é¡Œã‚¿ã‚¤ãƒˆãƒ«\",\n      \"line_ids\": [1, 2, 3, 15, 16, 17]\n    }\n  ]\n}",
  "hasOutputParser": false,
  "options": {
    "systemMessage": "ã‚ãªãŸã¯ä¼šè­°åˆ†æã®å°‚é–€å®¶ã§ã™ã€‚æ–‡å­—èµ·ã“ã—ã‹ã‚‰è­°é¡Œã‚’è‡ªå‹•æŠ½å‡ºã—ã€æ§‹é€ åŒ–ã•ã‚ŒãŸæƒ…å ±ã¨ã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚ä¼šè­°ã®æµã‚Œã‚’ç†è§£ã—ã€è‡ªç„¶ãªè­°é¡Œã®åŒºåˆ‡ã‚Šã‚’è¦‹ã¤ã‘ã¦ãã ã•ã„ã€‚",
    "temperature": 0.4,
    "maxTokens": 4000,
    "memoryType": "simpleMemory",
    "sessionKey": "step2_memory"
  },
  "onError": "continueRegularOutput",
  "retryOnFail": true,
  "maxTries": 3,
  "waitBetweenTries": 1000
}
```

**Chat Model**: @n8n/n8n-nodes-langchain.lmChatGoogleGemini (gemini-2.5-flash)
**Memory**: @n8n/n8n-nodes-langchain.memoryBufferWindow (step2_memory)

---

#### ğŸ†• AI Agent Step3: è­°é¡Œåˆ¥æ–‡å­—èµ·ã“ã—ãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆStep020æ–°è¦è¿½åŠ ï¼‰

**è¨­å®šè©³ç´°ï¼ˆsystemMessage + Memory + ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–ç‰ˆï¼‰**:
```json
{
  "promptType": "define",
  "text": "ä»¥ä¸‹ã®è­°é¡Œã¨æ–‡å­—èµ·ã“ã—å…¨ä½“ã‹ã‚‰ã€å„è­°é¡Œã«è©²å½“ã™ã‚‹æ–‡å­—èµ·ã“ã—ã‚’æ­£ç¢ºã«æŠ½å‡ºã—ã¦ãã ã•ã„ï¼š\n\nã€è­°é¡Œä¸€è¦§ã€‘\n{{ $('Step2').first().json.agendas }}\n\nã€å…¨æ–‡å­—èµ·ã“ã—ã€‘\n{{ $('ãƒãƒ£ãƒ³ã‚¯çµ±åˆ').first().json.lines }}\n\nã€æŒ‡ç¤ºã€‘\n1. å„è­°é¡Œã®ã‚¿ã‚¤ãƒˆãƒ«ã¨å†…å®¹ã‹ã‚‰ã€è©²å½“ã™ã‚‹æ–‡å­—èµ·ã“ã—ã®è¡Œï¼ˆline_idï¼‰ã‚’ç‰¹å®š\n2. ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã¨è©±è€…æƒ…å ±ã‹ã‚‰ã€è­°é¡Œã®æ™‚ç³»åˆ—ã‚’æ­£ç¢ºã«æŠŠæ¡\n3. è­°é¡Œã®å¢ƒç•Œã‚’æ˜ç¢ºã«å®šç¾©ã—ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ã‚’é¿ã‘ã‚‹\n4. å„è­°é¡Œã«è©²å½“ã™ã‚‹line_idã®ãƒªã‚¹ãƒˆã‚’å‡ºåŠ›\n\nã€å‡ºåŠ›å½¢å¼ã€‘\n{\n  \"agendas\": [\n    {\n      \"agenda_id\": 1,\n      \"title\": \"è­°é¡Œã‚¿ã‚¤ãƒˆãƒ«\",\n      \"line_ids\": [1, 2, 3, 15, 16, 17],\n      \"start_time\": \"00:05:20\",\n      \"end_time\": \"00:15:45\"\n    }\n  ]\n}",
  "hasOutputParser": false,
  "options": {
    "systemMessage": "ã‚ãªãŸã¯è­°äº‹éŒ²æ§‹é€ åŒ–ã®å°‚é–€å®¶ã§ã™ã€‚è­°é¡Œã¨æ–‡å­—èµ·ã“ã—å…¨ä½“ã‹ã‚‰ã€å„è­°é¡Œã«è©²å½“ã™ã‚‹æ–‡å­—èµ·ã“ã—ã‚’æ­£ç¢ºã«æŠ½å‡ºã—ã€æ§‹é€ åŒ–ã•ã‚ŒãŸæƒ…å ±ã¨ã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚æ™‚ç³»åˆ—ã¨æ–‡è„ˆã‚’é‡è¦–ã—ã€è­°é¡Œã®å¢ƒç•Œã‚’æ˜ç¢ºã«å®šç¾©ã—ã¦ãã ã•ã„ã€‚",
    "temperature": 0.4,
    "maxTokens": 4000,
    "memoryType": "simpleMemory",
    "sessionKey": "step3_memory"
  },
  "onError": "continueRegularOutput",
  "retryOnFail": true,
  "maxTries": 3,
  "waitBetweenTries": 1000
}
```

**Chat Model**: @n8n/n8n-nodes-langchain.lmChatGoogleGemini (gemini-2.5-flash)
**Memory**: @n8n/n8n-nodes-langchain.memoryBufferWindow (step3_memory)

**Step3ã®é‡è¦æ€§ï¼ˆStep020ã‚ˆã‚Šï¼‰**:
- å„è­°é¡Œã«è©²å½“ã™ã‚‹æ–‡å­—èµ·ã“ã—ã‚’æ­£ç¢ºã«æŠ½å‡ºãƒ»å‰²ã‚Šå½“ã¦
- è­°é¡Œã”ã¨ã®æ™‚ç³»åˆ—æƒ…å ±ã‚’æ˜ç¢ºåŒ–
- Step4ï¼ˆè­°é¡Œåˆ†æï¼‰ã®ç²¾åº¦å‘ä¸Šã«è²¢çŒ®
- ã‚³ã‚¹ãƒˆå¢—: +$0.558/å®Ÿè¡Œï¼ˆå“è³ªå‘ä¸Šã¨ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ï¼‰

---

#### AI Agent Step4: è­°é¡Œåˆ†æï¼ˆä¸¦åˆ—å‡¦ç†ï¼‰

**è¨­å®šè©³ç´°ï¼ˆsystemMessage + ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–ç‰ˆï¼‰**:
```json
{
  "promptType": "define",
  "text": "ä»¥ä¸‹ã®è­°é¡Œã«é–¢ã™ã‚‹æ–‡å­—èµ·ã“ã—ã‹ã‚‰ã€æ±ºå®šäº‹é …ã€å®¿é¡Œã€ä¿ç•™äº‹é …ã‚’æŠ½å‡ºã—ã¦ãã ã•ã„ï¼š\n\nã€è­°é¡Œã€‘\n{{ $json.title }}\n\nã€æ–‡å­—èµ·ã“ã—ã€‘\n{{ $json.lines }}\n\nã€æŒ‡ç¤ºã€‘\n1. æ±ºå®šäº‹é …ï¼ˆdecisionsï¼‰: æ˜ç¢ºã«æ±ºã¾ã£ãŸã“ã¨\n2. å®¿é¡Œï¼ˆtodosï¼‰: èª°ã‹ãŒå®Ÿæ–½ã™ã¹ãã‚¿ã‚¹ã‚¯\n3. ä¿ç•™äº‹é …ï¼ˆpendingï¼‰: æ±ºå®šã•ã‚Œãªã‹ã£ãŸã€ã¾ãŸã¯æ¬¡å›ã«æŒã¡è¶Šã™äº‹é …\n\nã€å‡ºåŠ›å½¢å¼ã€‘\n{\n  \"agenda_id\": {{ $json.agenda_id }},\n  \"decisions\": [\"æ±ºå®šäº‹é …1\", \"æ±ºå®šäº‹é …2\"],\n  \"todos\": [\"å®¿é¡Œ1\", \"å®¿é¡Œ2\"],\n  \"pending\": [\"ä¿ç•™äº‹é …1\"]\n}",
  "hasOutputParser": false,
  "options": {
    "systemMessage": "ã‚ãªãŸã¯è­°äº‹éŒ²åˆ†æã®å°‚é–€å®¶ã§ã™ã€‚ä¼šè­°ã®è­°é¡Œã”ã¨ã«ã€æ±ºå®šäº‹é …ã€å®¿é¡Œã€ä¿ç•™äº‹é …ã‚’æ­£ç¢ºã«æŠ½å‡ºã—ã¾ã™ã€‚æ›–æ˜§ãªæƒ…å ±ã¯ä¿ç•™äº‹é …ã¨ã—ã¦åˆ†é¡ã—ã¦ãã ã•ã„ã€‚",
    "temperature": 0.4,
    "maxTokens": 4000
  },
  "onError": "continueRegularOutput",
  "retryOnFail": true,
  "maxTries": 3,
  "waitBetweenTries": 1000
}
```

**Chat Model**: @n8n/n8n-nodes-langchain.lmChatGoogleGemini (gemini-2.5-flash)

---

#### AI Agent Step5: ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›

**è¨­å®šè©³ç´°ï¼ˆsystemMessage + Memory + ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–ç‰ˆï¼‰**:
```json
{
  "promptType": "define",
  "text": "ä»¥ä¸‹ã®ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ã€æŒ‡å®šãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®Markdownè­°äº‹éŒ²ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ï¼š\n\nã€ãƒ‡ãƒ¼ã‚¿ã€‘\n- ä¼šè­°å: {{ $('Step2').first().json.meeting_name }}\n- ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆæ—¥æ™‚: {{ $('Trigger').first().json.createdTime }}\n- è­°é¡Œä¸€è¦§: {{ $('Step4 Merge').all() }}\n- å…¨æ–‡å­—èµ·ã“ã—: {{ $('Step1 Merge').first().json.lines }}\n\nã€æŒ‡å®šãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€‘\n# ç›®çš„ãƒ»èƒŒæ™¯\n{AIãŒæŠ½å‡ºã—ãŸä¼šè­°ã®ç›®çš„}\n\n# æ—¥æ™‚\n{YYYY} å¹´ {MM} æœˆ {DD} æ—¥ï¼ˆ{æ›œæ—¥}ï¼‰ {HH}:{mm} ã€œ {HH}:{mm}\n\n# å‚åŠ è€…\n{AIãŒæŠ½å‡ºã—ãŸå‚åŠ è€…}ã€ä¸‡å£½æœ¬\n\n# å®¿é¡Œäº‹é …\n- {å®¿é¡Œ1}\n- {å®¿é¡Œ2}\n\n# æ±ºå®šäº‹é …\n- {æ±ºå®šäº‹é …1}\n- {æ±ºå®šäº‹é …2}\n\n# æ¬¡å›ã®æ—¥æ™‚\n{YYYY} å¹´ {MM} æœˆ {DD} æ—¥ï¼ˆ{æ›œæ—¥}ï¼‰ {HH}:{mm} ã€œ {HH}:{mm}\n\n# è­°äº‹å†…å®¹\n## æœ¬æ—¥ã®è­°é¡Œ\n- [ ] è­°é¡Œ1ï¼š{è­°é¡Œã‚¿ã‚¤ãƒˆãƒ«1}\n- [ ] è­°é¡Œ2ï¼š{è­°é¡Œã‚¿ã‚¤ãƒˆãƒ«2}\n\n## è­°é¡Œ1ï¼š{è­°é¡Œã‚¿ã‚¤ãƒˆãƒ«1}\n- {ç®‡æ¡æ›¸ãå†…å®¹1}\n- {ç®‡æ¡æ›¸ãå†…å®¹2}\n\nã€å‡ºåŠ›ã€‘\nå®Œå…¨ãªMarkdownãƒ†ã‚­ã‚¹ãƒˆã‚’è¿”ã—ã¦ãã ã•ã„ã€‚",
  "hasOutputParser": false,
  "options": {
    "systemMessage": "ã‚ãªãŸã¯ãƒ“ã‚¸ãƒã‚¹æ–‡æ›¸ä½œæˆã®å°‚é–€å®¶ã§ã™ã€‚ä¼šè­°ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ã€æŒ‡å®šã•ã‚ŒãŸãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«å¾“ã£ãŸå®Œå…¨ãªè­°äº‹éŒ²ã‚’ä½œæˆã—ã¾ã™ã€‚ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’å³å¯†ã«éµå®ˆã—ã€ã™ã¹ã¦ã®å¿…é ˆé …ç›®ã‚’å«ã‚ã¦ãã ã•ã„ã€‚",
    "temperature": 0.7,
    "maxTokens": 8000,
    "memoryType": "simpleMemory",
    "sessionKey": "step5_memory"
  },
  "onError": "continueRegularOutput",
  "retryOnFail": true,
  "maxTries": 3,
  "waitBetweenTries": 1000
}
```

**Chat Model**: @n8n/n8n-nodes-langchain.lmChatAnthropic (claude-4-5-sonnet-20250929)
**Memory**: @n8n/n8n-nodes-langchain.memoryBufferWindow (step5_memory)

---

#### AI Agent Step6: å“è³ªä¿è¨¼

**è¨­å®šè©³ç´°ï¼ˆsystemMessage + Memory + ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–ç‰ˆï¼‰**:
```json
{
  "promptType": "define",
  "text": "ä»¥ä¸‹ã®è­°äº‹éŒ²ã®å®Œå…¨æ€§ã‚’æ¤œè¨¼ã—ã€ä¸è¶³é …ç›®ãŒã‚ã‚Œã°è£œå®Œã—ã¦ãã ã•ã„ï¼š\n\nã€ç”Ÿæˆã•ã‚ŒãŸè­°äº‹éŒ²ã€‘\n{{ $('Step5').first().json.markdown }}\n\nã€å…ƒãƒ‡ãƒ¼ã‚¿ã€‘\n- å…¨è­°é¡Œ: {{ $('Step4 Merge').all() }}\n- å…¨æ–‡å­—èµ·ã“ã—: {{ $('Step1 Merge').first().json.lines }}\n\nã€æ¤œè¨¼é …ç›®ã€‘\n1. å¿…é ˆé …ç›®ãŒæƒã£ã¦ã„ã‚‹ã‹ï¼ˆç›®çš„ãƒ»èƒŒæ™¯ã€æ—¥æ™‚ã€å‚åŠ è€…ã€å®¿é¡Œäº‹é …ã€æ±ºå®šäº‹é …ã€è­°äº‹å†…å®¹ï¼‰\n2. å„è­°é¡Œã®å†…å®¹ãŒé©åˆ‡ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã‹\n3. æ±ºå®šäº‹é …ã¨å®¿é¡ŒãŒæ¼ã‚Œãªãè¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã‹\n4. æ–‡å­—èµ·ã“ã—ã®é‡è¦ãªå†…å®¹ãŒæŠœã‘ã¦ã„ãªã„ã‹\n\nã€æŒ‡ç¤ºã€‘\n- å•é¡ŒãŒãªã‘ã‚Œã°ã€è­°äº‹éŒ²ã‚’ãã®ã¾ã¾è¿”ã™\n- ä¸è¶³ãŒã‚ã‚Œã°ã€è£œå®Œã—ãŸè­°äº‹éŒ²ã‚’è¿”ã™\n- é‡å¤§ãªå•é¡ŒãŒã‚ã‚Œã°ã€è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å«ã‚ã‚‹\n\nã€å‡ºåŠ›å½¢å¼ã€‘\n{\n  \"status\": \"ok\" | \"è£œå®Œå®Ÿæ–½\" | \"è­¦å‘Š\",\n  \"markdown\": \"æœ€çµ‚è­°äº‹éŒ²\",\n  \"warnings\": [\"è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1\", ...]\n}",
  "hasOutputParser": false,
  "options": {
    "systemMessage": "ã‚ãªãŸã¯å“è³ªä¿è¨¼ã®å°‚é–€å®¶ã§ã™ã€‚ç”Ÿæˆã•ã‚ŒãŸè­°äº‹éŒ²ãŒå®Œå…¨ã§æ­£ç¢ºã§ã‚ã‚‹ã“ã¨ã‚’æ¤œè¨¼ã—ã€å¿…è¦ã«å¿œã˜ã¦è£œå®Œã—ã¾ã™ã€‚é‡è¦ãªæƒ…å ±ãŒæ¬ è½ã—ã¦ã„ãªã„ã‹å³å¯†ã«ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚",
    "temperature": 0.7,
    "maxTokens": 8000,
    "memoryType": "simpleMemory",
    "sessionKey": "step6_memory"
  },
  "onError": "continueRegularOutput",
  "retryOnFail": true,
  "maxTries": 3,
  "waitBetweenTries": 1000
}
```

**Chat Model**: @n8n/n8n-nodes-langchain.lmChatAnthropic (claude-4-5-sonnet-20250929)
**Memory**: @n8n/n8n-nodes-langchain.memoryBufferWindow (step6_memory)

---

### çµ±åˆå±¤ï¼ˆL6ï¼‰

| ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ— | typeVersion | æ“ä½œ | è¨­å®š |
|------------|-------------|------|------|
| n8n-nodes-base.googleDrive | **3** | upload | resource: `file`<br>operation: `upload`<br>fileName: `minutes - YYYY-MM-DD - {ä¼šè­°å}.md` |
| n8n-nodes-base.googleDrive | **3** | move | resource: `file`<br>operation: `move`<br>destination: `processed/` |
| n8n-nodes-base.httpRequest | **4** | POST | method: `POST`<br>url: Discord Webhook URL<br>bodyContentType: `json` |

**è­°äº‹éŒ²ä¿å­˜è¨­å®š**:
```json
{
  "resource": "file",
  "operation": "upload",
  "folderId": {
    "mode": "list",
    "value": "è­°äº‹éŒ²_å‡ºåŠ›ãƒ•ã‚©ãƒ«ãƒ€ID"
  },
  "name": "minutes - {{ $now.format('YYYY-MM-DD') }} - {{ $('Step2').first().json.meeting_name }}.md",
  "fileContent": {
    "mode": "text",
    "text": "={{ $('Step6').first().json.markdown }}"
  },
  "options": {
    "mimeType": "text/markdown"
  },
  "authentication": "oAuth2"
}
```

**Discordé€šçŸ¥è¨­å®š**:
```json
{
  "resource": "message",
  "operation": "send",
  "webhookUrl": "={{ $env.DISCORD_WEBHOOK_URL }}",
  "content": "âœ… è­°äº‹éŒ²ç”Ÿæˆå®Œäº†\nãƒ•ã‚¡ã‚¤ãƒ«: {{ $('Trigger').first().json.name }}\nè­°äº‹éŒ²: {{ $('è­°äº‹éŒ²ä¿å­˜').first().json.webViewLink }}\nå‡¦ç†æ™‚é–“: {{ $workflow.duration }}ç§’"
}
```

### å‡ºåŠ›å±¤ï¼ˆL7ï¼‰

| ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ— | typeVersion | è¨­å®š |
|------------|-------------|------|
| n8n-nodes-base.set | **3** | values: å‡¦ç†çµæœãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ |

### ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å±¤ï¼ˆL12ï¼‰

| ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ— | typeVersion | ç”¨é€” | è¨­å®š |
|------------|-------------|------|------|
| n8n-nodes-base.splitInBatches | **3** | ãƒãƒ£ãƒ³ã‚¯ä¸¦åˆ— | batchSize: `5` |
| n8n-nodes-base.splitInBatches | **3** | è­°é¡Œä¸¦åˆ— | batchSize: `3` |
| n8n-nodes-base.merge | **3.2** | ãƒãƒ£ãƒ³ã‚¯çµ±åˆ | mode: `append` |
| n8n-nodes-base.merge | **3.2** | è­°é¡Œçµ±åˆ | mode: `append` |

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å±¤ï¼ˆL8ï¼‰

| ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ— | typeVersion | ç”¨é€” |
|------------|-------------|------|
| n8n-nodes-base.errorTrigger | **1** | ã‚¨ãƒ©ãƒ¼ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒˆãƒªã‚¬ãƒ¼ |

---

## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¨­è¨ˆ

### Error Triggeråˆ¥ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ§‹æˆ

Error Triggerã¯**ãƒ¡ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¨ã¯åˆ¥ã®ç‹¬ç«‹ã—ãŸãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**ã¨ã—ã¦ä½œæˆã—ã¾ã™ã€‚

#### ã‚¨ãƒ©ãƒ¼ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ§‹æˆ

```
[E1: Error Trigger] â†’ [E2: Code: ã‚¨ãƒ©ãƒ¼æƒ…å ±æ•´ç†] â†’ [E3: IF: ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥åˆ¤å®š]
  â”œâ”€ [Fireworkså¤±æ•—] â†’ [E4: Google Drive: /ã‚¨ãƒ©ãƒ¼/ç§»å‹•] â†’ [E5: Discordé€šçŸ¥]
  â”œâ”€ [AIå¤±æ•—] â†’ [E4: Google Drive: [ERROR]ä¿å­˜] â†’ [E5: Discordé€šçŸ¥]
  â””â”€ [Driveå¤±æ•—] â†’ [E5: Discordé€šçŸ¥ã®ã¿]
```

#### ãƒ¡ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¨ã®é€£æº

1. **ãƒ¡ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®è¨­å®š**:
   - ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­å®šç”»é¢ã‚’é–‹ã
   - Settings > Error Workflow
   - ã‚¨ãƒ©ãƒ¼ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’é¸æŠ

2. **ã‚¨ãƒ©ãƒ¼æƒ…å ±ã®å—ã‘æ¸¡ã—**:
   - Error TriggerãŒè‡ªå‹•çš„ã«ã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’å—ä¿¡
   - `$json.error`: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
   - `$json.node`: ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿãƒãƒ¼ãƒ‰å
   - `$json.execution`: å®Ÿè¡ŒID

#### ã‚¨ãƒ©ãƒ¼åˆ†é¡ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆE2: Codeï¼‰

```javascript
const error = $json.error || {};
const node = $json.node || '';
const message = error.message || '';

// ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥ã‚’åˆ¤å®š
let errorType = 'unknown';
if (node.includes('Fireworks') || node.includes('httpRequest')) {
  errorType = 'fireworks';
} else if (node.includes('AI Agent') || node.includes('agent')) {
  errorType = 'ai';
} else if (node.includes('Google Drive') || node.includes('googleDrive')) {
  errorType = 'drive';
}

return [{
  json: {
    errorType,
    errorNode: node,
    errorMessage: message,
    executionId: $json.execution?.id,
    timestamp: new Date().toISOString()
  }
}];
```

---

## ã‚³ã‚¹ãƒˆè©¦ç®—ï¼ˆStep020æº–æ‹ ï¼‰

### Fireworks AI Whisper v3æ¡ç”¨ã«ã‚ˆã‚‹ã‚³ã‚¹ãƒˆå‰Šæ¸›åŠ¹æœ

| é …ç›® | Deepgramï¼ˆæ—§æ–¹å¼ï¼‰ | Fireworks Whisper v3ï¼ˆæ–°æ–¹å¼ï¼‰ | å‰Šæ¸›ç‡ |
|------|------------------|----------------------------|-------|
| **æ–‡å­—èµ·ã“ã—ã‚³ã‚¹ãƒˆ** | $15.48/æ™‚é–“ | **$0.126/æ™‚é–“** | **99%å‰Šæ¸›** |
| **å‡¦ç†é€Ÿåº¦** | 1æ™‚é–“éŸ³å£° â†’ ç´„80ç§’ | **1æ™‚é–“éŸ³å£° â†’ ç´„4ç§’** | **95%é«˜é€ŸåŒ–** |
| **è©±è€…åˆ†é›¢** | ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ–™é‡‘ | æ¨™æº–æ©Ÿèƒ½ï¼ˆè¿½åŠ æ–™é‡‘ãªã—ï¼‰ | - |

### ç·ã‚³ã‚¹ãƒˆè©¦ç®—ï¼ˆæœˆé–“20å›å‡¦ç†ã®å ´åˆï¼‰

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | ãƒ¢ãƒ‡ãƒ« | ã‚³ã‚¹ãƒˆï¼ˆæœˆé–“ï¼‰ |
|-------------|-------|------------|
| **æ–‡å­—èµ·ã“ã—ï¼ˆL4ï¼‰** | Fireworks Whisper v3 | **$0.042** (20æ™‚é–“ Ã— $0.0021) |
| **AI Agent Step1-4** | Gemini Flash 2.5 | $0.07 |
| **AI Agent Step5-6** | Claude Sonnet 4.5 | $3.00 |
| **Step3è¿½åŠ ã‚³ã‚¹ãƒˆ** | Gemini Flash 2.5 | $0.558 |
| **ç·ã‚³ã‚¹ãƒˆ** | - | **ç´„$3.67/æœˆï¼ˆâ‰ˆÂ¥540/æœˆï¼‰** |

**Fireworksæ¡ç”¨ã«ã‚ˆã‚‹ç·å‰Šæ¸›åŠ¹æœ**: å¾“æ¥æ¯”93%å‰Šæ¸›

---

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦å›³ï¼ˆMermaidï¼‰

### 12å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å…¨ä½“åƒ

```mermaid
graph TB
    subgraph "Data Flow Layers (L1-L7)"
        L1[L1: Trigger<br/>Google Driveæ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«æ¤œçŸ¥]
        L2[L2: Input<br/>M4Aãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰]
        L3[L3: Validation<br/>ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼æ¤œè¨¼]
        L4[L4: Transformation<br/>âœ… Fireworks Whisper v3æ–‡å­—èµ·ã“ã—<br/>âœ… ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²<br/>âœ… ãƒ‡ãƒ¼ã‚¿å†æ§‹æˆ<br/>âœ… é‡è¤‡é™¤å»]
        L5[L5: Core Logic AI<br/>âœ… Step1: æ–‡å­—èµ·ã“ã—æ•´å½¢<br/>âœ… Step2: è­°é¡ŒæŠ½å‡º<br/>ğŸ†• Step3: è­°é¡Œåˆ¥ãƒãƒƒãƒ”ãƒ³ã‚°<br/>âœ… Step4: è­°é¡Œåˆ†æ<br/>âœ… Step5: ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›<br/>âœ… Step6: å“è³ªä¿è¨¼<br/>+ systemMessage + ãƒªãƒˆãƒ©ã‚¤]
        L6[L6: Integration<br/>Discordé€šçŸ¥]
        L7[L7: Output<br/>è­°äº‹éŒ²ä¿å­˜<br/>M4Aç§»å‹•]
    end

    subgraph "Cross-Cutting Concerns (L8-L12)"
        L8[L8: Error Handling<br/>âœ… Error Workflow<br/>âœ… AI Agentå…¨6å€‹ãƒªãƒˆãƒ©ã‚¤<br/>ã‚¨ãƒ©ãƒ¼åˆ†é¡ãƒ»é€šçŸ¥]
        L9[L9: Security<br/>OAuth2èªè¨¼<br/>API Keyç®¡ç†<br/>Fireworks + Claude]
        L10[L10: Monitoring<br/>Sticky Note<br/>å‡¦ç†ãƒ­ã‚°<br/>Discordç›£è¦–]
        L11[L11: Performance<br/>ãƒãƒ£ãƒ³ã‚¯5ä¸¦åˆ—<br/>è­°é¡Œ3ä¸¦åˆ—<br/>3åˆ†ä»¥å†…ç›®æ¨™<br/>99%ã‚³ã‚¹ãƒˆå‰Šæ¸›]
        L12[L12: Orchestration<br/>Filteråˆ¤å®š<br/>Mergeçµ±åˆÃ—2]
    end

    L1 --> L2 --> L3 --> L4 --> L5 --> L6 --> L7
    L8 -.ã‚¨ãƒ©ãƒ¼æ™‚.-> L1 & L2 & L3 & L4 & L5 & L6 & L7
    L9 -.èªè¨¼.-> L1 & L2 & L6 & L7
    L10 -.ç›£è¦–.-> L1 & L2 & L3 & L4 & L5 & L6 & L7
    L11 -.ä¸¦åˆ—åŒ–.-> L4 & L5
    L12 -.åˆ¶å¾¡.-> L3 & L5 & L7

    style L4 fill:#e1f5e1
    style L5 fill:#f3e5f5
    style L8 fill:#ffebee
    style L11 fill:#fff4e6
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼è©³ç´°å›³

```mermaid
graph TB
    T1[L1: Google Drive Trigger<br/>M4Aãƒ•ã‚¡ã‚¤ãƒ«æ¤œçŸ¥]
    T2[L2: M4Aãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰]
    V1[L3: Filteræ¤œè¨¼<br/>mimeType + size + name]

    subgraph "L4: Transformationå±¤"
        W1[Fireworks Whisper v3<br/>HTTP Request POST]
        C1[Code: ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²<br/>25è¡Œ + ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—6]
        S1[Split in Batches<br/>5ä¸¦åˆ—]
    end

    subgraph "L5: Core Logic AIå±¤ï¼ˆ6ã‚¹ãƒ†ãƒƒãƒ—ï¼‰"
        A1[AI Agent Step1<br/>æ–‡å­—èµ·ã“ã—æ•´å½¢<br/>Gemini + ãƒªãƒˆãƒ©ã‚¤]
        M1[Merge: ãƒãƒ£ãƒ³ã‚¯çµ±åˆ]
        C2[Code: é‡è¤‡é™¤å»<br/>line_id]
        A2[AI Agent Step2<br/>è­°é¡ŒæŠ½å‡º<br/>Gemini + Memory]
        A3[ğŸ†• AI Agent Step3<br/>è­°é¡Œåˆ¥ãƒãƒƒãƒ”ãƒ³ã‚°<br/>Gemini + Memory]
        C3[Code: ãƒ‡ãƒ¼ã‚¿å†æ§‹æˆ<br/>è­°é¡Œåˆ¥linesåé›†]
        S2[Split in Batches<br/>3ä¸¦åˆ—]
        A4[AI Agent Step4<br/>è­°é¡Œåˆ†æ<br/>Gemini + ãƒªãƒˆãƒ©ã‚¤]
        M2[Merge: è­°é¡Œçµ±åˆ]
        C4[Code: é‡è¤‡é™¤å»<br/>agenda_id]
        A5[AI Agent Step5<br/>Markdownç”Ÿæˆ<br/>Claude + Memory]
        A6[AI Agent Step6<br/>å“è³ªä¿è¨¼<br/>Claude + Memory]
    end

    subgraph "L6-L7: Integration + Outputå±¤"
        D1[Google Drive: è­°äº‹éŒ²ä¿å­˜]
        D2[Google Drive: M4Aç§»å‹•]
        D3[Discord: å®Œäº†é€šçŸ¥]
        O1[Set: å‡¦ç†çµæœã‚»ãƒƒãƒˆ]
    end

    T1 --> T2 --> V1 --> W1 --> C1 --> S1
    S1 -->|Output 1: loop| A1
    A1 -->|ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯| S1
    S1 -->|Output 0: done| M1
    M1 --> C2 --> A2 --> A3 --> C3 --> S2
    S2 -->|Output 1: loop| A4
    A4 -->|ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯| S2
    S2 -->|Output 0: done| M2
    M2 --> C4 --> A5 --> A6 --> D1 --> D2 --> D3 --> O1

    style W1 fill:#e1f5e1
    style A3 fill:#ffe1e1
    style A1 fill:#f3e5f5
    style A2 fill:#f3e5f5
    style A4 fill:#f3e5f5
    style A5 fill:#e1e5f5
    style A6 fill:#e1e5f5
```

---

## ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼è¨­è¨ˆ

### å…¥åŠ›ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼ˆL1 Google Drive Triggerï¼‰

```json
{
  "id": "file_id_xxx",
  "name": "ä¼šè­°éŒ².m4a",
  "mimeType": "audio/m4a",
  "createdTime": "2025-11-12T10:00:00Z",
  "size": 123456789,
  "parents": ["1Ddh7AFQooIcogKZeLNnWPqzrq2DX97QH"]
}
```

### ãƒ‡ãƒ¼ã‚¿å¤‰æ›ãƒ•ãƒ­ãƒ¼

| å±¤ | å…¥åŠ› | å‡¦ç† | å‡ºåŠ› | Expressionä¾‹ |
|----|------|------|------|-------------|
| L1 | - | ãƒˆãƒªã‚¬ãƒ¼ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ | - |
| L2 | ãƒ•ã‚¡ã‚¤ãƒ«ID | ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ | M4Aãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿ | `={{ $json.id }}` |
| L3 | mimeType, size | æ¤œè¨¼ | æ¤œè¨¼çµæœï¼ˆtrue/falseï¼‰ | `={{ $json.mimeType === 'audio/m4a' && $json.size > 0 }}` |
| L4 | M4Aãƒã‚¤ãƒŠãƒª | **Fireworks Whisperæ–‡å­—èµ·ã“ã—** | transcript JSONé…åˆ— | Fireworks APIå‡ºåŠ› |
| L4 | transcripté…åˆ— | ãƒãƒ£ãƒ³ã‚¯åˆ†å‰² | chunksé…åˆ—ï¼ˆã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ä»˜ãï¼‰ | Code Nodeå‡¦ç† |
| L11 | chunksé…åˆ— | ä¸¦åˆ—å‡¦ç†ï¼ˆ5ä¸¦åˆ—ï¼‰ | - | Split in Batches [Output 1] |
| L5 | chunk + overlap | AIæ•´å½¢ï¼ˆGemini + ãƒªãƒˆãƒ©ã‚¤ï¼‰ | æ•´å½¢æ¸ˆã¿JSONé…åˆ— | AI Agent Step1 |
| L11 | å…¨ãƒãƒ£ãƒ³ã‚¯ | çµ±åˆ | çµ±åˆJSONé…åˆ— | Merge [append] |
| L4 | çµ±åˆJSONé…åˆ— | é‡è¤‡é™¤å» | ãƒ¦ãƒ‹ãƒ¼ã‚¯JSONé…åˆ— | Code Nodeï¼ˆline_idï¼‰ |
| L5 | ãƒ¦ãƒ‹ãƒ¼ã‚¯JSONé…åˆ— | AIè­°é¡ŒæŠ½å‡ºï¼ˆGemini + Memoryï¼‰ | è­°é¡ŒJSON | AI Agent Step2 |
| L5 | è­°é¡ŒJSON + å…¨æ–‡å­—èµ·ã“ã— | **AIè­°é¡Œåˆ¥ãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆGemini + Memoryï¼‰** | è­°é¡Œåˆ¥line_ids | AI Agent Step3ï¼ˆæ–°è¦ï¼‰ |
| L4 | è­°é¡Œåˆ¥line_ids + çµ±åˆJSON | ãƒ‡ãƒ¼ã‚¿å†æ§‹æˆ | è­°é¡Œåˆ¥ãƒ‡ãƒ¼ã‚¿é…åˆ— | Code Nodeå‡¦ç† |
| L11 | è­°é¡Œåˆ¥ãƒ‡ãƒ¼ã‚¿é…åˆ— | ä¸¦åˆ—å‡¦ç†ï¼ˆ3ä¸¦åˆ—ï¼‰ | - | Split in Batches [Output 1] |
| L5 | è­°é¡Œãƒ‡ãƒ¼ã‚¿ | AIåˆ†æï¼ˆGemini + ãƒªãƒˆãƒ©ã‚¤ï¼‰ | è­°é¡Œåˆ†æJSON | AI Agent Step4 |
| L11 | å…¨è­°é¡Œåˆ†æ | çµ±åˆ | çµ±åˆè­°é¡Œåˆ†æJSON | Merge [append] |
| L4 | çµ±åˆè­°é¡Œåˆ†æJSON | é‡è¤‡é™¤å» | ãƒ¦ãƒ‹ãƒ¼ã‚¯è­°é¡Œåˆ†æJSON | Code Nodeï¼ˆagenda_idï¼‰ |
| L5 | å…¨ãƒ‡ãƒ¼ã‚¿ | Markdownç”Ÿæˆï¼ˆClaude + Memoryï¼‰ | Markdownè­°äº‹éŒ² | AI Agent Step5 |
| L5 | Markdown | å“è³ªä¿è¨¼ï¼ˆClaude + Memoryï¼‰ | æœ€çµ‚Markdown | AI Agent Step6 |
| L6 | Markdown | Google Driveä¿å­˜ | ä¿å­˜å®Œäº† | ãƒ•ã‚¡ã‚¤ãƒ«å: `minutes - YYYY-MM-DD - {ä¼šè­°å}.md` |
| L6 | ãƒ•ã‚¡ã‚¤ãƒ«ID | M4Aç§»å‹• | ç§»å‹•å®Œäº† | ç§»å‹•å…ˆ: `processed/` |
| L6 | å‡¦ç†çµæœ | Discordé€šçŸ¥ | é€šçŸ¥å®Œäº† | `={{ $json.meeting_name }}` |
| L7 | å…¨å‡¦ç†çµæœ | çµæœã‚»ãƒƒãƒˆ | æœ€çµ‚å‡ºåŠ› | `={{ { status: 'success', timestamp: $now } }}` |

### å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼ˆL7 æœ€çµ‚å‡ºåŠ›ï¼‰

```json
{
  "status": "success",
  "meeting_name": "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®šä¾‹ä¼šè­°",
  "file_id": "file_id_xxx",
  "original_file": "ä¼šè­°éŒ².m4a",
  "saved_file": "minutes - 2025-11-12 - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®šä¾‹ä¼šè­°.md",
  "saved_path": "è­°äº‹éŒ²_å‡ºåŠ›/minutes - 2025-11-12 - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®šä¾‹ä¼šè­°.md",
  "moved_path": "processed/ä¼šè­°éŒ².m4a",
  "processing_time": "2åˆ†45ç§’",
  "timestamp": "2025-11-12T10:02:45Z"
}
```

---

## æ¬¡ã‚¹ãƒ†ãƒƒãƒ—ã¸ã®å¼•ãç¶™ãäº‹é …

### ç·ãƒãƒ¼ãƒ‰æ•°è¦‹ç©ã‚‚ã‚Šï¼ˆç¢ºå®šï¼‰

**ãƒ¡ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**: 23ãƒãƒ¼ãƒ‰
- ãƒˆãƒªã‚¬ãƒ¼ãƒ»å…¥åŠ›: 3ãƒãƒ¼ãƒ‰
- æ¤œè¨¼: 1ãƒãƒ¼ãƒ‰
- å¤‰æ›: 9ãƒãƒ¼ãƒ‰ï¼ˆFireworks Whisperã€ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²ã€é‡è¤‡é™¤å»x2ã€è­°é¡Œå†æ§‹æˆå«ã‚€ï¼‰
- ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: 4ãƒãƒ¼ãƒ‰ï¼ˆSplit in Batches x2, Merge x2ï¼‰
- AIå‡¦ç†: **6ãƒãƒ¼ãƒ‰**ï¼ˆAI Agent x 6ã€**Step3è¿½åŠ **ï¼‰
- çµ±åˆãƒ»å‡ºåŠ›: 4ãƒãƒ¼ãƒ‰

**ã‚¨ãƒ©ãƒ¼ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆåˆ¥WFï¼‰**: 5ãƒãƒ¼ãƒ‰
- Error Triggerã€åˆ†é¡ã€ç§»å‹•ã€é€šçŸ¥

**åˆè¨ˆ**: 28ãƒãƒ¼ãƒ‰

### AI Agenté…ç½®å±¤

ã™ã¹ã¦AI Agentã¯L5ï¼ˆCore Logicï¼‰å±¤ã«é…ç½®ï¼š

1. **AI Agent Step1**ï¼ˆL5ï¼‰: æ–‡å­—èµ·ã“ã—æ•´å½¢ - Gemini Flash 2.5
   - Chat Model: `models/gemini-2.5-flash`
   - Memory: ãªã—ï¼ˆä¸¦åˆ—å‡¦ç†ï¼‰
   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: ãƒªãƒˆãƒ©ã‚¤æœ€å¤§3å›

2. **AI Agent Step2**ï¼ˆL5ï¼‰: è­°é¡ŒæŠ½å‡º - Gemini Flash 2.5
   - Chat Model: `models/gemini-2.5-flash`
   - Memory: ã‚ã‚Šï¼ˆ`step2_memory`ï¼‰
   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: ãƒªãƒˆãƒ©ã‚¤æœ€å¤§3å›

3. **ğŸ†• AI Agent Step3**ï¼ˆL5ï¼‰: è­°é¡Œåˆ¥æ–‡å­—èµ·ã“ã—ãƒãƒƒãƒ”ãƒ³ã‚° - Gemini Flash 2.5
   - Chat Model: `models/gemini-2.5-flash`
   - Memory: ã‚ã‚Šï¼ˆ`step3_memory`ï¼‰
   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: ãƒªãƒˆãƒ©ã‚¤æœ€å¤§3å›
   - **Step020ã§è¿½åŠ ã•ã‚ŒãŸæ–°è¦ã‚¹ãƒ†ãƒƒãƒ—**

4. **AI Agent Step4**ï¼ˆL5ï¼‰: è­°é¡Œåˆ†æ - Gemini Flash 2.5
   - Chat Model: `models/gemini-2.5-flash`
   - Memory: ãªã—ï¼ˆä¸¦åˆ—å‡¦ç†ï¼‰
   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: ãƒªãƒˆãƒ©ã‚¤æœ€å¤§3å›

5. **AI Agent Step5**ï¼ˆL5ï¼‰: Markdownç”Ÿæˆ - Claude Sonnet 4.5
   - Chat Model: `claude-4-5-sonnet-20250929`
   - Memory: ã‚ã‚Šï¼ˆ`step5_memory`ï¼‰
   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: ãƒªãƒˆãƒ©ã‚¤æœ€å¤§3å›

6. **AI Agent Step6**ï¼ˆL5ï¼‰: å“è³ªä¿è¨¼ - Claude Sonnet 4.5
   - Chat Model: `claude-4-5-sonnet-20250929`
   - Memory: ã‚ã‚Šï¼ˆ`step6_memory`ï¼‰
   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: ãƒªãƒˆãƒ©ã‚¤æœ€å¤§3å›

### å¤–éƒ¨é€£æºã‚·ã‚¹ãƒ†ãƒ 

- **Google Drive**: OAuth2èªè¨¼
  - ãƒˆãƒªã‚¬ãƒ¼: ãƒ•ã‚¡ã‚¤ãƒ«æ¤œçŸ¥
  - å…¥åŠ›: ãƒ•ã‚¡ã‚¤ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
  - å‡ºåŠ›: è­°äº‹éŒ²ä¿å­˜ã€M4Aç§»å‹•ã€ã‚¨ãƒ©ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ç§»å‹•
- **Fireworks AI API**: `FIREWORKS_API_KEY`ï¼ˆ**Step010/020è¦ä»¶**ï¼‰
  - éŸ³å£°æ–‡å­—èµ·ã“ã—ï¼ˆL4ï¼‰
  - è¶…é«˜é€Ÿãƒ»è¶…ä½ã‚³ã‚¹ãƒˆï¼ˆ$0.0021/åˆ†ï¼‰
- **Google Gemini API**: `GOOGLE_API_KEY`
  - AI Agentï¼ˆStep1-4ï¼‰
- **Anthropic Claude API**: `ANTHROPIC_API_KEY`
  - AI Agentï¼ˆStep5-6ï¼‰
- **Discord Webhookï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰**: `DISCORD_WEBHOOK_URL`
  - å®Œäº†é€šçŸ¥ã€ã‚¨ãƒ©ãƒ¼é€šçŸ¥

### ç‰¹è¨˜äº‹é …

1. **ä¸¦åˆ—å‡¦ç†æˆ¦ç•¥**:
   - ãƒãƒ£ãƒ³ã‚¯ä¸¦åˆ—å‡¦ç†: 5ä¸¦åˆ—ï¼ˆbatchSize=5ã€APIãƒ¬ãƒ¼ãƒˆåˆ¶é™è€ƒæ…®ï¼‰
   - è­°é¡Œä¸¦åˆ—å‡¦ç†: 3ä¸¦åˆ—ï¼ˆbatchSize=3ï¼‰
   - Split in Batchesã®å‡ºåŠ›: **Output 1ã‚’å‡¦ç†ãƒãƒ¼ãƒ‰ã«æ¥ç¶š**ï¼ˆé‡è¦ï¼‰
   - ä¸¦åˆ—å‡¦ç†ã§ã¯ Simple Memory ã‚’ä½¿ç”¨ã—ãªã„ï¼ˆã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ã§æ–‡è„ˆç¢ºä¿ï¼‰

2. **é‡è¤‡é™¤å»æˆ¦ç•¥**:
   - Mergeãƒãƒ¼ãƒ‰ï¼ˆappend modeï¼‰ã§çµ±åˆ
   - ç›´å¾Œã«Codeãƒãƒ¼ãƒ‰ã§é‡è¤‡é™¤å»
   - ãƒãƒ£ãƒ³ã‚¯: `line_id`ã§ãƒ¦ãƒ‹ãƒ¼ã‚¯åŒ–
   - è­°é¡Œ: `agenda_id`ã§ãƒ¦ãƒ‹ãƒ¼ã‚¯åŒ–

3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™**:
   - 1æ™‚é–“ä¼šè­°ã®å‡¦ç†æ™‚é–“: **3åˆ†ä»¥å†…**
   - æ–‡å­—èµ·ã“ã—: **4ç§’**ï¼ˆFireworks Whisper v3ï¼‰
   - AIå‡¦ç†: 2-3åˆ†

4. **ã‚³ã‚¹ãƒˆè©¦ç®—**:
   - Fireworks Whisper v3ï¼ˆL4ï¼‰: **$0.042/æœˆ**ï¼ˆæœˆé–“20æ™‚é–“å‡¦ç†ï¼‰
   - Gemini Flash 2.5ï¼ˆStep1-4ï¼‰: ç´„$0.628/æœˆ
   - Claude Sonnet 4.5ï¼ˆStep5-6ï¼‰: ç´„$3.00/æœˆ
   - **ç·ã‚³ã‚¹ãƒˆ**: ç´„$3.67/æœˆï¼ˆâ‰ˆÂ¥540/æœˆï¼‰
   - **å‰Šæ¸›åŠ¹æœ**: å¾“æ¥æ¯”93%å‰Šæ¸›

5. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**:
   - **åˆ¥ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**ã¨ã—ã¦å®Ÿè£…
   - ãƒ¡ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­å®šã§Error Workflowã‚’æŒ‡å®š
   - **AI Agentå…¨6å€‹ã«ãƒªãƒˆãƒ©ã‚¤å®Ÿè£…**ï¼ˆmaxTries=3ï¼‰
   - Fireworkså¤±æ•— â†’ `/ã‚¨ãƒ©ãƒ¼/`ãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•
   - AIå¤±æ•— â†’ `[ERROR]minutes-...`ã¨ã—ã¦éƒ¨åˆ†ä¿å­˜
   - Driveå¤±æ•— â†’ ãƒªãƒˆãƒ©ã‚¤ï¼ˆn8nã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­å®šï¼‰

---

## ã¾ã¨ã‚

Step030ï¼ˆæŠ€è¡“è¦ä»¶å¤‰æ›ï¼‰v2_æœ€çµ‚ç‰ˆãŒå®Œäº†ã—ã¾ã—ãŸã€‚

### âœ… v2_æœ€çµ‚ç‰ˆã®æ”¹å–„ç‚¹

1. **Step010/020å®Œå…¨æº–æ‹ **: Fireworks AI Whisper v3ä½¿ç”¨ã€Step3ï¼ˆè­°é¡Œåˆ¥ãƒãƒƒãƒ”ãƒ³ã‚°ï¼‰è¿½åŠ 
2. **n8n-MCPå®Œå…¨æ¤œè¨¼æ¸ˆã¿**: ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—ã¨typeVersionã‚’æ¤œè¨¼
3. **æ­£ç¢ºãªãƒ¢ãƒ‡ãƒ« ID**: Claude 4.5 Sonnet (20250929)ã€Fireworks Whisper v3
4. **systemMessageå…¨è¿½åŠ **: AI Agentå…¨6å€‹ã«ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå½¹å‰²ã‚’å®šç¾©
5. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–**: AI Agentå…¨6å€‹ã«ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½å®Ÿè£…ï¼ˆmaxTries=3ï¼‰
6. **Codeãƒãƒ¼ãƒ‰å®Œå…¨å®Ÿè£…**: ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²ã¨è­°é¡Œãƒ‡ãƒ¼ã‚¿å†æ§‹æˆã®å®Œå…¨ãªJavaScriptã‚³ãƒ¼ãƒ‰
7. **Split in Batchesè­¦å‘Š**: å‡ºåŠ›ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ç½ ã‚’æ˜ç¢ºåŒ–
8. **ã‚³ã‚¹ãƒˆè©¦ç®—è©³ç´°**: Fireworksæ¡ç”¨ã«ã‚ˆã‚‹93%å‰Šæ¸›åŠ¹æœã‚’æ˜è¨˜
9. **Error Triggerè©³ç´°åŒ–**: åˆ¥ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ§‹æˆã‚’å®Œå…¨èª¬æ˜
10. **ç·ãƒãƒ¼ãƒ‰æ•°ç¢ºå®š**: ãƒ¡ã‚¤ãƒ³23 + ã‚¨ãƒ©ãƒ¼5 = 28ãƒãƒ¼ãƒ‰

### ğŸ“Š æ¤œè¨¼å®Œäº†é …ç›®

- âœ… æ¥­å‹™è¦ä»¶ã®12å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¸ã®å®Œå…¨ãƒãƒƒãƒ”ãƒ³ã‚°
- âœ… ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å±¤ï¼ˆL1-L7ï¼‰ã®è©³ç´°è¨­è¨ˆ
- âœ… æ¨ªæ–­çš„é–¢å¿ƒäº‹å±¤ï¼ˆL8-L12ï¼‰ã®çµ±åˆè¨­è¨ˆ
- âœ… n8n-MCPã‚’ä½¿ç”¨ã—ãŸå…¨ãƒãƒ¼ãƒ‰æ¤œè¨¼
- âœ… ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼è¨­è¨ˆï¼ˆå…¥åŠ›â†’å‡¦ç†â†’å‡ºåŠ›ï¼‰
- âœ… ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦å›³ï¼ˆMermaid x 2ï¼‰
- âœ… Step010/Step020ã¨ã®æ•´åˆæ€§ç¢ºèª
- âœ… Fireworks Whisper v3æ¡ç”¨ã«ã‚ˆã‚‹ã‚³ã‚¹ãƒˆå‰Šæ¸›åŠ¹æœæ¤œè¨¼
- âœ… Step3ï¼ˆè­°é¡Œåˆ¥ãƒãƒƒãƒ”ãƒ³ã‚°ï¼‰è¿½åŠ ã«ã‚ˆã‚‹å“è³ªå‘ä¸Š

### ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

**Step040ï¼ˆã‚¿ã‚¹ã‚¯åˆ†è§£ã¨ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ï¼‰**:
- ã“ã®æŠ€è¡“è¦ä»¶æ›¸v2_æœ€çµ‚ç‰ˆã‚’åŸºã«ã€28ãƒãƒ¼ãƒ‰ã‚’å®Ÿè£…é †åºã«æ²¿ã£ã¦ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
- å„ã‚°ãƒ«ãƒ¼ãƒ—ã®è²¬å‹™å®šç¾©
- ã‚°ãƒ«ãƒ¼ãƒ—é–“ã®ä¾å­˜é–¢ä¿‚ã‚’æ˜ç¢ºåŒ–

---

**ä½œæˆæ‹…å½“**: Claude Code with n8n-MCP Server
**æ¤œè¨¼å®Œäº†æ—¥æ™‚**: 2025-11-12
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… n8n-MCPå®Œå…¨æ¤œè¨¼æ¸ˆã¿ + Step010/020å®Œå…¨æº–æ‹  - Step040æº–å‚™å®Œäº†
